(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-behalf-cashier-index"],{1706:function(t,e,r){"use strict";r.r(e);var n=r("91fd"),i=r("e068");for(var o in i)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(o);r("308c");var a=r("828b"),d=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"0f39c0db",null,!1,n["a"],void 0);e["default"]=d.exports},"308c":function(t,e,r){"use strict";var n=r("8b27f"),i=r.n(n);i.a},"6af6":function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.OrderCancel=function(t){return i.default.post("store/order/cancel/"+t)},e.OrderDel=function(t){return i.default.delete("store/order/del/"+t)},e.OrderDetail=function(t){return i.default.get("store/order/detail/"+t)},e.OrderRefund=function(t){return i.default.post("store/order/refund",t,{login:!0})},e.adminCartAdd=function(t,e){return i.default.post("admin/order/cart/add/".concat(t),e)},e.adminCartDel=function(t,e){return i.default.delete("admin/order/cart/del/".concat(t),e)},e.adminCartList=function(t,e){return i.default.get("admin/order/cart/".concat(t),e)},e.adminCartNum=function(t,e){return i.default.post("admin/order/cart/num/".concat(t),e)},e.adminCategory=function(){return i.default.get("admin/product/category")},e.adminOrderRecordList=function(t){return i.default.get("admin/order/place/list",t)},e.adminProList=function(t){return i.default.get("admin/product/list",t)},e.adminProductList=function(t){return i.default.get("admin/product/admin_list",t)},e.adminRefundList=function(t){return i.default.get("admin/refund_order/list",t)},e.adminUserAddressList=function(t,e){return i.default.get("admin/user/address/list/".concat(t),e)},e.adminUserList=function(t){return i.default.get("admin/user/list",t)},e.deliveryInfo=function(t){return i.default.get("store/delivery/info")},e.deliveryList=function(t){return i.default.get("store/delivery/data",t)},e.deliveryOrderList=function(t){return i.default.get("store/delivery/order",t)},e.deliveryStatistics=function(t){return i.default.get("store/delivery/statistics",t)},e.getAdminOrderDelivery=function(t){return i.default.get("admin/order/delivery/gain/"+t,{},{login:!0})},e.getAdminOrderDetail=function(t){return i.default.get("admin/order/detail/"+t,{},{login:!0})},e.getAdminOrderList=function(t){return i.default.get("admin/order/list",t,{login:!0})},e.getAdminRefundDetail=function(t){return i.default.get("admin/refund_order/detail/"+t,{},{login:!0})},e.getCashierApi=function(t,e){return i.default.post("admin/order/pay/".concat(t),e)},e.getCategory=function(){return i.default.get("admin/product/category")},e.getCouponsOrderPrice=function(t,e){return i.default.get("admin/order/coupons/".concat(t),e)},e.getGetAttrs=function(t){return i.default.get("admin/product/get_attr/".concat(t))},e.getGroupList=function(){return i.default.get("admin/user/group/list")},e.getLevelList=function(){return i.default.get("admin/user/level/list")},e.getListApi=function(t){return i.default.get("store/order/data",t)},e.getLogistics=function(t){return i.default.get("logistics",t,{login:!1})},e.getOrderChart=function(t){return i.default.get("admin/order/time/chart",t)},e.getOrderDelivery=function(){return i.default.get("store/delivery/list")},e.getOrderDeliveryinfoApi=function(t){return i.default.get("store/order/delivery_info/"+t)},e.getOrderExportApi=function(t){return i.default.get("store/order/export_all",t,{login:!1})},e.getOrderExportTemp=function(t){return i.default.get("store/order/export_temp",t)},e.getOrderOfflineApi=function(t){return i.default.post("store/order/offline",t)},e.getOrderPriceApi=function(t){return i.default.post("store/order/price",t)},e.getOrderStaging=function(){return i.default.get("admin/order/staging")},e.getOrderTime=function(t){return i.default.get("admin/order/time",t)},e.getOrderlistApi=function(t){return i.default.get("store/order/list",t)},e.getOrderreMarkApi=function(t){return i.default.post("store/order/remark",t)},e.getPayStatusApi=function(t){return i.default.get("admin/order/pay/status",t)},e.getProductLabel=function(){return i.default.get("admin/product/product_label")},e.getRefundMarkApi=function(t){return i.default.post("store/refund/remark",t)},e.getRefundlistApi=function(t){return i.default.get("store/refund/list",t)},e.getStatisticsInfo=function(){return i.default.get("admin/order/statistics",{},{login:!0})},e.getStatisticsListApi=function(t,e){return i.default.get("store/staff/data/"+t,e)},e.getStatisticsMonth=function(t){return i.default.get("admin/order/data",t,{login:!0})},e.getStatisticsTime=function(t){return i.default.get("admin/order/time",t,{login:!0})},e.getUserCoupon=function(t){return i.default.get("admin/user/coupon/grant",t)},e.getUserInfo=function(t){return i.default.get("admin/user/info/".concat(t))},e.getUserLabel=function(){return i.default.get("admin/user/label/0")},e.getUserList=function(t){return i.default.get("admin/user/list",t)},e.offOrderInfo=function(t){return i.default.post("admin/order/info",t)},e.openRefund=function(t,e){return i.default.post("admin/order/open/refund/".concat(t),e)},e.orderCartInfo=function(t){return i.default.post("store/order/cart_info",t)},e.orderConfirm=function(t,e){return i.default.post("admin/order/confirm/".concat(t),e)},e.orderCreate=function(t,e,r){return i.default.post("admin/order/create/".concat(t,"/").concat(e),r)},e.orderDeliveryInfo=function(){return i.default.get("admin/order/delivery_info")},e.orderExportTemp=function(t){return i.default.get("admin/order/export_temp",t)},e.orderInfo=function(t){return i.default.get("store/order/statistics",t)},e.orderOrderDelivery=function(){return i.default.get("admin/order/delivery")},e.orderRefundAgree=function(t){return i.default.post("admin/order/refund_agree/"+t)},e.orderSplitDelivery=function(t,e){return i.default.put("admin/order/split_delivery/"+t,e)},e.orderSplitInfo=function(t){return i.default.get("admin/order/split_cart_info/"+t)},e.orderVerific=function(t,e){return i.default.post("admin/order/order_verific",{code:t,auth:e})},e.orderWirteOff=function(t,e){return i.default.post("admin/order/wirteoff/".concat(t),e)},e.orderWirteOffRecords=function(t,e){return i.default.post("admin/order/wirteoff/records/".concat(t),e)},e.orderWriteoff=function(t){return i.default.post("store/order/writeoff",t)},e.orderWriteoffInfo=function(t,e){return i.default.get("store/order/writeoff_info/"+t,e)},e.postBatchProcess=function(t){return i.default.post("admin/product/batch_process",t)},e.postOrderComputed=function(t,e,r){return i.default.post("admin/order/computed/".concat(t,"/").concat(e),r)},e.postUpdateAttrs=function(t,e){return i.default.post("admin/product/update_attrs/".concat(t),e)},e.postUserUpdate=function(t){return i.default.post("admin/user/update",t)},e.postUserUpdateOther=function(t,e){return i.default.post("admin/user/update_other/".concat(t),e)},e.productSetShow=function(t){return i.default.post("admin/product/set_show",t)},e.refundDetail=function(t){return i.default.get("store/refund/detail/"+t)},e.setAdminOrderDelivery=function(t,e){return i.default.post("admin/order/delivery/keep/"+t,e,{login:!0})},e.setAdminOrderPrice=function(t){return i.default.post("admin/order/price",t,{login:!0})},e.setAdminOrderRemark=function(t){return i.default.post("admin/order/remark",t,{login:!0})},e.setAdminRefundRemark=function(t){return i.default.post("admin/refund_order/remark",t,{login:!0})},e.setOfflinePay=function(t){return i.default.post("admin/order/offline",t,{login:!0})},e.setOrderDelivery=function(t,e){return i.default.post("store/order/delivery/"+t,e,{login:!0})},e.setOrderRefund=function(t){return i.default.post("admin/order/refund",t,{login:!0})},e.statisticsMenuApi=function(t){return i.default.get("store/staff/statistics",t)},e.storeRefundAgree=function(t){return i.default.post("store/order/refund_agree/"+t)},e.storeSplitDelivery=function(t,e){return i.default.put("store/order/split_delivery/"+t,e)},e.storeSplitInfo=function(t){return i.default.get("store/order/split_cart_info/"+t)},e.userInfo=function(){return i.default.get("store/staff/info")},r("c223");var i=n(r("65455"))},"8b27f":function(t,e,r){var n=r("ed3c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("967d").default;i("9c6432c0",n,!0,{sourceMap:!1,shadowMode:!1})},"90ba":function(t,e,r){"use strict";r("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("64aa");var n={name:"countDown",props:{justifyLeft:{type:String,default:""},tipText:{type:String,default:"倒计时"},inDayText:{type:String,default:"天"},dayText:{type:String,default:"天"},hourText:{type:String,default:"时"},minuteText:{type:String,default:"分"},secondText:{type:String,default:"秒"},datatime:{type:Number,default:0},isDay:{type:Boolean,default:!0},isSecond:{type:Boolean,default:!0},bgColor:{type:String,default:""},colors:{type:String,default:"#e93323"},dotColor:{type:String,default:"#ffffff"}},data:function(){return{day:"00",hour:"00",minute:"00",second:"00",times:null}},watch:{datatime:{handler:function(t){this.show_time()},immediate:!0}},methods:{show_time:function(){var t=this;function e(){var e=t.datatime-Date.parse(new Date)/1e3,r=0,n=0,i=0,o=0;e>0?(r=!0===t.isDay?Math.floor(e/86400):0,n=Math.floor(e/3600)-24*r,i=Math.floor(e/60)-24*r*60-60*n,o=Math.floor(e)-24*r*60*60-60*n*60-60*i,n<=9&&(n="0"+n),i<=9&&(i="0"+i),o<=9&&(o="0"+o),t.day=r,t.hour=n,t.minute=i,t.second=o):(t.day="00",t.hour="00",t.minute="00",t.second="00",clearInterval(t.times),t.times=null,t.$emit("endTime",1))}e(),this.times=setInterval(e,1e3)}}};e.default=n},"91fd":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"time",style:t.justifyLeft},[t.tipText.trim()?r("v-uni-text",{staticClass:"title red"},[t._v(t._s(t.tipText))]):t._e(),!0===t.isDay?r("v-uni-text",{staticClass:"styleAll",style:"background-color:"+t.bgColor+";color:"+t.colors+";"},[t._v(t._s(t.day)),r("v-uni-text",{staticClass:"dayTxt"},[t._v(t._s(t.inDayText))])],1):t._e(),t.dayText?r("v-uni-text",{staticClass:"timeTxt red",style:"color:"+t.dotColor},[t._v(t._s(t.dayText))]):t._e(),r("v-uni-text",{staticClass:"styleAll",style:"background-color:"+t.bgColor+";color:"+t.colors+";"},[t._v(t._s(t.hour))]),t.hourText?r("v-uni-text",{staticClass:"timeTxt red",style:"color:"+t.dotColor},[t._v(t._s(t.hourText))]):t._e(),r("v-uni-text",{staticClass:"styleAll",style:"background-color:"+t.bgColor+";color:"+t.colors+";"},[t._v(t._s(t.minute))]),t.minuteText?r("v-uni-text",{staticClass:"timeTxt red",style:"color:"+t.dotColor},[t._v(t._s(t.minuteText))]):t._e(),!0===t.isSecond?r("v-uni-text",{staticClass:"styleAll",style:"background-color:"+t.bgColor+";color:"+t.colors+";"},[t._v(t._s(t.second))]):t._e(),t.secondText?r("v-uni-text",{staticClass:"timeTxt red",style:"color:"+t.dotColor},[t._v(t._s(t.secondText))]):t._e(),t._t("bottom")],2)},i=[]},a003:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return n}));var n={wQrcode:r("a163").default},i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",[r("v-uni-view",{staticClass:"flex-col flex-center py-80"},[r("baseMoney",{attrs:{money:t.payPriceShow,symbolSize:"48",integerSize:"64",decimalSize:"48",color:"#333",weight:!0}}),r("v-uni-view",{staticClass:"flex-y-center mt-20"},[r("v-uni-text",{staticClass:"fs-24 text--w111-333 lh-36rpx pr-10"},[t._v("支付剩余时间")]),r("countDown",{attrs:{"is-day":!1,"tip-text":" ","day-text":" ","hour-text":":","minute-text":":","second-text":" ",bgColor:"#FFFFFF",colors:"#FF7E00",dotColor:"#FF7E00",datatime:t.invalidTime}})],1)],1),r("v-uni-view",{staticClass:"px-20"},[r("v-uni-view",{staticClass:"bg--w111-fff rd-24rpx px-24"},[r("v-uni-view",{staticClass:"pt-60 flex-center fs-30 lh-42rpx fw-500"},[r("v-uni-text",[t._v("方式一：")]),r("v-uni-view",{staticClass:"flex-y-center pl-30",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkType("weixin")}}},[r("v-uni-text",{staticClass:"iconfont",class:"weixin"==t.paytype?"icon-ic_Selected":"icon-ic_unselect"}),r("v-uni-text",{staticClass:"pl-10"},[t._v("微信扫码")])],1),r("v-uni-view",{staticClass:"flex-y-center ml-50",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkType("alipay")}}},[r("v-uni-text",{staticClass:"iconfont",class:"alipay"==t.paytype?"icon-ic_Selected":"icon-ic_unselect"}),r("v-uni-text",{staticClass:"pl-10"},[t._v("支付宝扫码")])],1)],1),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.config.code,expression:"config.code"}],staticClass:"flex-center mt-40 pb-50 border-b"},[r("w-qrcode",{attrs:{options:t.config}})],1),r("v-uni-view",{staticClass:"pt-50 flex-center fs-30 lh-42rpx fw-500"},[t._v("方式二：用户进入商城支付订单")]),r("v-uni-view",{staticClass:"py-60 flex-center"},[r("v-uni-image",{staticClass:"guide",attrs:{src:t.imgHost+"/statics/images/pay_guide.png"}})],1)],1)],1),r("v-uni-view",{staticClass:"h-200"}),r("v-uni-view",{staticClass:"fixed-lb w-full pb-safe"},[r("v-uni-view",{staticClass:"w-full h-128 flex-center"},[r("v-uni-view",{staticClass:"w-710 h-80 flex-center rd-40rpx fs-28 bg-primary text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backPage.apply(void 0,arguments)}}},[t._v("返回")])],1)],1)],1)},o=[]},aa7f:function(t,e,r){"use strict";var n=r("ce8a"),i=r.n(n);i.a},ba37e:function(t,e,r){var n=r("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */[data-v-19739532] .styleAll{padding:0 %?6?%;border:%?1?% solid #ddd;border-radius:%?8?%;font-family:Regular;line-height:%?40?%}.border-b[data-v-19739532]{border-bottom:1px dashed #ccc}.icon-ic_Selected[data-v-19739532]{color:#2a7efb}.bg-primary[data-v-19739532]{background-color:#2a7efb}.guide[data-v-19739532]{width:%?570?%;height:%?214?%}',""]),t.exports=e},c38f:function(t,e,r){"use strict";r.r(e);var n=r("ce5a"),i=r.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},c450:function(t,e,r){"use strict";r.r(e);var n=r("a003"),i=r("c38f");for(var o in i)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(o);r("aa7f");var a=r("828b"),d=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"19739532",null,!1,n["a"],void 0);e["default"]=d.exports},ce5a:function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("1706")),o=r("6af6"),a=r("4d38"),d={data:function(){return{imgHost:a.HTTP_REQUEST_URL,payPriceShow:0,invalidTime:0,orderId:"",paytype:"weixin",userId:0,qrcode:"",config:{code:"",size:280,level:3,bgColor:"#FFFFFF",color:["#333","#333"]},timer:null}},components:{countDown:i.default},onLoad:function(t){this.userId=t.uid||0,t.order_id&&(this.orderId=t.order_id,this.getCashierOrder())},onUnload:function(){this.stopSetInterval()},methods:{getCashierOrder:function(){var t=this,e={uni:this.orderId,paytype:this.paytype,quitUrl:"/pages/behalf/cashier/index"};(0,o.getCashierApi)(this.userId,e).then((function(e){if("SUCCESS"==e.data.status)return t.$util.Tips({title:"支付成功"},{tab:5,url:"/pages/behalf/record/index"});t.payPriceShow=e.data.result.pay_price,t.invalidTime=e.data.result.jsConfig.invalid,t.config.code="weixin"==t.paytype?e.data.result.jsConfig.code_url:e.data.result.jsConfig.qrCode,t.createSetInterval(e.data.result.order_id)})).catch((function(e){return t.$util.Tips({title:e})}))},checkType:function(t){this.paytype=t,this.getCashierOrder()},createSetInterval:function(t){var e=this;this.stopSetInterval(),this.timer=setInterval((function(){e.getOrderResult(t)}),2e3)},stopSetInterval:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},getOrderResult:function(t){var e=this;(0,o.getPayStatusApi)({order_id:t,end_time:this.invalidTime}).then((function(t){0==t.data.time&&(e.stopSetInterval(),e.getCashierOrder()),(t.data.status||0==t.data.time)&&(e.stopSetInterval(),uni.reLaunch({url:"/pages/behalf/record/index"}))})).catch((function(t){return e.$util.Tips({title:t})}))},backPage:function(){uni.reLaunch({url:"/pages/admin/work/index"})}}};e.default=d},ce8a:function(t,e,r){var n=r("ba37e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("967d").default;i("6fc0eb26",n,!0,{sourceMap:!1,shadowMode:!1})},e068:function(t,e,r){"use strict";r.r(e);var n=r("90ba"),i=r.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},ed3c:function(t,e,r){var n=r("c86c");e=n(!1),e.push([t.i,".time[data-v-0f39c0db]{display:flex;justify-content:center}.timeTxt[data-v-0f39c0db]{margin:0 %?4?%}",""]),t.exports=e}}]);