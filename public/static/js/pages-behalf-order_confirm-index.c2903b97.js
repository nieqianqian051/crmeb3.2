(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-behalf-order_confirm-index"],{"01f1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABO5JREFUWEedV11oXEUUPufuBjbQh5r40EIfVlRqV5rsndmXYgstCkZQalBpixFbCPigYopCW4q0QqUtWBrRB8EWKlaMKPRBxYiCgVZsMTO7G3U1KBgwYh6yS8FCFnLvPXLC3DA7e+/uxnnbnfPzzfn7zkXY4JFS3h1F0TAiPgAAm436MiIuAsAtpdTyRkxiL8L5fD43ODh4gIheQsRSJx0iugkAVxuNxuWFhYVmN/tdAfi+/5TneZMAsK2bMed+iYgmtNafdNJLBWBe/Q4AjCcYCABgmYg47AEiMrgtAJBNkL1Ur9dfTotGIgB2PjAwcA0RRxyDM0R0KYqiLyuVym37rlgsbs5kMvuJaAwRH7HviGi60WiMJoFIBCCE+MpxvkhE41rrr3tJQ6lU2h9F0SQi5mN5IvpCaz3KEbNttAEQQpxExDOW4mwQBKNzc3Mc7p5PsVjMe573qVO0x5VS51MBDA8PP5jNZmcBIMdCRLQQRZHvhrtXFJwWz/N+RMT7jE4TEYuzs7PzsY2WCEgprwHAk7FwGIY7KpXKQpLDQqGwKZfLbUfEbBiG82kgpZT3AsDP1qOuaK2PtAEYGhra1tfX95cV+kmt9VHXOctls9mziHjQqnru9+kwDI8mARZCnELE08ZWEARBvlqt/s2/1yMgpXwFALjf+TTDMNzqvqpUKm0nohnTckmBWQyCYKRarf6S0CH/xFEAgAml1NsugPXwc9torR+zjZjW/NWu7JRa+E0ptdOtdinl5wDwuNH5TCn1TAsAIcTvVrGsI4ydSCmfB4Ardoqazeb5/v7+gIi4cyYsQIeVUh/YAH3fP+Z53jlT3H9ore93AfyLiJuMwEF3hAohPjZ5Z5EZpdQ+24GU8joA7Db6V7XWz9n3QogDiDhl7m9rre9yU7AaFxURjbhDRwjxjTXhzimlTjgAzgLAceOgLYW+7z/sed63sY5Saq3+7CLkIuF5zv0/prX+yHnBh4g4Zv67oZTa4wD4DgD2Gv0prfWhtAgAwJJSaqsLwA5hWwsm1QAivrmyspLN5XLHutWAEOJiLMOUrbXe5daA3auLSql7nErOSil/AgBeRFIPT89Go7HDJh7DrH9a7XtGKfV6CwAzhnlirZ0oisbL5fJl25ORme6wGywh4l571LK+EOIFRHzPsl0sl8vVFgD8wxnFSwCw012xmGQymcxFAGCqXuMMjhQRTQVBcMIlrUKhsKW/v79s1Rez4hMxmBYu8H1/2PM8JqO1xcJQ6LqwHQ1DNDznodlsztdqtTtJeXGoPYiiqBS/vi0CJgrr7WQMruerU+5TnNt1xQ9qK+6khSQrhPjB4fHXlFIXNgJASvkqALxl6VTq9foudytK3IgM41135n7PIBxiYwyLYRjuSWLK1KWUKz6TydyMx7OpidNa6zc6RcKhXg77HSLabefd1u+4lheLxYc8z5t2QEw1Go0jCQsmp+59RDwcO2DnURSNVCqV79NA9/JdwJ3Bvb82ps25sbq6eshuOSHEi4j4riWzFIbh052cJ3ZBElKzYDIZxbsdi/GHx+GYtOy8m11yX9o613MKEvqeKbnlW4GI1urCjNuTPJxWVlYu1Go1HmRdT9cU2BaMk1Mx7cZ3YRjy5lzp6i1BYEMAYn0hxKOIyNsR1wXvj6nbczdQ/wsAGzUz/lkA4N3gVjdHaff/ARwQdj/uQsddAAAAAElFTkSuQmCC"},"04f4":function(t,e,i){"use strict";i.r(e);var n=i("8d8a"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"10b2":function(t,e,i){"use strict";var n=i("6e69"),s=i.n(n);s.a},3709:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAABOCAMAAAC33a5AAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMA/PI6Dc6hEffS9G5r4JyWc2c+NevFi3pfMiUIBKuIV1JEKhkzviccAAAA5ElEQVRYw53LNWLDQAAAQetQZKHZDu//35gydXb6OdwPxqxWSGY1q1pZLXa1JrVCMotVrawWu1qzWiGZxapWVotdrUmtPpnFqFanFlGtolaoZjGqldUiqlXUCtUsRrWyWkS1ilqhmsWgVqcWUa2iVlvNYlCrU4uoVlGrrWYxqNWpxaZWUauvZjGo1alFVKuo1VezGNXKahHVmtTqk1ksah1fZnFT6/g0i6ta7cMszi+zeFer+TCLdjOLsJlF+DKL9mYWzE+zyHezaC5JLDgtSSw4XR5iQXNevv/Wfxzfrp/xJx1+AbKHpC62FH1oAAAAAElFTkSuQmCC"},3868:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-modal__container",class:[t.show?"tui-modal-show":""],style:{zIndex:t.zIndex}},[i("v-uni-view",{staticClass:"tui-modal-box",class:[t.fadeIn||t.show?"tui-modal-normal":"tui-modal-scale",t.show?"tui-modal-show":""]},[t.custom?i("v-uni-view",[t._t("default")],2):i("v-uni-view",[t.title?i("v-uni-view",{staticClass:"tui-modal-title"},[t._v(t._s(t.title))]):t._e(),i("v-uni-view",{staticClass:"tui-modal-content",class:[t.title?"":"tui-mtop"]},[t._v(t._s(t.content))]),i("v-uni-view",{staticClass:"tui-modalBtn-box"},[i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(0)}}},[t._v(t._s(t.cancelText))]),i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(1)}}},[t._v(t._s(t.confirmText))])],1)],1)],1),t.isMask?i("v-uni-view",{staticClass:"tui-modal-mask",class:[t.show?"tui-mask-show":""],style:{zIndex:t.maskZIndex,background:t.maskColor},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickCancel.apply(void 0,arguments)}}}):t._e()],1)},s=[]},"65b5":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("base-drawer",{attrs:{mode:"bottom",visible:t.visible,"background-color":"transparent",mask:!0,maskClosable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"w-100% bg--w111-f5f5f5 rd-t-40rpx py-32"},[i("v-uni-view",{staticClass:"text-center fs-32 text--w111-333 fw-500"},[t._v("赠品")]),i("v-uni-view",{staticClass:"mt-48 px-20 scroll-content"},[i("v-uni-view",{staticClass:"text--w111-333 fs-28 lh-40rpx"},[t._v("本单可获得以下赠品")]),t._l(t.giveCartInfo,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"gift-card mt-24 bg--w111-fff rd-16rpx p-16 flex-y-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goPage(1,"/pages/goods_details/index?id="+e.productInfo.id)}}},[e.productInfo.attrInfo?i("v-uni-image",{staticClass:"w-116 h-116 rd-16rpx",attrs:{src:e.productInfo.attrInfo.image}}):i("v-uni-image",{staticClass:"w-116 h-116 rd-16rpx",attrs:{src:e.productInfo.image}}),i("v-uni-view",{staticClass:"flex-1 flex-between-center pl-16"},[i("v-uni-view",{staticClass:"w-460"},[i("v-uni-view",{staticClass:"w-full line1 fs-28 lh-40rpx"},[t._v(t._s(e.productInfo.store_name))]),i("v-uni-view",{staticClass:"fs-22 text--w111-999 lh-30rpx mt-12"},[t._v("数量x"+t._s(e.cart_num))])],1),i("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-999"})],1)],1)})),t._l(t.giveData.give_coupon,(function(e,n){return i("v-uni-view",{key:n,staticClass:"gift-card mt-24 bg--w111-fff rd-16rpx p-16 flex-y-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(1,"/pages/users/user_coupon/index")}}},[i("v-uni-view",{staticClass:"w-116 h-116 rd-16rpx flex-center bg--w111-f5f5f5"},[i("v-uni-text",{staticClass:"fs-48 gold iconfont icon-a-ic_discount1"})],1),i("v-uni-view",{staticClass:"flex-1 flex-between-center pl-16"},[i("v-uni-view",{staticClass:"w-460"},[i("v-uni-view",{staticClass:"w-full line1 fs-28 lh-40rpx"},[t._v(t._s(e.coupon_title))]),i("v-uni-view",{staticClass:"fs-22 text--w111-999 lh-30rpx mt-12"},[t._v("数量x1")])],1),i("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-999"})],1)],1)})),t.giveData.give_integral>0?i("v-uni-view",{staticClass:"gift-card mt-24 bg--w111-fff rd-16rpx p-16 flex-y-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(1,"/pages/users/user_integral/index")}}},[i("v-uni-view",{staticClass:"w-116 h-116 rd-16rpx flex-center bg--w111-f5f5f5"},[i("v-uni-text",{staticClass:"fs-48 gold iconfont icon-ic_badge11"})],1),i("v-uni-view",{staticClass:"flex-1 flex-between-center pl-16"},[i("v-uni-view",{staticClass:"w-460"},[i("v-uni-view",{staticClass:"w-full line1 fs-28 lh-40rpx"},[t._v(t._s(t.giveData.give_integral)+"积分")]),i("v-uni-view",{staticClass:"fs-22 text--w111-999 lh-30rpx mt-12"},[t._v("数量x1")])],1),i("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-999"})],1)],1):t._e()],2),i("v-uni-view",{staticClass:"mx-20"},[i("v-uni-view",{staticClass:"mt-52 h-72 flex-center rd-36px bg-color fs-26 text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showGiftDrawer=!1}}},[t._v("确定")])],1)],1)],1)},s=[]},6709:function(t,e){t.exports="data:image/png;base64,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"},"68cf":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".tui-modal__container[data-v-6bd2b1a0]{width:100%;height:100%;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;visibility:hidden}.tui-modal-box[data-v-6bd2b1a0]{position:relative;opacity:0;visibility:hidden;box-sizing:border-box;transition:all .3s ease-in-out;width:%?600?%;padding:%?40?%;border-radius:%?32?%;background-color:#fff;z-index:9999}.tui-modal-scale[data-v-6bd2b1a0]{-webkit-transform:scale(0);transform:scale(0)}.tui-modal-normal[data-v-6bd2b1a0]{-webkit-transform:scale(1);transform:scale(1)}.tui-modal-show[data-v-6bd2b1a0]{opacity:1;visibility:visible}.tui-modal-mask[data-v-6bd2b1a0]{position:fixed;top:0;left:0;right:0;bottom:0;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-6bd2b1a0]{visibility:visible;opacity:1}.tui-modal-title[data-v-6bd2b1a0]{text-align:center;font-size:%?32?%;line-height:%?52?%;color:#333;font-weight:500}.tui-modal-content[data-v-6bd2b1a0]{text-align:center;color:#666;font-size:%?30?%;line-height:%?40?%;margin:%?24?% auto %?40?%}.tui-mtop[data-v-6bd2b1a0]{margin-top:%?30?%}.tui-mbtm[data-v-6bd2b1a0]{margin-bottom:%?30?%}.tui-modalBtn-box[data-v-6bd2b1a0]{width:100%;display:flex;align-items:center;justify-content:space-between}.tui-flex-column[data-v-6bd2b1a0]{flex-direction:column}.tui-modal-btn[data-v-6bd2b1a0]{width:%?244?%;height:%?72?%;border-radius:%?36?%;font-size:%?26?%}.tui-modal-btn-cancel[data-v-6bd2b1a0]{border:1px solid var(--view-theme);color:var(--view-theme)}.tui-modal-btn-confirm[data-v-6bd2b1a0]{background-color:var(--view-theme);color:#fff}",""]),t.exports=e},"6af6":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.OrderCancel=function(t){return s.default.post("store/order/cancel/"+t)},e.OrderDel=function(t){return s.default.delete("store/order/del/"+t)},e.OrderDetail=function(t){return s.default.get("store/order/detail/"+t)},e.OrderRefund=function(t){return s.default.post("store/order/refund",t,{login:!0})},e.adminCartAdd=function(t,e){return s.default.post("admin/order/cart/add/".concat(t),e)},e.adminCartDel=function(t,e){return s.default.delete("admin/order/cart/del/".concat(t),e)},e.adminCartList=function(t,e){return s.default.get("admin/order/cart/".concat(t),e)},e.adminCartNum=function(t,e){return s.default.post("admin/order/cart/num/".concat(t),e)},e.adminCategory=function(){return s.default.get("admin/product/category")},e.adminOrderRecordList=function(t){return s.default.get("admin/order/place/list",t)},e.adminProList=function(t){return s.default.get("admin/product/list",t)},e.adminProductList=function(t){return s.default.get("admin/product/admin_list",t)},e.adminRefundList=function(t){return s.default.get("admin/refund_order/list",t)},e.adminUserAddressList=function(t,e){return s.default.get("admin/user/address/list/".concat(t),e)},e.adminUserList=function(t){return s.default.get("admin/user/list",t)},e.deliveryInfo=function(t){return s.default.get("store/delivery/info")},e.deliveryList=function(t){return s.default.get("store/delivery/data",t)},e.deliveryOrderList=function(t){return s.default.get("store/delivery/order",t)},e.deliveryStatistics=function(t){return s.default.get("store/delivery/statistics",t)},e.getAdminOrderDelivery=function(t){return s.default.get("admin/order/delivery/gain/"+t,{},{login:!0})},e.getAdminOrderDetail=function(t){return s.default.get("admin/order/detail/"+t,{},{login:!0})},e.getAdminOrderList=function(t){return s.default.get("admin/order/list",t,{login:!0})},e.getAdminRefundDetail=function(t){return s.default.get("admin/refund_order/detail/"+t,{},{login:!0})},e.getCashierApi=function(t,e){return s.default.post("admin/order/pay/".concat(t),e)},e.getCategory=function(){return s.default.get("admin/product/category")},e.getCouponsOrderPrice=function(t,e){return s.default.get("admin/order/coupons/".concat(t),e)},e.getGetAttrs=function(t){return s.default.get("admin/product/get_attr/".concat(t))},e.getGroupList=function(){return s.default.get("admin/user/group/list")},e.getLevelList=function(){return s.default.get("admin/user/level/list")},e.getListApi=function(t){return s.default.get("store/order/data",t)},e.getLogistics=function(t){return s.default.get("logistics",t,{login:!1})},e.getOrderChart=function(t){return s.default.get("admin/order/time/chart",t)},e.getOrderDelivery=function(){return s.default.get("store/delivery/list")},e.getOrderDeliveryinfoApi=function(t){return s.default.get("store/order/delivery_info/"+t)},e.getOrderExportApi=function(t){return s.default.get("store/order/export_all",t,{login:!1})},e.getOrderExportTemp=function(t){return s.default.get("store/order/export_temp",t)},e.getOrderOfflineApi=function(t){return s.default.post("store/order/offline",t)},e.getOrderPriceApi=function(t){return s.default.post("store/order/price",t)},e.getOrderStaging=function(){return s.default.get("admin/order/staging")},e.getOrderTime=function(t){return s.default.get("admin/order/time",t)},e.getOrderlistApi=function(t){return s.default.get("store/order/list",t)},e.getOrderreMarkApi=function(t){return s.default.post("store/order/remark",t)},e.getPayStatusApi=function(t){return s.default.get("admin/order/pay/status",t)},e.getProductLabel=function(){return s.default.get("admin/product/product_label")},e.getRefundMarkApi=function(t){return s.default.post("store/refund/remark",t)},e.getRefundlistApi=function(t){return s.default.get("store/refund/list",t)},e.getStatisticsInfo=function(){return s.default.get("admin/order/statistics",{},{login:!0})},e.getStatisticsListApi=function(t,e){return s.default.get("store/staff/data/"+t,e)},e.getStatisticsMonth=function(t){return s.default.get("admin/order/data",t,{login:!0})},e.getStatisticsTime=function(t){return s.default.get("admin/order/time",t,{login:!0})},e.getUserCoupon=function(t){return s.default.get("admin/user/coupon/grant",t)},e.getUserInfo=function(t){return s.default.get("admin/user/info/".concat(t))},e.getUserLabel=function(){return s.default.get("admin/user/label/0")},e.getUserList=function(t){return s.default.get("admin/user/list",t)},e.offOrderInfo=function(t){return s.default.post("admin/order/info",t)},e.openRefund=function(t,e){return s.default.post("admin/order/open/refund/".concat(t),e)},e.orderCartInfo=function(t){return s.default.post("store/order/cart_info",t)},e.orderConfirm=function(t,e){return s.default.post("admin/order/confirm/".concat(t),e)},e.orderCreate=function(t,e,i){return s.default.post("admin/order/create/".concat(t,"/").concat(e),i)},e.orderDeliveryInfo=function(){return s.default.get("admin/order/delivery_info")},e.orderExportTemp=function(t){return s.default.get("admin/order/export_temp",t)},e.orderInfo=function(t){return s.default.get("store/order/statistics",t)},e.orderOrderDelivery=function(){return s.default.get("admin/order/delivery")},e.orderRefundAgree=function(t){return s.default.post("admin/order/refund_agree/"+t)},e.orderSplitDelivery=function(t,e){return s.default.put("admin/order/split_delivery/"+t,e)},e.orderSplitInfo=function(t){return s.default.get("admin/order/split_cart_info/"+t)},e.orderVerific=function(t,e){return s.default.post("admin/order/order_verific",{code:t,auth:e})},e.orderWirteOff=function(t,e){return s.default.post("admin/order/wirteoff/".concat(t),e)},e.orderWirteOffRecords=function(t,e){return s.default.post("admin/order/wirteoff/records/".concat(t),e)},e.orderWriteoff=function(t){return s.default.post("store/order/writeoff",t)},e.orderWriteoffInfo=function(t,e){return s.default.get("store/order/writeoff_info/"+t,e)},e.postBatchProcess=function(t){return s.default.post("admin/product/batch_process",t)},e.postOrderComputed=function(t,e,i){return s.default.post("admin/order/computed/".concat(t,"/").concat(e),i)},e.postUpdateAttrs=function(t,e){return s.default.post("admin/product/update_attrs/".concat(t),e)},e.postUserUpdate=function(t){return s.default.post("admin/user/update",t)},e.postUserUpdateOther=function(t,e){return s.default.post("admin/user/update_other/".concat(t),e)},e.productSetShow=function(t){return s.default.post("admin/product/set_show",t)},e.refundDetail=function(t){return s.default.get("store/refund/detail/"+t)},e.setAdminOrderDelivery=function(t,e){return s.default.post("admin/order/delivery/keep/"+t,e,{login:!0})},e.setAdminOrderPrice=function(t){return s.default.post("admin/order/price",t,{login:!0})},e.setAdminOrderRemark=function(t){return s.default.post("admin/order/remark",t,{login:!0})},e.setAdminRefundRemark=function(t){return s.default.post("admin/refund_order/remark",t,{login:!0})},e.setOfflinePay=function(t){return s.default.post("admin/order/offline",t,{login:!0})},e.setOrderDelivery=function(t,e){return s.default.post("store/order/delivery/"+t,e,{login:!0})},e.setOrderRefund=function(t){return s.default.post("admin/order/refund",t,{login:!0})},e.statisticsMenuApi=function(t){return s.default.get("store/staff/statistics",t)},e.storeRefundAgree=function(t){return s.default.post("store/order/refund_agree/"+t)},e.storeSplitDelivery=function(t,e){return s.default.put("store/order/split_delivery/"+t,e)},e.storeSplitInfo=function(t){return s.default.get("store/order/split_cart_info/"+t)},e.userInfo=function(){return s.default.get("store/staff/info")},i("c223");var s=n(i("65455"))},"6b9f":function(t,e,i){"use strict";i.r(e);var n=i("3868"),s=i("04f4");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("10b2");var r=i("828b"),o=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"6bd2b1a0",null,!1,n["a"],void 0);e["default"]=o.exports},"6e69":function(t,e,i){var n=i("68cf");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("967d").default;s("057983e6",n,!0,{sourceMap:!1,shadowMode:!1})},7391:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.auth=s,e.openBargainSubscribe=function(){var t=s();return a([t.bargain_success])},e.openExtrctSubscribe=function(){var t=s();return a([t.user_extract,t.revenue_received])},e.openOrderRefundSubscribe=function(){var t=s();return a([t.order_refund])},e.openOrderSubscribe=function(){var t=s();return a([t.order_take,t.integral_accout,t.order_brokerage])},e.openPaySubscribe=function(){var t=s();return a([t.order_pay_success,t.order_deliver_success,t.order_postage_success])},e.openPinkSubscribe=function(){var t=s();return a([t.pink_true,t.pink_status])},e.openReceivedSubscribe=function(){var t=s();return a([t.revenue_received])},e.openRechargeSubscribe=function(){var t=s();return a([t.recharge_success])},e.openSignSubscribe=function(){var t=s();return a([t.sign_remind_time])},e.subscribe=a,i("bf0f");var n=i("769c");function s(){var t,e=uni.getStorageSync(n.SUBSCRIBE_MESSAGE);return t=e?JSON.parse(e):{},t}function a(t){var e=wx;return new Promise((function(i,n){e.requestSubscribeMessage({tmplIds:t,success:function(t){return i(t)},fail:function(t){return i(t)}})}))}},"8d8a":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var n={name:"tuiModal",emits:["click","cancel"],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},maskClosable:{type:Boolean,default:!0},isMask:{type:Boolean,default:!0},maskColor:{type:String,default:"rgba(0, 0, 0, 0.6)"},fadeIn:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},zIndex:{type:Number,default:9997},maskZIndex:{type:Number,default:9990}},data:function(){return{}},methods:{handleClick:function(t){this.show&&this.$emit("click",{index:Number(t)})},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}}};e.default=n},9750:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".gold[data-v-658459ee]{color:#dca658}.scroll-content[data-v-658459ee]{height:%?800?%;overflow-y:auto}",""]),t.exports=e},"97aa":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("af01")),a={props:{visible:{type:Boolean,default:!1},giveCartInfo:{type:Array,default:function(){return[]}},giveData:{type:Object,default:function(){}}},components:{baseDrawer:s.default},methods:{closeDrawer:function(){this.$emit("closeDrawer")},goPage:function(t,e){uni.navigateTo({url:e})}}};e.default=a},b155:function(t,e,i){"use strict";var n=i("d8ad"),s=i.n(n);s.a},b1d5:function(t,e,i){"use strict";i.r(e);var n=i("97aa"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b65d:function(t,e,i){"use strict";i.r(e);var n=i("65b5"),s=i("b1d5");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("ddbc");var r=i("828b"),o=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"658459ee",null,!1,n["a"],void 0);e["default"]=o.exports},b7e8:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"w-full relative z-99 gradient-box",style:{"padding-top":t.sysHeight+"px"}},[n("v-uni-view",{staticClass:"w-full px-20 pl-20 h-80 flex-between-center"},[n("v-uni-text",{staticClass:"iconfont icon-ic_leftarrow fs-40 text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(3)}}}),n("v-uni-text",{staticClass:"fs-34 fw-500 text--w111-fff"},[t._v("提交订单")]),n("v-uni-text")],1),n("v-uni-view",{staticClass:"px-20 mt-30"},[n("v-uni-view",{staticClass:"allAddress"},[0==t.isDisplay&&t.store_self_mention?n("v-uni-view",{staticClass:"h-96 relative"},[n("v-uni-view",{staticClass:"w-full abs-lb rd-t-24rpx flex bg--w111-fff"},[n("v-uni-view",{staticClass:"flex-center w-50p h-76 fs-28 rd-lt-24rpx z-2",class:0==t.shippingType?"bg--w111-fff text-primary-con":"bg-primary-light",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addressType(0)}}},[t._v("快递配送")]),n("v-uni-view",{staticClass:"flex-center w-50p h-76 fs-28 rd-rt-24rpx z-2",class:1==t.shippingType?"bg--w111-fff text-primary-con":"bg-primary-light",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addressType(1)}}},[t._v("到店自提")])],1),n("v-uni-view",{staticClass:"w-50p rd-t-24rpx bg--w111-fff h-96",class:0==t.shippingType?"abs-lt":"abs-rt"},[n("v-uni-view",{staticClass:"w-full h-full relative active-card"})],1)],1):t._e(),0==t.shippingType?n("v-uni-view",{staticClass:"address add1 flex-between-center",class:[1,2].includes(t.isDisplay)?"rd-24rpx":"rd-b-24rpx",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onAddress()}}},[t.addressInfo.real_name?n("v-uni-view",[n("v-uni-view",{staticClass:"fs-26 text--w111-666 lh-36rpx"},[t._v(t._s(t.addressInfo.province)+t._s(t.addressInfo.city)+t._s(t.addressInfo.district))]),n("v-uni-view",{staticClass:"fs-30 text--w111-333 lh-42rpx fw-500 mt-8"},[t._v(t._s(t.addressInfo.detail))]),n("v-uni-view",{staticClass:"fs-26 text--w111-666 lh-34rpx mt-10"},[n("v-uni-text",[t._v(t._s(t.addressInfo.real_name))]),n("v-uni-text",{staticClass:"pl-20"},[t._v(t._s(t.addressInfo.phone))])],1)],1):n("v-uni-view",{staticClass:"fs-30 text--w111-333 fw-500 lh-42rpx flex-y-center"},[n("v-uni-image",{staticClass:"w-32 h-32",attrs:{src:i("01f1")}}),n("v-uni-text",{staticClass:"pl-8"},[t._v("设置收货地址")])],1),n("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-999"})],1):n("v-uni-view",{staticClass:"address add1 acea-row row-between-wrapper",class:[1,2].includes(t.isDisplay)?"rd-24rpx":"rd-b-24rpx"},[t.storeList.length>0?[n("v-uni-view",{staticClass:"w-full"},[n("v-uni-view",{staticClass:"w-full flex-between-center pb-26rpx dashed-b"},[n("v-uni-view",[n("v-uni-view",{staticClass:"fs-30 w-410 line1 fw-500 lh-42rpx"},[t._v(t._s(t.system_store.name))]),n("v-uni-view",{staticClass:"fs-22 w-410 line2 text--w111-666 lh-30rpx mt-12"},[t._v(t._s(t.system_store.address)+t._s(t.system_store.detailed_address))])],1),n("v-uni-view",{staticClass:"_map relative",style:{backgroundImage:"url("+t.imgHost+"/statics/images/order/order_map_bg.png)"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showMaoLocation.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"store_distance flex-center bg--w111-fff rd-8rpx fs-20 fw-500 line1"},[t._v("距您"+t._s((t.range/1e3).toFixed(1))+"km")]),n("v-uni-view",{staticClass:"store_logo bg--w111-fff rd-8rpx"},[n("v-uni-image",{staticClass:"w-full h-full rd-8rpx relative z-2",attrs:{src:t.site_logo}})],1)],1)],1),n("v-uni-view",{staticClass:"flex-1 pt-18 pr-20"},[n("v-uni-view",{staticClass:"flex"},[n("v-uni-view",[n("v-uni-view",{staticClass:"fs-24 text--w111-999 lh-34rpx"},[t._v("我的姓名")]),n("v-uni-view",{staticClass:"flex-y-center mt-6"},[n("v-uni-input",{staticClass:"w-78 h-36 fs-26 fw-500 lh-36rpx",attrs:{type:"text",focus:t.contactsFocus},model:{value:t.userInfo.real_name,callback:function(e){t.$set(t.userInfo,"real_name",e)},expression:"userInfo.real_name"}}),n("v-uni-text",{staticClass:"iconfont icon-ic_edit fs-28 text--w111-999 pl-16",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput(0)}}})],1)],1),n("v-uni-view",{staticClass:"pl-46"},[n("v-uni-view",{staticClass:"fs-24 text--w111-999 lh-34rpx"},[t._v("我的电话")]),n("v-uni-view",{staticClass:"flex-y-center mt-6"},[n("v-uni-input",{staticClass:"w-222 h-36 fs-30 fw-500 lh-30rpx",attrs:{type:"number",focus:t.telFocus},model:{value:t.userInfo.phone,callback:function(e){t.$set(t.userInfo,"phone",e)},expression:"userInfo.phone"}}),n("v-uni-text",{staticClass:"iconfont icon-ic_edit fs-28 text--w111-999 pl-16",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput(1)}}})],1)],1)],1)],1)],1)]:[n("v-uni-view",[t._v("暂无门店信息")])]],2),n("v-uni-view",{staticClass:"line"},[n("v-uni-image",{attrs:{src:"/static/images/line.jpg"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"order-submission"},[n("v-uni-view",{staticClass:"px-20"},[0==t.userId?n("v-uni-view",{staticClass:"bg--w111-fff rd-16rpx p-24 my-20 flex-y-center"},[n("v-uni-image",{staticClass:"w-80 h-80 rd-50-p111-",attrs:{src:i("6709")}}),n("v-uni-view",{staticClass:"flex-1 pl-20"},[n("v-uni-view",{staticClass:"fs-28 lh-40rpx fw-500"},[t._v("游客")]),n("v-uni-view",{staticClass:"fs-24 lh-34rpx text--w111-999 mt-4"})],1)],1):n("v-uni-view",{staticClass:"bg--w111-fff rd-16rpx p-24 my-20 flex-y-center"},[n("v-uni-image",{staticClass:"w-80 h-80 rd-50-p111-",attrs:{src:t.userInfo.avatar}}),n("v-uni-view",{staticClass:"flex-1 pl-20"},[n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-view",{staticClass:"fs-28 lh-40rpx fw-500"},[t._v(t._s(t.userInfo.nickname))]),1==t.userInfo.isMember?n("v-uni-view",{staticClass:"svip flex-center"},[t._v("SVIP")]):t._e(),1==t.userInfo.level_status?n("v-uni-view",{staticClass:"vip flex-center"},[n("v-uni-text",{staticClass:"iconfont icon-huiyuandengji"}),t._v("V"+t._s(t.userInfo.level_grade))],1):t._e()],1),n("v-uni-view",{staticClass:"fs-24 lh-34rpx text--w111-999 mt-4"},[t._v(t._s(t.userPhone))])],1)],1),n("v-uni-view",{staticClass:"bg--w111-fff rd-16rpx pt-32 pr-24 pl-24 pb-32"},[t._l(t.cartInfo,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex order_goods"},[n("v-uni-view",{staticClass:"w-176 h-176 relative"},[e.productInfo.attrInfo?n("v-uni-image",{staticClass:"w-176 h-176 rd-16rpx",attrs:{src:e.productInfo.attrInfo.image}}):n("v-uni-image",{staticClass:"w-176 h-176 rd-16rpx",attrs:{src:e.productInfo.image}}),e.is_valid?t._e():n("v-uni-view",{staticClass:"over flex-center fs-24 text--w111-fff"},[t._v(t._s(1==t.shippingType?"非自提":"不送达"))])],1),n("v-uni-view",{staticClass:"flex-1 flex-col justify-between pl-20"},[n("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e.productInfo.id)}}},[n("v-uni-view",{staticClass:"w-464 line1 fs-28 lh-40rpx",class:e.is_valid?"text--w111-333":"text--w111-ccc"},[t._v(t._s(e.productInfo.store_name))]),e.productInfo.attrInfo?n("v-uni-view",{staticClass:"w-322 fs-22 lh-30rpx line1 mt-12",class:e.is_valid?"text--w111-999":"text--w111-ccc"},[t._v(t._s(e.productInfo.attrInfo.suk))]):t._e(),n("v-uni-view",{staticClass:"flex items-end flex-wrap mt-12 w-full"},t._l(e.productInfo.store_label,(function(t,e){return n("BaseTag",{key:e,attrs:{text:t.label_name,color:t.color,background:t.bg_color,borderColor:t.border_color,circle:!!t.border_color,imgSrc:t.icon}})})),1)],1),n("v-uni-view",{staticClass:"flex-between-center"},[n("baseMoney",{attrs:{money:e.productInfo.attrInfo?e.productInfo.attrInfo.price:e.productInfo.price,symbolSize:"20",integerSize:"36",decimalSize:"20",color:e.is_valid?"#333":"#cccccc",weight:!0}}),[0,6].includes(t.goodsType)&&0==t.news?n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-text",{staticClass:"iconfont icon-ic_Reduce fs-24",class:e.cart_num>1?"text--w111-333":"text--w111-999",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addCart(0,e)}}}),n("v-uni-input",{staticClass:"w-72 h-36 rd-4rpx bg--w111-f5f5f5 flex-center text-center fs-24 text--w111-333 mx-6",attrs:{type:"number",maxlength:"3"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.setValue(i,e)}},model:{value:e.cart_num,callback:function(i){t.$set(e,"cart_num",i)},expression:"item.cart_num"}}),n("v-uni-text",{staticClass:"iconfont icon-ic_increase fs-24 text--w111-333",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addCart(1,e)}}})],1):n("v-uni-text",{staticClass:"fs-28 text--w111-666"},[t._v("×"+t._s(e.cart_num))])],1)],1)],1)})),t.giftCount>0?n("v-uni-view",{staticClass:"cell flex justify-between mt-32"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("赠品")]),n("v-uni-view",{staticClass:"w-460 flex-y-center justify-end",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showGiftDrawer=!0}}},[n("v-uni-view",{staticClass:"flex"},[t._l(t.giveCartInfo,(function(t,e){return n("v-uni-view",{key:e,staticClass:"w-64 h-64 mr-8"},[t.productInfo.attrInfo?n("v-uni-image",{staticClass:"h-full w-full rd-8rpx",attrs:{src:t.productInfo.attrInfo.image}}):n("v-uni-image",{staticClass:"h-full w-full rd-8rpx",attrs:{src:t.productInfo.image}})],1)})),t.giveData.give_coupon.length?n("v-uni-view",{staticClass:"w-64 h-64 rd-8rpx bg--w111-f5f5f5 flex-center mr-8"},[n("v-uni-text",{staticClass:"gold iconfont icon-a-ic_discount1"})],1):t._e(),t.giveData.give_integral>0?n("v-uni-view",{staticClass:"w-64 h-64 rd-8rpx bg--w111-f5f5f5 flex-center mr-8"},[n("v-uni-text",{staticClass:"gold iconfont icon-ic_badge11"})],1):t._e()],2),n("v-uni-view",{staticClass:"fs-26 text--w111-666"},[t._v("共"+t._s(t.giftCount)+"件"),n("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow"})],1)],1)],1):t._e(),t.textareaStatus?n("v-uni-view",{staticClass:"cell flex justify-between flex-y-center mt-32"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("留言")]),t.coupon.coupon?t._e():n("v-uni-textarea",{staticClass:"w-450 fs-28 text-right h-auto",attrs:{"auto-height":!0,"wrap-style":"wrap","max-height":"100px","placeholder-class":"placeholder",placeholder:"请先与商家沟通一致再留言哦～","always-embed":!0,"adjust-position":!0,"cursor-spacing":"30",value:t.mark,maxlength:150,name:"mark"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindHideKeyboard.apply(void 0,arguments)}}})],1):t._e()],2),n("v-uni-view",{staticClass:"mt-20 bg--w111-fff rd-16rpx pt-32 pr-24 pl-24 pb-32"},[[0,6].includes(t.type)&&1==t.integral_ratio_status?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("积分抵扣")]),n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-view",[t._v(t._s(t.useIntegral?"剩余积分":"当前积分")),n("v-uni-text",{staticClass:"Regular font-color fs-36 pl-8 pr-12"},[t._v(t._s(t.integral||0))])],1),n("v-uni-text",{staticClass:"iconfont",class:t.useIntegral?"icon-a-ic_CompleteSelect":"icon-ic_unselect text--w111-999",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeIntegral.apply(void 0,arguments)}}})],1)],1):t._e()],1),4==t.type?n("v-uni-view",{staticClass:"mt-20 bg--w111-fff rd-16rpx pt-32 pr-24 pl-24 pb-32"},[n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("可用积分")]),n("v-uni-text",[t._v(t._s(t.userInfo.integral))])],1),n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("抵扣积分")]),n("v-uni-text",[t._v(t._s(t.totalIntegral))])],1)],1):t._e(),n("v-uni-view",{staticClass:"mt-20 bg--w111-fff rd-16rpx pt-32 pr-24 pl-24 pb-32"},[n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("商品总价")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular"},[t._v("￥"+t._s(t.priceGroup.sumPrice))])],1),t.priceGroup.firstOrderPrice>0?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("新人首单优惠")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(t.priceGroup.firstOrderPrice))])],1):t._e(),t.priceGroup.storePostage>0?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("配送运费")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("￥"+t._s((parseFloat(t.priceGroup.storePostage)+parseFloat(t.priceGroup.storePostageDiscount)).toFixed(2)))])],1):t._e(),t.priceGroup.vipPrice>0&&t.userInfo.vip&&[0,6].includes(t.type)?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("用户等级优惠")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(parseFloat(t.priceGroup.vipPrice).toFixed(2)))])],1):t._e(),t.priceGroup.storePostageDiscount>0?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("会员运费优惠")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(parseFloat(t.priceGroup.storePostageDiscount).toFixed(2)))])],1):t._e(),t.coupon_price>0?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("优惠券抵扣")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(parseFloat(t.coupon_price).toFixed(2)))])],1):t._e(),t.integral_price>0?n("v-uni-view",{staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v("积分抵扣")]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(parseFloat(t.integral_price).toFixed(2)))])],1):t._e(),t._l(t.promotions_detail,(function(e,i){return n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:parseFloat(e.promotions_price),expression:"parseFloat(item.promotions_price)"}],key:i,staticClass:"cell flex-between-center"},[n("v-uni-text",{staticClass:"text--w111-333 fs-28"},[t._v(t._s(e.title))]),n("v-uni-text",{staticClass:"text--w111-333 fs-36 Regular font-color"},[t._v("-￥"+t._s(parseFloat(e.promotions_price).toFixed(2)))])],1)}))],2)],1),n("v-uni-view",{staticClass:"height-add"}),n("v-uni-view",{staticClass:"fixed-lb w-full bg--w111-fff pb-safe"},[!t.svip_status&&t.svip_price>0?n("v-uni-view",{staticClass:"h-80 bg--w111-FFF0D1 flex-between-center px-20"},[n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-image",{staticClass:"w-36 h-36",attrs:{src:i("cadd")}}),n("v-uni-view",{staticClass:"pl-8"},[n("v-uni-text",{staticClass:"fs-24 text--w111-7E4B06"},[t._v("开通 SVIP会员 预计省")]),n("v-uni-text",{staticClass:"font-color fs-28"},[t._v("¥"+t._s(t.svip_price))]),n("v-uni-text",{staticClass:"fs-24 text--w111-7E4B06"},[t._v("元")])],1)],1),n("v-uni-view",{staticClass:"fs-24 text--w111-7E4B06",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(1,"/pages/annex/vip_paid/index")}}},[n("v-uni-text",[t._v("立即开通")]),n("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24"})],1)],1):t._e(),n("v-uni-view",{staticClass:"pl-32 pr-20 h-96 flex-between-center"},[n("v-uni-view",{staticClass:"flex items-baseline"},[n("v-uni-text",{staticClass:"fs-24 fw-500 text--w111-333"},[t._v("合计")]),n("baseMoney",{attrs:{money:t.totalPrice||0,symbolSize:"26",integerSize:"44",decimalSize:"26",color:"#FF7E00",weight:!0}}),4==t.type&&t.totalIntegral>0?n("v-uni-text",{staticClass:"pl-12"},[t._v("+"+t._s(t.totalIntegral)+"积分")]):t._e()],1),t.canSubmit?n("v-uni-view",{staticClass:"w-168 h-72 rd-36rpx flex-center text--w111-fff fs-26 bg-primary",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.payDrawerChange.apply(void 0,arguments)}}},[t._v("提交订单")]):n("v-uni-view",{staticClass:"w-168 h-72 rd-36rpx flex-center text--w111-fff fs-26 bg-color-hui"},[t._v("提交订单")])],1)],1)],1),n("v-uni-view",{staticClass:"alipaysubmit",domProps:{innerHTML:t._s(t.formContent)}}),n("tuiModal",{attrs:{show:t.isAddress,title:"更新地址",content:"当前地址功能已更新，请重新修改"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}}),n("giftDrawer",{attrs:{visible:t.showGiftDrawer,giveCartInfo:t.giveCartInfo,giveData:t.giveData},on:{closeDrawer:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer.apply(void 0,arguments)}}}),n("couponListWindow",{attrs:{coupon:t.coupon,openType:t.openType,cartId:t.cartId},on:{ChangCouponsClone:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangCouponsClone.apply(void 0,arguments)},ChangCoupons:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangCoupons.apply(void 0,arguments)},ruleToggle:function(e){arguments[0]=e=t.$handleEvent(e),t.ruleToggle.apply(void 0,arguments)}}}),n("base-drawer",{attrs:{mode:"bottom",visible:t.showAddressDrawer,"background-color":"transparent",mask:!0,maskClosable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.showAddressDrawer=!1}.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"w-full bg--w111-fff rd-t-40rpx py-32"},[n("v-uni-view",{staticClass:"text-center fs-32 text--w111-333 fw-500"},[t._v("选择地址")]),n("v-uni-view",{staticClass:"mt-64 px-32"},[t._l(t.addressList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mb-38 flex-between-center",class:{"font-num":t.addressActive==i},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.tapAddress(i,e)}}},[n("v-uni-text",{staticClass:"iconfont icon-ic_location5 fs-36"}),n("v-uni-view",{staticClass:"flex-1 pl-40"},[n("v-uni-view",{staticClass:"fs-28 fw-500"},[t._v(t._s(e.real_name)),n("v-uni-text",{staticClass:"phone"},[t._v(t._s(e.phone))])],1),n("v-uni-view",{staticClass:"w-560 line1 mt-4"},[t._v(t._s(e.province)+t._s(e.city)+t._s(e.district)+t._s(e.street)+t._s(e.detail))])],1)],1)})),t.addressList.length?t._e():n("v-uni-view",[n("emptyPage",{attrs:{title:"暂无地址信息～",src:"/statics/images/noAddress.png"}})],1)],2),n("v-uni-view",{staticClass:"mx-20 pb-safe"},[n("v-uni-view",{staticClass:"mt-52 h-72 flex-center rd-36px bg-primary fs-26 text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goAddressPages.apply(void 0,arguments)}}},[t._v("添加地址")])],1)],1)],1),n("base-drawer",{attrs:{mode:"bottom",visible:t.showPayDrawer,"background-color":"transparent",mask:!0,maskClosable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.showPayDrawer=!1}.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"w-full bg--w111-f5f5f5 rd-t-40rpx py-32"},[n("v-uni-view",{staticClass:"text-center fs-32 text--w111-333 fw-500"},[t._v("支付方式")]),n("v-uni-view",{staticClass:"mt-54 px-32"},[n("v-uni-view",{staticClass:"w-full h-136 rd-24rpx bg--w111-fff pay-card flex-between-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay(0)}}},[n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-image",{staticClass:"w-52 h-52",attrs:{src:t.imgHost+"/statics/images/order/yue_pay.png"}}),n("v-uni-view",{staticClass:"flex-col ml-20"},[n("v-uni-text",{staticClass:"fs-28"},[t._v("线上支付")]),n("v-uni-text",{staticClass:"pt-8 fs-22 text--w111-999"},[t._v("微信/支付宝扫码支付")])],1)],1),n("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-32 text--w111-999 "})],1),n("v-uni-view",{staticClass:"w-full h-136 rd-24rpx bg--w111-fff pay-card flex-between-center mt-24",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPay(1)}}},[n("v-uni-view",{staticClass:"flex-y-center"},[n("v-uni-image",{staticClass:"w-52 h-52",attrs:{src:t.imgHost+"/statics/images/order/xianxia_pay.png"}}),n("v-uni-view",{staticClass:"flex-col ml-20"},[n("v-uni-text",{staticClass:"fs-28"},[t._v("线下支付")]),n("v-uni-text",{staticClass:"pt-8 fs-22 text--w111-999"},[t._v("选择线下付款方式")])],1)],1),n("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-32 text--w111-999 "})],1)],1),n("v-uni-view",{staticClass:"mx-20 pb-safe"},[n("v-uni-view",{staticClass:"mt-52 h-72 flex-center rd-36px bg--w111-fff fs-26 text-primary-con btn-border",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPayDrawer=!1}}},[t._v("取消")])],1)],1)],1)],1)},s=[]},cd2f:function(t,e,i){"use strict";i.r(e);var n=i("e2b0"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},cfed2:function(t,e,i){"use strict";i.r(e);var n=i("b7e8"),s=i("cd2f");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("b155");var r=i("828b"),o=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"0b7d7eef",null,!1,n["a"],void 0);e["default"]=o.exports},d8ad:function(t,e,i){var n=i("db17");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("967d").default;s("e83c18b0",n,!0,{sourceMap:!1,shadowMode:!1})},d914:function(t,e,i){var n=i("9750");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("967d").default;s("401d1946",n,!0,{sourceMap:!1,shadowMode:!1})},db17:function(t,e,i){var n=i("c86c"),s=i("2ec5"),a=i("3709");e=n(!1);var r=s(a);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */[data-v-0b7d7eef] .uni-date-x--border{border:0}[data-v-0b7d7eef] .uni-icons{font-size:0!important}[data-v-0b7d7eef] .uni-date-x{color:#999;font-size:15px}[data-v-0b7d7eef] .uni-date__x-input{font-size:15px}.height-add[data-v-0b7d7eef]{height:calc(%?176?% + constant(safe-area-inset-bottom));height:calc(%?176?% + env(safe-area-inset-bottom))}[data-v-0b7d7eef] uni-checkbox[disabled] .uni-checkbox-input{background-color:#eee}.alipaysubmit[data-v-0b7d7eef]{display:none}.abs-lt .active-card[data-v-0b7d7eef]:after{right:%?-67?%}.abs-rt .active-card[data-v-0b7d7eef]:after{left:%?-67?%;-moz-transform:scaleX(-1);-webkit-transform:scaleX(-1);-o-transform:scaleX(-1);transform:scaleX(-1)}.active-card[data-v-0b7d7eef]:after{content:"";width:%?67?%;height:%?76?%;background-image:url('+r+');background-size:contain;background-repeat:no-repeat;position:absolute;bottom:0;z-index:4}.line[data-v-0b7d7eef]{width:%?680?%;margin:auto;height:%?3?%}.line uni-image[data-v-0b7d7eef]{width:100%;height:100%;display:block}.address[data-v-0b7d7eef]{background-color:#fff;box-sizing:border-box}.add1[data-v-0b7d7eef]{padding:%?36?% %?20?% %?32?% %?32?%}.add2[data-v-0b7d7eef]{padding:%?36?% %?20?% 0 %?32?%}.footer .transparent[data-v-0b7d7eef]{opacity:0}._map[data-v-0b7d7eef]{width:%?188?%;height:%?104?%;background-size:100%;background-repeat:no-repeat}.store_distance[data-v-0b7d7eef]{position:absolute;top:0;left:%?30?%;width:%?130?%;height:%?36?%;box-shadow:0 0 %?16?% 0 rgba(0,0,0,.0784)}.store_logo[data-v-0b7d7eef]{position:absolute;top:%?40?%;left:%?68?%;width:%?52?%;height:%?52?%;box-shadow:0 0 %?16?% 0 rgba(0,0,0,.0784);padding:%?6?%}.store_logo[data-v-0b7d7eef]:after{content:"";position:absolute;bottom:%?-10?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border-top:%?20?% solid #fff;border-right:%?20?% solid transparent;border-left:%?20?% solid transparent}.w-322[data-v-0b7d7eef]{width:%?322?%}.w-450[data-v-0b7d7eef]{width:%?450?%}.order_goods ~ .order_goods[data-v-0b7d7eef]{margin-top:%?32?%}.cell uni-input[data-v-0b7d7eef]{width:%?450?%;text-align:right}.cell .radio[data-v-0b7d7eef]{margin:0 %?22?%;padding:%?10?% 0}.cell ~ .cell[data-v-0b7d7eef]{margin-top:%?40?%}.SemiBold[data-v-0b7d7eef]{font-family:SemiBold}.Regular[data-v-0b7d7eef]{font-family:Regular}.placeholder[data-v-0b7d7eef]{color:#ccc}.asterisk[data-v-0b7d7eef]{position:absolute;color:red;left:0}.gradient-box[data-v-0b7d7eef]{background:linear-gradient(180deg,#2a7efb,#2a7efb 52%,rgba(233,51,35,0))}.w-50p[data-v-0b7d7eef]{width:50%}.h-auto[data-v-0b7d7eef]{height:auto}.text-primary-con[data-v-0b7d7eef]{color:#2a7efb}.bg-primary[data-v-0b7d7eef]{background:#2a7efb}.bg-primary-light[data-v-0b7d7eef]{background:#e9f2fe}.rd-lt-24rpx[data-v-0b7d7eef]{border-radius:%?24?% 0 0 0}.rd-rt-24rpx[data-v-0b7d7eef]{border-radius:0 %?24?% 0 0}.z-2[data-v-0b7d7eef]{z-index:2}.gold[data-v-0b7d7eef]{color:#dca658}.over[data-v-0b7d7eef]{width:%?104?%;height:%?104?%;border-radius:50%;background-color:rgba(51,51,51,.6);position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.con-border[data-v-0b7d7eef]{border:1px solid #2a7efb}.clear-btn[data-v-0b7d7eef]{border-radius:0 %?12?% 0 %?12?%}.svip[data-v-0b7d7eef]{width:%?56?%;height:%?26?%;background:linear-gradient(270deg,#484643,#1f1b17);border-radius:%?100?%;font-size:%?18?%;font-weight:600;color:#fddaa4;margin-left:%?10?%}.vip[data-v-0b7d7eef]{width:%?64?%;height:%?26?%;background:#fef0d9;border:1px solid #facc7d;border-radius:%?50?%;font-size:%?18?%;font-weight:500;color:#dfa541;margin-left:%?10?%}.vip .iconfont[data-v-0b7d7eef]{font-size:%?20?%;margin-right:%?4?%}.icon-a-ic_CompleteSelect[data-v-0b7d7eef]{color:#2a7efb}.pay-card[data-v-0b7d7eef]{padding:%?28?% %?32?%}.btn-border[data-v-0b7d7eef]{border:%?1?% solid #2a7efb}',""]),t.exports=e},ddbc:function(t,e,i){"use strict";var n=i("d914"),s=i.n(n);s.a},e2b0:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e966"),i("dc8a"),i("fd3c"),i("bf0f"),i("2797"),i("aa9c"),i("e838"),i("c223"),i("64aa"),i("5c47"),i("0506");var s=n(i("9b1b")),a=(n(i("f89f")),i("6af6")),r=(i("7391"),i("0f73")),o=(i("769c"),n(i("a5f2"))),u=n(i("b65d")),d=n(i("6b9f")),c=n(i("af01")),l=n(i("398a")),f=i("5088"),p=i("8f59"),v=n(i("89cc")),g=i("4d38"),h=i("2c18"),w=uni.getWindowInfo().statusBarHeight,m={components:{couponListWindow:o.default,giftDrawer:u.default,tuiModal:d.default,baseDrawer:c.default,emptyPage:l.default},mixins:[v.default],data:function(){return{imgHost:g.HTTP_REQUEST_URL,sysHeight:w,addressInfoArea:[],cityShow:2,display:!1,timeranges:[],isShow:!1,giveData:{give_integral:0,give_coupon:[]},giveCartInfo:[],confirm:[],id:0,isAddress:!1,textareaStatus:!0,formContent:"",payType:"weixin",openType:1,active:0,coupon:{coupon:!1,list:[],statusTile:"立即使用"},showAddressDrawer:!1,addressInfo:{},pinkId:0,addressId:0,couponId:0,cartId:"",type:0,activityId:0,BargainId:0,combinationId:0,seckillId:0,discountId:0,userInfo:{},mark:"",couponTitle:"请选择",coupon_price:0,promotions_detail:[],useIntegral:!1,integral_price:0,integral:0,ChangePrice:0,formIds:[],status:0,is_address:!1,shippingType:0,system_store:{},storePostage:0,mydata:{},storeList:[],store_self_mention:0,cartInfo:[],priceGroup:{},animated:!1,totalPrice:0,totalIntegral:0,integralRatio:"0",orderKey:"",offlinePostage:"",isAuto:!1,isShowAuth:!1,from:"",news:1,integral_ratio_status:1,header_type:"",pay_close:!1,noCoupon:0,valid_count:0,discount_id:0,storeId:0,product_type:1,newImg:[],isDisplay:0,goodsType:0,timerangesIndex:0,isFocus:!1,latitude:"",longitude:"",site_logo:"",range:"",showGiftDrawer:!1,svip_status:!1,svip_price:0,contactsFocus:!1,telFocus:!1,userId:0,addressList:[],addressActive:0,userPhone:"",showPayDrawer:!1,isCash:0}},computed:(0,s.default)((0,s.default)({},(0,p.mapGetters)(["isLogin"])),{},{giftCount:function(){var t=0;return this.giveCartInfo.length&&(t=this.giveCartInfo.length),this.giveData.give_coupon.length&&(t+=this.giveData.give_coupon.length),this.giveData.give_integral>0&&(t+=1),t},canSubmit:function(){return!!(0==this.shippingType&&this.addressInfo.city||1==this.shippingType&&this.userInfo.real_name&&this.userInfo.phone&&0!=this.userId||1==this.shippingType&&0==this.userId)}}),onLoad:function(t){if(this.getLocation(),this.from=this.$wechat.isWeixin()?"weixin":"weixinh5",!t.cartId)return this.$util.Tips({title:"请选择要购买的商品"},{tab:3,url:1});this.cartId=t.cartId,this.userId=t.uid,this.news=t.news,this.is_address=!!t.is_address,this.textareaStatus=!0,this.isLogin?(this.getAddressInfo(),this.getConfirm()):(0,f.toLogin)()},onShow:function(){var t=this;uni.$on("refresh",(function(e){t.addressInfo.province=e.address.province,t.$set(t.addressInfo,"city",e.address.city),t.addressInfo.district=e.address.district,t.addressInfo.street=e.address.street,t.addressInfo.detail=e.detail,t.addressInfo.real_name=e.real_name,t.addressInfo.phone=e.phone,t.addressInfo.id=0,t.showAddressDrawer=!1}))},methods:{goPay:function(t){this.isCash=t,this.formVerify()},getLocation:function(){var t=this;uni.getLocation({type:"gcj02",success:function(e){t.latitude=e.latitude,t.longitude=e.longitude}})},getList:function(){var t=this,e={page:1,limit:10,latitude:this.latitude,longitude:this.longitude};(0,r.storeListApi)(e).then((function(e){var i=e.data.list.list||[];t.$set(t,"storeList",i),t.$set(t,"system_store",i[0]),t.$set(t,"storeId",i[0].id),t.site_logo=e.data.site_logo,t.range=i[0].range,t.getConfirm()})).catch((function(t){}))},computedPrice:function(){var t=this,e=this.shippingType;(0,a.postOrderComputed)(this.orderKey,this.userId,{addressId:this.addressInfo.id,useIntegral:this.useIntegral?1:0,couponId:0==this.priceGroup.couponPrice?0:this.couponId,shipping_type:parseInt(e)+1,payType:this.payType}).then((function(i){var n=i.data.result;n&&(t.totalPrice=n.pay_price,t.totalIntegral=n.pay_integral,t.integral_price=n.deduction_price,t.coupon_price=n.coupon_price,t.promotions_detail=n.promotions_detail,t.integral=t.useIntegral?n.SurplusIntegral:t.userInfo.integral,t.$set(t.priceGroup,"storePostage",1==e?0:n.pay_postage),t.$set(t.priceGroup,"storePostageDiscount",n.storePostageDiscount))})).catch((function(e){return t.$util.Tips({title:e})}))},addressType:function(t){var e=t;this.shippingType=parseInt(e),1==e?this.getList():this.getConfirm()},bindPickerChange:function(t){var e=t.detail.value;this.shippingType=e,this.computedPrice()},ChangCouponsClone:function(){this.$set(this.coupon,"coupon",!1)},ChangCoupons:function(t){var e=this.coupon.list;e[t].is_use?(e[t].use_title="",e[t].is_use=0,this.couponTitle="请选择",this.couponId=0):(e[t].use_title="不使用",e[t].is_use=1,this.couponTitle=e[t].title,this.couponId=e[t].id),this.$set(this.coupon,"coupon",!1),this.$set(this.coupon,"list",e),this.getConfirm(1)},ruleToggle:function(t){this.coupon.list[t].ruleshow=!this.coupon.list[t].ruleshow},ChangeIntegral:function(){this.useIntegral=!this.useIntegral,this.computedPrice()},bindHideKeyboard:function(t){this.mark=t.detail.value},objToArr:function(t){var e=Object.keys(t),i=e.map((function(e){return t[e]}));return i},getConfirm:function(t){var e=this,i=this,n=parseInt(this.shippingType)+1;1==n?i.addressInfo.id:("",i.storeId);var s={cartId:i.cartId,new:i.news,shipping_type:n,addressId:""};(0,a.orderConfirm)(this.userId,s).then((function(t){1==t.data.upgrade_addr&&(i.id=t.data.addressInfo.id,e.isAddress=!0),i.$set(i,"goodsType",t.data.type),i.$set(i,"userInfo",t.data.userInfo),i.$set(i,"userPhone",t.data.userInfo.phone),i.$set(i,"integral",t.data.userInfo.integral),i.$set(i,"integralRatio",t.data.integralRatio),i.$set(i,"offlinePostage",t.data.offlinePostage),i.$set(i,"orderKey",t.data.orderKey),i.$set(i,"valid_count",t.data.valid_count),i.$set(i,"discount_id",t.data.discount_id),i.$set(i,"priceGroup",t.data.priceGroup),i.$set(i,"type",parseInt(t.data.type)),i.$set(i,"activityId",parseInt(t.data.activityId)),i.$set(i,"seckillId",parseInt(t.data.seckill_id)),i.$set(i,"BargainId",parseInt(t.data.bargain_id)),i.$set(i,"combinationId",parseInt(t.data.combination_id)),i.$set(i,"discountId",parseInt(t.data.discount_id)),i.$set(i,"integral_ratio_status",t.data.integral_ratio_status),i.$set(i,"store_self_mention",t.data.store_self_mention),i.$set(i,"svip_status",t.data.svip_status),i.$set(i,"svip_price",t.data.svip_price),i.giveData.give_integral=t.data.give_integral,i.giveData.give_coupon=t.data.give_coupon;var n=t.data.cartInfo,s=[],a=[];n.forEach((function(t){1==t.is_gift?a.push(t):s.push(t)})),i.$set(i,"cartInfo",s),i.$set(i,"giveCartInfo",a);var r=-1;a.forEach((function(t){if(0==t.product_type)return r=0})),i.$set(i,"product_type",0==t.data.product_type||0==r?0:1),i.$set(i,"ChangePrice",i.totalPrice),i.getCouponList(),i.computedPrice(),i.$set(i,"totalPrice",i.$util.$h.Add(parseFloat(t.data.priceGroup.totalPrice),parseFloat(t.data.priceGroup.storePostage)))})).catch((function(t){return e.$util.Tips({title:t})}))},getCouponList:function(){var t=this,e=this,i={cartId:this.cartId,new:this.news,shipping_type:e.$util.$h.Add(e.shippingType,1),store_id:e.system_store?e.system_store.id:0};(0,a.getCouponsOrderPrice)(this.userId,i).then((function(i){i.data.map((function(e){t.$set(e,"ruleshow",!1)})),e.$set(e.coupon,"list",i.data),e.openType=1})).catch((function(t){return e.$util.Tips({title:t})}))},getAddressInfo:function(){var t=this;(0,a.adminUserAddressList)(this.userId,{page:1,limit:10}).then((function(e){t.addressList=e.data,e.data.length&&(t.addressInfo=e.data[0])})).catch((function(e){return uni.hideLoading(),t.$util.Tips({title:e})}))},showMaoLocation:function(){uni.openLocation({latitude:parseFloat(this.system_store.longitude),longitude:parseFloat(this.system_store.latitude),scale:8,name:this.system_store.name,address:this.system_store.address+this.system_store.detailed_address})},couponTap:function(){var t=this;this.coupon.coupon=!0,this.coupon.list.forEach((function(e,i){e.id==t.couponId?e.is_use=1:e.is_use=0})),this.$set(this.coupon,"list",this.coupon.list)},car:function(){this.animated=!1},onAddress:function(){this.showAddressDrawer=!0},goAddressPages:function(){uni.navigateTo({url:"/pages/users/user_address/addClient"})},tapAddress:function(t,e){this.addressActive=t,this.addressInfo=e},payment:function(t){var e=this,i=this;(0,a.orderCreate)(i.orderKey,i.userId,t).then((function(t){if(e.$Cache.clear("touristId"),uni.hideLoading(),e.isCash){var i={uni:t.data.result.order_id,paytype:"cash",quitUrl:""};(0,a.getCashierApi)(e.userId,i).then((function(i){if("SUCCESS"==i.data.status)return e.$util.Tips({title:"支付成功"},{tab:5,url:"/pages/admin/orderDetail/index?id="+t.data.result.order_id})})).catch((function(t){return e.$util.Tips({title:t})}))}else uni.redirectTo({url:"/pages/behalf/cashier/index?order_id=".concat(t.data.result.order_id,"&uid=").concat(e.userId)})})).catch((function(t){return uni.hideLoading(),i.$util.Tips({title:t})}))},clickTextArea:function(){this.$refs.textarea.focus()},bindDateChange:function(t,e){this.confirm[e].value=t.target.value},bindTimeChange:function(t,e){this.confirm[e].value=t.target.value},bindSelectChange:function(t,e,i){this.confirm[e].value=i.wordsConfig.list[t.detail.value].val},getTimeranges:function(t){this.isShow=!0,this.timerangesIndex=t},confrim:function(t){this.isShow=!1,this.confirm[this.timerangesIndex].value=t.time;var e=[];t.val.forEach((function(t){e.push(Number(t))})),this.timeranges=e},formVerify:function(){if(!this.addressInfo.real_name&&!this.shippingType&&!this.product_type)return this.$util.Tips({title:"请选择收货地址"});if(1==this.shippingType&&0!=this.userId){if(""==this.userInfo.real_name||""==this.userInfo.phone)return this.$util.Tips({title:"请填写联系人或联系人电话"});if(!/^1(3|4|5|7|8|9|6)\d{9}$/.test(this.userInfo.phone))return this.$util.Tips({title:"请填写正确的手机号"});if(!/^[\u4e00-\u9fa5\w]{2,16}$/.test(this.userInfo.real_name))return this.$util.Tips({title:"请填写您的真实姓名"});if(0==this.storeList.length)return this.$util.Tips({title:"暂无门店,请选择其他方式"})}if(4==this.type&&this.totalIntegral>this.userInfo.integral)return this.$util.Tips({title:"您的积分不足以抵扣本单积分金额"});this.SubOrder()},SubOrder:function(t){var e;e={real_name:0==this.shippingType?this.addressInfo.real_name:this.userInfo.real_name,phone:0==this.shippingType?this.addressInfo.phone:this.userInfo.phone,address:0==this.shippingType?this.addressInfo.province+this.addressInfo.city+this.addressInfo.district+this.addressInfo.street+this.addressInfo.detail:"",addressId:this.addressInfo.id,couponId:0==this.priceGroup.couponPrice?0:this.couponId,useIntegral:this.useIntegral,mark:this.mark,shipping_type:this.$util.$h.Add(this.shippingType,1)},uni.showLoading({title:"订单支付中"}),this.payment(e)},goDetail:function(t){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(t,"&fromType=1")})},addCart:function(t,e){var i=this;if(1==t&&e.productInfo.stock==e.cart_num)return this.$util.Tips({title:"该产品没有更多库存了！"});(0,a.adminCartNum)(this.userId,{id:e.id,number:t?e.cart_num+1:e.cart_num-1,tourist_uid:0==this.userId?this.$Cache.get("touristId"):""}).then((function(t){i.getConfirm(),setTimeout((function(){i.computedPrice()}),500)})).catch((function(t){return i.$util.Tips({title:t})}))},setValue:(0,h.Debounce)((function(t,e){var i=this,n=t.detail.value;if(e.productInfo.limit_num>0&&n>e.productInfo.limit_num)return e.cart_num=e.productInfo.limit_num,this.$util.Tips({title:"购物车数量不能大于限购数量"});(0,a.adminCartNum)(this.userId,{id:e.id,number:n,tourist_uid:0==this.userId?this.$Cache.get("touristId"):""}).then((function(t){i.getConfirm(),setTimeout((function(){i.computedPrice()}),500)})).catch((function(t){return i.$util.Tips({title:t})}))})),goPage:function(t,e){1==t?uni.navigateTo({url:e}):2==t?uni.switchTab({url:e}):3==t&&uni.navigateBack()},closeDrawer:function(){this.showGiftDrawer=!1},hideModal:function(){this.isAddress=!1},handleClick:function(t){var e=t.index;1==e&&uni.navigateTo({url:"/pages/users/user_address/index?id="+this.id+"&new="+this.news+"&cartId="+this.cartId+"&pinkId="+this.pinkId+"&couponId="+this.couponId}),this.isAddress=!1},clearInput:function(t){0==t?(this.userInfo.real_name="",this.contactsFocus=!0):(this.userInfo.phone="",this.telFocus=!0)},payDrawerChange:function(){this.showPayDrawer=!0}}};e.default=m}}]);