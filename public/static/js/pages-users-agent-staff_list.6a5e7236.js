(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-agent-staff_list"],{"04f4":function(t,i,e){"use strict";e.r(i);var a=e("8d8a"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"10b2":function(t,i,e){"use strict";var a=e("6e69"),n=e.n(a);n.a},3868:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"tui-modal__container",class:[t.show?"tui-modal-show":""],style:{zIndex:t.zIndex}},[e("v-uni-view",{staticClass:"tui-modal-box",class:[t.fadeIn||t.show?"tui-modal-normal":"tui-modal-scale",t.show?"tui-modal-show":""]},[t.custom?e("v-uni-view",[t._t("default")],2):e("v-uni-view",[t.title?e("v-uni-view",{staticClass:"tui-modal-title"},[t._v(t._s(t.title))]):t._e(),e("v-uni-view",{staticClass:"tui-modal-content",class:[t.title?"":"tui-mtop"]},[t._v(t._s(t.content))]),e("v-uni-view",{staticClass:"tui-modalBtn-box"},[e("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-cancel",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleClick(0)}}},[t._v(t._s(t.cancelText))]),e("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-confirm",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleClick(1)}}},[t._v(t._s(t.confirmText))])],1)],1)],1),t.isMask?e("v-uni-view",{staticClass:"tui-modal-mask",class:[t.show?"tui-mask-show":""],style:{zIndex:t.maskZIndex,background:t.maskColor},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.handleClickCancel.apply(void 0,arguments)}}}):t._e()],1)},n=[]},"3d938":function(t,i,e){"use strict";e.r(i);var a=e("aa8b"),n=e("950f");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("9e2c");var s=e("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"b6af68f4",null,!1,a["a"],void 0);i["default"]=r.exports},"550e":function(t,i,e){var a=e("9988");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("28a54e93",a,!0,{sourceMap:!1,shadowMode:!1})},"68cf":function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,".tui-modal__container[data-v-6bd2b1a0]{width:100%;height:100%;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;visibility:hidden}.tui-modal-box[data-v-6bd2b1a0]{position:relative;opacity:0;visibility:hidden;box-sizing:border-box;transition:all .3s ease-in-out;width:%?600?%;padding:%?40?%;border-radius:%?32?%;background-color:#fff;z-index:9999}.tui-modal-scale[data-v-6bd2b1a0]{-webkit-transform:scale(0);transform:scale(0)}.tui-modal-normal[data-v-6bd2b1a0]{-webkit-transform:scale(1);transform:scale(1)}.tui-modal-show[data-v-6bd2b1a0]{opacity:1;visibility:visible}.tui-modal-mask[data-v-6bd2b1a0]{position:fixed;top:0;left:0;right:0;bottom:0;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-6bd2b1a0]{visibility:visible;opacity:1}.tui-modal-title[data-v-6bd2b1a0]{text-align:center;font-size:%?32?%;line-height:%?52?%;color:#333;font-weight:500}.tui-modal-content[data-v-6bd2b1a0]{text-align:center;color:#666;font-size:%?30?%;line-height:%?40?%;margin:%?24?% auto %?40?%}.tui-mtop[data-v-6bd2b1a0]{margin-top:%?30?%}.tui-mbtm[data-v-6bd2b1a0]{margin-bottom:%?30?%}.tui-modalBtn-box[data-v-6bd2b1a0]{width:100%;display:flex;align-items:center;justify-content:space-between}.tui-flex-column[data-v-6bd2b1a0]{flex-direction:column}.tui-modal-btn[data-v-6bd2b1a0]{width:%?244?%;height:%?72?%;border-radius:%?36?%;font-size:%?26?%}.tui-modal-btn-cancel[data-v-6bd2b1a0]{border:1px solid var(--view-theme);color:var(--view-theme)}.tui-modal-btn-confirm[data-v-6bd2b1a0]{background-color:var(--view-theme);color:#fff}",""]),t.exports=i},"6b9f":function(t,i,e){"use strict";e.r(i);var a=e("3868"),n=e("04f4");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("10b2");var s=e("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"6bd2b1a0",null,!1,a["a"],void 0);i["default"]=r.exports},"6e69":function(t,i,e){var a=e("68cf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("057983e6",a,!0,{sourceMap:!1,shadowMode:!1})},"8d8a":function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("64aa");var a={name:"tuiModal",emits:["click","cancel"],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},maskClosable:{type:Boolean,default:!0},isMask:{type:Boolean,default:!0},maskColor:{type:String,default:"rgba(0, 0, 0, 0.6)"},fadeIn:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},zIndex:{type:Number,default:9997},maskZIndex:{type:Number,default:9990}},data:function(){return{}},methods:{handleClick:function(t){this.show&&this.$emit("click",{index:Number(t)})},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}}};i.default=a},"950f":function(t,i,e){"use strict";e.r(i);var a=e("e369"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},9988:function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.empty[data-v-b6af68f4]{margin:%?20?%}.font-nums[data-v-b6af68f4]{color:#e93323}.promoter-list .nav[data-v-b6af68f4]{background-color:#fff;height:%?92?%;line-height:%?86?%;font-size:%?28?%;color:#666;font-family:PingFang SC}.promoter-list .nav .item.on[data-v-b6af68f4]{color:#e93323;position:relative;font-size:%?32?%}.promoter-list .nav .item.on[data-v-b6af68f4]::after{position:absolute;content:"";width:%?38?%;height:%?30?%;border:2px solid #e93323;border-left:2px solid transparent!important;border-top:2px solid transparent!important;border-right:2px solid transparent!important;border-radius:50%;left:50%;margin-left:%?-24?%;bottom:%?16?%}.promoter-list .header[data-v-b6af68f4]{background-color:#fff;padding-top:%?24?%}.promoter-list .search[data-v-b6af68f4]{width:%?710?%;height:%?72?%;padding:0 %?32?%;box-sizing:border-box;background-color:#f5f5f5;border-radius:%?50?%;margin:0 auto %?10?% auto}.promoter-list .search .placeholder[data-v-b6af68f4]{color:#ccc;font-size:%?28?%}.promoter-list .search .iconfont[data-v-b6af68f4]{font-size:%?32?%;color:#999;margin-right:%?18?%}.promoter-list .list[data-v-b6af68f4]{margin-top:%?12?%}.promoter-list .list .sortNav[data-v-b6af68f4]{background-color:#fff;height:%?76?%;border-bottom:%?1?% solid #eee;color:#333;font-size:%?28?%}.promoter-list .list .sortNav .sortItem[data-v-b6af68f4]{text-align:center;flex:1}.promoter-list .list .sortNav .sortItem uni-image[data-v-b6af68f4]{width:%?24?%;height:%?24?%;margin-left:%?6?%;vertical-align:%?-3?%}.promoter-list .list .itemCon[data-v-b6af68f4]{background-color:#fff;margin:0 %?20?%;border-radius:%?24?%;padding-top:%?10?%}.promoter-list .list .item[data-v-b6af68f4]{height:%?290?%;font-size:%?24?%;color:#666;margin:0 %?24?%}.promoter-list .list .item .picTxt[data-v-b6af68f4]{width:%?440?%}.promoter-list .list .item .picTxt .pictrue[data-v-b6af68f4]{width:%?112?%;height:%?112?%;border-radius:50%}.promoter-list .list .item .picTxt .pictrue uni-image[data-v-b6af68f4]{width:100%;height:100%;border-radius:50%}.promoter-list .list .item .picTxt .text[data-v-b6af68f4]{width:%?304?%;font-size:%?24?%;color:#999}.promoter-list .list .item .picTxt .text .name[data-v-b6af68f4]{font-size:%?28?%;color:#333;margin-bottom:%?13?%}.promoter-list .list .item .right[data-v-b6af68f4]{width:%?190?%;text-align:right;font-size:%?24?%;color:#333}.promoter-list .list .item .right .num[data-v-b6af68f4]{margin-right:%?7?%}.top_num[data-v-b6af68f4]{padding:%?14?% %?20?% %?28?% %?20?%;font-size:%?24?%;color:#666}.main_color[data-v-b6af68f4]{color:#e93323;margin:0 %?6?%}.item-btn[data-v-b6af68f4]{width:100%;display:flex;align-items:center;justify-content:space-between;background-color:#fff;border-top:%?1?% solid #eee;padding:%?26?% 0 %?16?% 0;font-size:%?24?%}.item-btn .division-percent[data-v-b6af68f4]{color:#999}.item-btn .action[data-v-b6af68f4]{display:flex;align-items:center}.item-btn .clear[data-v-b6af68f4],\n.item-btn .change[data-v-b6af68f4]{padding:%?10?% %?24?%;border-radius:%?30?%}.item-btn .clear[data-v-b6af68f4]{border:%?1?% solid #ccc;color:#333}.item-btn .change[data-v-b6af68f4]{background-color:#e93323;color:#fff;margin-left:%?16?%}.refund-input[data-v-b6af68f4]{position:fixed;bottom:0;left:0;width:100%;border-radius:%?40?% %?40?% 0 0;background-color:#fff;z-index:99;padding:%?40?% 0 %?70?% 0;transition:all .3s cubic-bezier(.25,.5,.5,.9);-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.refund-input .refund-input-title[data-v-b6af68f4]{font-weight:500;font-size:16px;color:#333;font-size:%?32?%;margin-bottom:%?60?%}.refund-input .refund-input-sty[data-v-b6af68f4]{background-color:#f5f5f5;padding:%?20?% %?20?%;border-radius:%?50?%;color:#bbb;width:100%;margin:%?0?% %?20?% %?0?% %?20?%;text-align:center}.refund-input[data-v-b6af68f4] .uni-input-placeholder,\n.refund-input[data-v-b6af68f4] .uni-input-input{color:#bbb;text-align:center}.refund-input .input-msg[data-v-b6af68f4]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;margin:0 %?65?%}.refund-input .input-msg .close[data-v-b6af68f4]{position:absolute;top:%?8?%;color:#aaa;font-size:%?32?%;right:%?-30?%;width:%?36?%;height:%?36?%;border-radius:50%;margin-top:%?-18?%;background:#eee;text-align:center;line-height:%?36?%}.refund-input .refund-bth[data-v-b6af68f4]{display:flex;margin:0 %?65?%;margin-top:%?20?%;justify-content:space-around;width:100%}.refund-input .refund-bth .close-refund[data-v-b6af68f4]{padding:%?24?% %?80?%;border-radius:%?80?%;color:#fff;background-color:#ccc}.refund-input .refund-bth .submit-refund[data-v-b6af68f4]{width:100%;padding:%?24?% %?0?%;text-align:center;border-radius:%?80?%;color:#fff;background-color:#e93323}.refund-input.on[data-v-b6af68f4]{-webkit-transform:translateZ(0);transform:translateZ(0)}',""]),t.exports=i},"9e2c":function(t,i,e){"use strict";var a=e("550e"),n=e.n(a);n.a},aa8b:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{style:t.colorStyle},[e("v-uni-view",{staticClass:"promoter-list"},[e("v-uni-view",{staticClass:"header"},[e("v-uni-view",{staticClass:"search acea-row row-middle"},[e("v-uni-text",{staticClass:"iconfont icon-ic_search"}),e("v-uni-input",{attrs:{placeholder:"搜索用户名称","placeholder-class":"placeholder","confirm-type":"search",name:"search"},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.submitForm.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}})],1),e("timeSlot",{on:{changeTime:function(i){arguments[0]=i=t.$handleEvent(i),t.changeTime.apply(void 0,arguments)}}})],1),t.recordList.length?e("v-uni-view",{staticClass:"list"},[e("v-uni-view",{staticClass:"top_num"},[t._v("共"),e("v-uni-text",{staticClass:"main_color"},[t._v(t._s(t.count))]),t._v("位员工，获得佣金"),e("v-uni-text",{staticClass:"main_color"},[t._v("¥"+t._s(t.price))])],1),e("v-uni-view",{staticClass:"itemCon"},t._l(t.recordList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"item acea-row row-between-wrapper"},[e("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[e("v-uni-view",{staticClass:"pictrue"},[e("v-uni-image",{attrs:{src:i.avatar}})],1),e("v-uni-view",{staticClass:"text"},[e("v-uni-view",{staticClass:"name line1"},[t._v(t._s(i.nickname))]),e("v-uni-view",[t._v("加入时间："+t._s(i.spread_time))])],1)],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-view",[e("v-uni-text",{staticClass:"num font-nums"},[t._v(t._s(i.childCount?i.childCount:0))]),t._v("人")],1),e("v-uni-view",[e("v-uni-text",{staticClass:"num"},[t._v(t._s(i.orderCount?i.orderCount:0))]),t._v("单")],1),e("v-uni-view",[e("v-uni-text",{staticClass:"num"},[t._v(t._s(i.numberCount?i.numberCount:0))]),t._v("元")],1)],1),e("v-uni-view",{staticClass:"item-btn"},[e("v-uni-view",{staticClass:"division-percent"},[t._v("分佣比例："+t._s(i.division_percent)+"%")]),e("v-uni-view",{staticClass:"action"},[e("v-uni-view",{staticClass:"clear",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.del(i,a)}}},[t._v("删除")]),e("v-uni-view",{staticClass:"change",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeData(i)}}},[t._v("修改分佣比例")])],1)],1)],1)})),1)],1):t._e(),0==t.recordList.length?e("v-uni-view",{staticClass:"empty"},[e("emptyPage",{attrs:{title:"暂无数据～"}})],1):t._e()],1),e("v-uni-view",{staticClass:"refund-input",class:t.refund_close?"on":""},[e("v-uni-view",{staticClass:"input-msg"},[e("v-uni-view",{staticClass:"close"},[e("v-uni-text",{staticClass:"iconfont icon-ic_close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.refund_close=!1}}})],1),e("v-uni-view",{staticClass:"refund-input-title"},[t._v("修改分佣比例(%)")]),e("v-uni-view",{staticClass:"refund-input-sty"},[e("v-uni-input",{attrs:{type:"number",placeholder:"请输入百分比"},model:{value:t.agent_percent,callback:function(i){t.agent_percent=i},expression:"agent_percent"}})],1),e("v-uni-view",{staticClass:"refund-bth"},[e("v-uni-view",{staticClass:"submit-refund",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.refundSubmit()}}},[t._v("提交")])],1)],1)],1),t.refund_close?e("v-uni-view",{staticClass:"mask invoice-mask",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.refund_close=!1}}}):t._e(),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isCancellation,expression:"isCancellation"}],staticClass:"mark"}),e("tui-modal",{attrs:{show:t.isCancellation,maskClosable:!0,custom:!0},on:{cancel:function(i){arguments[0]=i=t.$handleEvent(i),t.isCancellation=!1}}},[e("v-uni-view",{staticClass:"tui-modal-custom"},[e("v-uni-view",{staticClass:"fs-32 fw-500 lh-44rpx text-center"},[t._v("删除员工")]),e("v-uni-view",{staticClass:"fs-30 text--w111-666 lh-42rpx text-center mt-22"},[t._v("确定删除该员工？")]),e("v-uni-view",{staticClass:"flex-y-center"},[e("v-uni-view",{staticClass:"w-full h-72 rd-36rpx flex-center border b-solid b--w111-ccc text-primary-con fs-26  mt-32 mr-16 clear-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isCancellation=!1}}},[t._v("取消")]),e("v-uni-view",{staticClass:"w-full h-72 rd-36rpx flex-center bg-red fs-26 text--w111-fff mt-32 ml-16",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clear.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)},n=[]},e369:function(t,i,e){"use strict";(function(t){e("6a54");var a=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("dd2b"),e("4100"),e("c223");var n=e("92f9"),o=e("5088"),s=e("8f59"),r=a(e("398a")),l=a(e("c030")),c=a(e("89cc")),d=a(e("6b9f")),u={components:{timeSlot:l.default,emptyPage:r.default,tuiModal:d.default},mixins:[c.default],data:function(){return{total:0,totalLevel:0,teamCount:0,page:1,limit:20,keyword:"",sort:"",grade:0,status:!1,recordList:[],isAuto:!1,isShowAuth:!1,start:0,stop:0,count:0,price:0,brokerageLevel:0,refund_close:!1,isCancellation:!1,agent_percent:null,delIndex:0,uid:null}},computed:(0,s.mapGetters)(["isLogin"]),onLoad:function(){this.isLogin?this.userSpreadNewList():(0,o.toLogin)()},onShow:function(){uni.removeStorageSync("form_type_cart"),this.is_show&&this.userSpreadNewList()},onHide:function(){this.is_show=!0},methods:{changeData:function(t){this.refund_close=!0,this.uid=t.uid},del:function(t,i){this.uid=t.uid,this.delIndex=i,this.isCancellation=!0},clear:function(){var t=this,i=this;(0,n.agentDelStaff)(this.uid).then((function(e){return i.recordList.splice(t.delIndex,1),i.$set(i,"recordList",i.recordList),i.isCancellation=!1,i.teamCount-=1,i.$util.Tips({title:"删除成功",icon:"success"})})).catch((function(t){return i.$util.Tips({title:t})}))},refundSubmit:function(){var t=this;if(this.agent_percent<0)return this.$util.Tips({title:"请输入比例"});(0,n.agentStaffPercent)({division_percent:this.agent_percent,uid:this.uid}).then((function(i){t.$util.Tips({title:i.msg,icon:"success"},(function(){t.refund_close=!1,t.page=1,t.limit=20,t.keyword="",t.status=!1,t.agent_percent=null,t.$set(t,"recordList",[]),t.userSpreadNewList()}))})).catch((function(i){t.$util.Tips({title:i})}))},changeTime:function(t){this.start=t.start,this.stop=t.stop,this.submitForm()},onLoadFun:function(t){this.userSpreadNewList(),this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},setSort:function(t){this.sort=t,this.page=1,this.limit=20,this.status=!1,this.$set(this,"recordList",[]),this.userSpreadNewList()},submitForm:function(){this.page=1,this.limit=20,this.status=!1,this.$set(this,"recordList",[]),this.userSpreadNewList()},setType:function(t){this.grade!=t&&(this.grade=t,this.page=1,this.limit=20,this.keyword="",this.sort="",this.status=!1,this.$set(this,"recordList",[]),this.userSpreadNewList())},userSpreadNewList:function(){var t=this,i=t.page,e=t.limit,a=t.status,o=t.keyword,s=(t.sort,t.grade,t.recordList),r=[];1!=a&&(0,n.agentStaffList)({start:this.start,stop:this.stop,page:i,limit:e,keyword:o}).then((function(a){var n=a.data.list.length,o=a.data.list;r=s.concat(o),t.total=a.data.count,t.teamCount=a.data.count,t.status=e>n,t.page=i+1,t.$set(t,"recordList",r),t.count=a.data.count,t.price=a.data.brokerage}))}},onReachBottom:function(){this.userSpreadNewList()}};i.default=u}).call(this,e("ba7c")["default"])}}]);