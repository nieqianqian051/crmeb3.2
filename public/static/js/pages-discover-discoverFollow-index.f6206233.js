(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-discover-discoverFollow-index"],{"04f4":function(t,e,i){"use strict";i.r(e);var n=i("8d8a"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"10b2":function(t,e,i){"use strict";var n=i("6e69"),a=i.n(n);a.a},"1c02":function(t,e,i){var n=i("cb4d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("039e34a6",n,!0,{sourceMap:!1,shadowMode:!1})},"37d6":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:t.colorStyle},[i("v-uni-view",{staticClass:"bg--w111-fff"},[i("v-uni-view",{style:{"padding-top":t.sysHeight+"px"}},[i("v-uni-view",{staticClass:"flex-between-center h-80 px-20"},[i("v-uni-text",{staticClass:"iconfont icon-ic_leftarrow fs-40",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backPage.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"h-80 flex-y-center fs-32 text--w111-999"},[i("v-uni-view",{class:{"tab-active":0==t.tabActive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(0)}}},[t._v("好友")]),i("v-uni-view",{staticClass:"ml-48",class:{"tab-active":1==t.tabActive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(1)}}},[t._v("关注")]),i("v-uni-view",{staticClass:"ml-48",class:{"tab-active":2==t.tabActive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(2)}}},[t._v("粉丝")])],1),i("v-uni-text",{staticClass:"w-40"})],1)],1),t._l(t.userList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"h-180 p-30 flex-between-center"},[i("v-uni-view",{staticClass:"flex-y-center",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.authTo("/pages/discover/discoverUser/index?id="+e.relation_id)}}},[i("v-uni-image",{staticClass:"w-120 h-120 rd-50-p111-",attrs:{src:e.author_image,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"pl-20"},[i("v-uni-view",{staticClass:"fs-30"},[t._v(t._s(e.author))]),i("v-uni-view",{staticClass:"flex-y-center mt-16 fs-24 text--w111-999"},[i("v-uni-text",[t._v("内容·"+t._s(e.community_num))]),i("v-uni-text",{staticClass:"pl-30"},[t._v("粉丝·"+t._s(e.fans_num))])],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==e.is_follow&&0==e.is_fans,expression:"item.is_follow == 0 && item.is_fans == 0"}],staticClass:"w-124 h-52 rd-30rpx flex-center bg-color text--w111-fff fs-24",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.followChange(e)}}},[t._v("关注")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==e.is_follow&&0==e.is_fans,expression:"item.is_follow == 1 && item.is_fans == 0"}],staticClass:"w-124 h-52 rd-30rpx flex-center bg--w111-fff text--w111-999 b-d fs-24",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openModal(e,n)}}},[t._v("已关注")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==e.is_follow&&1==e.is_fans,expression:"item.is_follow == 0 && item.is_fans == 1"}],staticClass:"w-124 h-52 rd-30rpx flex-center bg-color text--w111-fff fs-24",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.followChange(e)}}},[t._v("回关")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==e.is_follow&&1==e.is_fans,expression:"item.is_follow == 1 && item.is_fans == 1"}],staticClass:"w-124 h-52 rd-30rpx flex-center bg--w111-fff text--w111-999 b-d fs-24",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openModal(e,n)}}},[t._v("互相关注")])],1)})),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.userList.length,expression:"!userList.length"}]},[i("emptyPage",{attrs:{title:t.emptyText(),src:"/statics/images/video/no_friend.png"}})],1)],2),i("tuiModal",{attrs:{show:t.showModal,title:"确认取消关注",maskClosable:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}}),i("home")],1)},a=[]},3868:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-modal__container",class:[t.show?"tui-modal-show":""],style:{zIndex:t.zIndex}},[i("v-uni-view",{staticClass:"tui-modal-box",class:[t.fadeIn||t.show?"tui-modal-normal":"tui-modal-scale",t.show?"tui-modal-show":""]},[t.custom?i("v-uni-view",[t._t("default")],2):i("v-uni-view",[t.title?i("v-uni-view",{staticClass:"tui-modal-title"},[t._v(t._s(t.title))]):t._e(),i("v-uni-view",{staticClass:"tui-modal-content",class:[t.title?"":"tui-mtop"]},[t._v(t._s(t.content))]),i("v-uni-view",{staticClass:"tui-modalBtn-box"},[i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(0)}}},[t._v(t._s(t.cancelText))]),i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(1)}}},[t._v(t._s(t.confirmText))])],1)],1)],1),t.isMask?i("v-uni-view",{staticClass:"tui-modal-mask",class:[t.show?"tui-mask-show":""],style:{zIndex:t.maskZIndex,background:t.maskColor},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickCancel.apply(void 0,arguments)}}}):t._e()],1)},a=[]},"398a":function(t,e,i){"use strict";i.r(e);var n=i("75a0"),a=i("a6d8");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("5a3a");var s=i("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"29de270c",null,!1,n["a"],void 0);e["default"]=c.exports},"3a4d":function(t,e,i){var n=i("9d84");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("07332c8f",n,!0,{sourceMap:!1,shadowMode:!1})},"47cc":function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c223");var a=i("eb8a"),o=n(i("89cc")),s=n(i("398a")),c=n(i("6b9f")),u=uni.getWindowInfo().statusBarHeight,l={data:function(){return{sysHeight:u,tabActive:0,params:{page:1,limit:20},type:"follow",loading:!1,userList:[],showModal:!1,uid:"",index:0}},mixins:[o.default],components:{emptyPage:s.default,tuiModal:c.default},computed:{menuBoxStyle:function(){var t=wx.getMenuButtonBoundingClientRect();return{width:t.left+"px"}}},onLoad:function(t){t.type&&0==t.type?(this.tabActive=1,this.type="follow",this.getList()):t.type&&1==t.type?(this.tabActive=0,this.getFriend()):t.type&&2==t.type?(this.tabActive=2,this.type="fans",this.getList()):(this.tabActive=0,this.getFriend())},methods:{changeTab:function(t){this.tabActive!=t&&(this.tabActive=t,this.loading=!1,this.userList=[],this.params.page=1,1==t?(this.type="follow",this.getList()):2==t?(this.type="fans",this.getList()):0==t&&this.getFriend())},authTo:function(t){uni.navigateTo({url:t})},backPage:function(){uni.navigateBack()},getList:function(){var t=this;this.loading||(this.loading=!0,(0,a.communityFlowListApi)(this.type,this.params).then((function(e){var i=e.data,n=i.length<t.params.limit;t.userList=t.userList.concat(i),t.params.page++,t.loading=n})).catch((function(e){return t.$util.Tips({title:e})})))},getFriend:function(){var t=this;this.loading||(this.loading=!0,(0,a.communityFriendListApi)(this.params).then((function(e){var i=e.data,n=i.length<t.params.limit;t.userList=t.userList.concat(i),t.params.page++,t.loading=n})).catch((function(e){return t.$util.Tips({title:e})})))},openModal:function(t,e){this.uid=t.relation_id,this.index=e,this.showModal=!0},handleClick:function(t){var e=this,i=t.index;1==i?(0,a.communitySetInsterestApi)(this.uid,{status:0}).then((function(t){e.userList[e.index].is_follow=0,e.showModal=!1})).catch((function(t){e.showModal=!1,uni.showToast({title:t,icon:"none",duration:2e3})})):this.showModal=!1},followChange:function(t){var e=this;(0,a.communitySetInsterestApi)(t.relation_id,{status:1}).then((function(i){return t.is_follow=1,e.$util.Tips({title:i.msg})})).catch((function(t){return e.$util.Tips({title:t})}))},emptyText:function(){return{0:"您还没有好友哦~",1:"您还没有关注任何人哦~",2:"您还没有粉丝哦~"}[this.tabActive]}},onReachBottom:function(){this.getList()},onPageScroll:function(){uni.$emit("scroll")}};e.default=l},"5a3a":function(t,e,i){"use strict";var n=i("3a4d"),a=i.n(n);a.a},"5baa":function(t,e,i){"use strict";i.r(e);var n=i("37d6"),a=i("9b37");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("cb8c");var s=i("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7334cca0",null,!1,n["a"],void 0);e["default"]=c.exports},"68cf":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".tui-modal__container[data-v-6bd2b1a0]{width:100%;height:100%;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;visibility:hidden}.tui-modal-box[data-v-6bd2b1a0]{position:relative;opacity:0;visibility:hidden;box-sizing:border-box;transition:all .3s ease-in-out;width:%?600?%;padding:%?40?%;border-radius:%?32?%;background-color:#fff;z-index:9999}.tui-modal-scale[data-v-6bd2b1a0]{-webkit-transform:scale(0);transform:scale(0)}.tui-modal-normal[data-v-6bd2b1a0]{-webkit-transform:scale(1);transform:scale(1)}.tui-modal-show[data-v-6bd2b1a0]{opacity:1;visibility:visible}.tui-modal-mask[data-v-6bd2b1a0]{position:fixed;top:0;left:0;right:0;bottom:0;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-6bd2b1a0]{visibility:visible;opacity:1}.tui-modal-title[data-v-6bd2b1a0]{text-align:center;font-size:%?32?%;line-height:%?52?%;color:#333;font-weight:500}.tui-modal-content[data-v-6bd2b1a0]{text-align:center;color:#666;font-size:%?30?%;line-height:%?40?%;margin:%?24?% auto %?40?%}.tui-mtop[data-v-6bd2b1a0]{margin-top:%?30?%}.tui-mbtm[data-v-6bd2b1a0]{margin-bottom:%?30?%}.tui-modalBtn-box[data-v-6bd2b1a0]{width:100%;display:flex;align-items:center;justify-content:space-between}.tui-flex-column[data-v-6bd2b1a0]{flex-direction:column}.tui-modal-btn[data-v-6bd2b1a0]{width:%?244?%;height:%?72?%;border-radius:%?36?%;font-size:%?26?%}.tui-modal-btn-cancel[data-v-6bd2b1a0]{border:1px solid var(--view-theme);color:var(--view-theme)}.tui-modal-btn-confirm[data-v-6bd2b1a0]{background-color:var(--view-theme);color:#fff}",""]),t.exports=e},"6b9f":function(t,e,i){"use strict";i.r(e);var n=i("3868"),a=i("04f4");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("10b2");var s=i("828b"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6bd2b1a0",null,!1,n["a"],void 0);e["default"]=c.exports},"6e69":function(t,e,i){var n=i("68cf");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("967d").default;a("057983e6",n,!0,{sourceMap:!1,shadowMode:!1})},"75a0":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"empty-page w-full flex-col flex-center pt-82 bg--w111-fff rd-24rpx"},[i("v-uni-image",{staticClass:"empty-img",attrs:{src:t.imgSrc}}),t.isLogin?t._e():i("v-uni-view",{staticClass:"fs-28 fw-500 text--w111-282828"},[t._v("暂未登录")]),i("v-uni-view",{staticClass:"fs-26 text--w111-999 lh-36rpx pt-16"},[t._v(t._s(t.title))]),t.isLogin?t._e():i("v-uni-view",{staticClass:"w-360 h-72 rd-36rpx flex-center font-num fw-500 fs-26 theme-border mt-48",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goLog.apply(void 0,arguments)}}},[t._v("立即登录")]),t._t("bottom")],2)},a=[]},"8d8a":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var n={name:"tuiModal",emits:["click","cancel"],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},maskClosable:{type:Boolean,default:!0},isMask:{type:Boolean,default:!0},maskColor:{type:String,default:"rgba(0, 0, 0, 0.6)"},fadeIn:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},zIndex:{type:Number,default:9997},maskZIndex:{type:Number,default:9990}},data:function(){return{}},methods:{handleClick:function(t){this.show&&this.$emit("click",{index:Number(t)})},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}}};e.default=n},"9b37":function(t,e,i){"use strict";i.r(e);var n=i("47cc"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"9d84":function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.pt-82[data-v-29de270c]{padding:%?82?% 0 %?160?%}.empty-img[data-v-29de270c]{width:%?440?%;height:%?360?%}.theme-border[data-v-29de270c]{border:1px solid var(--view-theme)}',""]),t.exports=e},a6d8:function(t,e,i){"use strict";i.r(e);var n=i("c371"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},c371:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("4d38"),a=i("5088"),o={props:{title:{type:String,default:"暂无记录"},src:{type:String,default:"/statics/images/empty-box.gif"},isLogin:{type:Boolean,default:!0}},data:function(){return{imgHost:n.HTTP_REQUEST_URL}},computed:{imgSrc:function(){return n.HTTP_REQUEST_URL+this.src}},methods:{goLog:function(){(0,a.toLogin)()}}};e.default=o},cb4d:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.tab-active[data-v-7334cca0]{font-weight:500;color:#333;position:relative}.tab-active[data-v-7334cca0]:after{content:"";position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:%?-14?%;width:%?64?%;height:%?5?%;background:var(--view-theme);border-radius:%?4?%}.b-d[data-v-7334cca0]{border:1px solid #ddd}',""]),t.exports=e},cb8c:function(t,e,i){"use strict";var n=i("1c02"),a=i.n(n);a.a},eb8a:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.communityBrowseApi=function(t){return a.default.put("community/browse/".concat(t))},e.communityDeleteApi=function(t){return a.default.delete("community/community_delete/".concat(t))},e.communityElegantListApi=function(t){return a.default.get("community/elegant_list",t)},e.communityFlowIndexApi=function(){return a.default.get("community/follow")},e.communityFlowListApi=function(t,e){return a.default.get("community/follow_list/".concat(t),e)},e.communityFriendListApi=function(t){return a.default.get("community/user_friend",t)},e.communityInfoApi=function(t){return a.default.get("community/detail/".concat(t),{},{noAuth:!0})},e.communityLikeApi=function(t,e){return a.default.post("community/community_like/".concat(t),e)},e.communityLikeListApi=function(t){return a.default.get("community/like_list",t)},e.communityListApi=function(t){return a.default.get("community/list",t,{noAuth:!0})},e.communityMessageApi=function(t){return a.default.get("community/message",t)},e.communityRecommendListApi=function(t){return a.default.get("community/recommend_list",t)},e.communityReplyDeleteApi=function(t){return a.default.delete("community/comment_delete/".concat(t))},e.communityReplyLikeApi=function(t,e){return a.default.post("community/comment_like/".concat(t),e)},e.communityReplyListApi=function(t){return a.default.get("community/comment/list",t,{noAuth:!0})},e.communityReplySaveApi=function(t){return a.default.post("community/comment/save",t)},e.communitySaveApi=function(t){return a.default.post("community/community_save",t)},e.communitySetInsterestApi=function(t,e){return a.default.post("community/set_interest/".concat(t),e)},e.communityShareApi=function(t){return a.default.get("community/share/".concat(t))},e.communityTopicCountApi=function(t){return a.default.get("community/topic_count/".concat(t),{},{noAuth:!0})},e.communityUpdateApi=function(t,e){return a.default.post("community/community_update/".concat(t),e)},e.communityUpdateDescApi=function(t){return a.default.post("community/update_desc",t)},e.communityUserInfoApi=function(t){return a.default.get("community/user_info/".concat(t))},e.getCommunityConfig=function(){return a.default.get("community/config",{},{noAuth:!0})},e.getProductApi=function(t){return a.default.get("community/product_list",t,{noAuth:!0})},e.getTopicApi=function(t){return a.default.get("community/topic",t,{noAuth:!0})};var a=n(i("65455"))}}]);