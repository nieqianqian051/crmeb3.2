(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-admin-order_cancellation-index"],{"26eb":function(t,e,r){var n=r("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.OrderCancellation[data-v-89613db2]{position:absolute;width:100%;overflow:hidden}.OrderCancellation .header[data-v-89613db2]{position:absolute;top:0;left:-25%;width:150%;height:%?660?%;border-bottom-right-radius:100%;border-bottom-left-radius:100%;background:#fff}.OrderCancellation[data-v-89613db2]{overflow:hidden}.OrderCancellation .whiteBg[data-v-89613db2]{position:relative;width:%?540?%;height:%?120?%;border-radius:%?60?%;margin:%?250?% auto %?416?%;background:#f5f5f5}.OrderCancellation .whiteBg .input[data-v-89613db2]{height:100%}.OrderCancellation .whiteBg .input uni-input[data-v-89613db2]{font-size:%?32?%;color:#333;height:100%;text-align:center;line-height:%?120?%;padding:0 %?104?%;box-sizing:border-box}.OrderCancellation .whiteBg .input .input-placeholder[data-v-89613db2]{color:#ccc}.OrderCancellation .whiteBg .bnt[data-v-89613db2]{position:absolute;top:%?20?%;right:%?24?%;width:%?80?%;height:%?80?%;border-radius:%?40?%;background:#2a7efb;text-align:center;line-height:%?80?%}.OrderCancellation .whiteBg .bnt .iconfont[data-v-89613db2]{font-size:%?32?%;color:#fff}.OrderCancellation .scan[data-v-89613db2]{position:relative;width:%?400?%;height:%?400?%;border-radius:%?200?%;margin:%?110?% auto 0;background:#2a7efb;box-shadow:%?0?% %?4?% %?32?% %?0?% #e9f2fe;text-align:center;line-height:%?400?%}.OrderCancellation .scan .iconfont[data-v-89613db2]{font-size:%?120?%;color:#fff}.OrderCancellation .scan uni-image[data-v-89613db2]{width:100%;height:100%;display:block}.WriteOff[data-v-89613db2]{width:%?560?%;height:%?800?%;background-color:#fff;border-radius:%?20?%;position:fixed;top:50%;left:50%;margin-top:%?-400?%;margin-left:%?-280?%;z-index:99;padding-top:%?55?%}.WriteOff .pictrue[data-v-89613db2]{width:%?340?%;height:%?340?%;margin:0 auto}.WriteOff .pictrue uni-image[data-v-89613db2]{width:100%;height:100%;display:block;border-radius:%?10?%}.WriteOff .num[data-v-89613db2]{font-size:%?30?%;color:#666;margin:%?28?% 0 %?30?% 0}.WriteOff .num .see[data-v-89613db2]{font-size:%?16?%;color:#fff;border-radius:%?4?%;background-color:#c68937;padding-left:%?5?%;margin-left:%?12?%}.WriteOff .num .see .iconfont[data-v-89613db2]{font-size:%?15?%}.WriteOff .tip[data-v-89613db2]{font-size:%?36?%;color:#282828;text-align:center;border-top:1px dashed #ccc;padding-top:%?40?%;position:relative}.WriteOff .tip[data-v-89613db2]:after{content:"";position:absolute;width:%?25?%;height:%?25?%;border-radius:50%;background-color:#7f7f7f;right:%?-12.5?%;top:%?-12.5?%}.WriteOff .tip[data-v-89613db2]:before{content:"";position:absolute;width:%?25?%;height:%?25?%;border-radius:50%;background-color:#7f7f7f;left:%?-12.5?%;top:%?-12.5?%}.WriteOff .sure[data-v-89613db2]{font-size:%?32?%;color:#fff;text-align:center;line-height:%?82?%;height:%?82?%;width:%?460?%;border-radius:%?41?%;margin:%?40?% auto 0 auto;background-image:linear-gradient(90deg,#f67a38 0,#f11b09);background-color:#2a7efb}.WriteOff .cancel[data-v-89613db2]{line-height:%?82?%;color:#999;height:%?82?%;width:%?460?%;border-radius:%?41?%;margin:%?10?% auto 0 auto;text-align:center}.views[data-v-89613db2]{font-size:%?18?%;background:#c68937;border-radius:4px;color:#fff;padding:%?5?% %?2?% %?5?% %?8?%;margin-left:%?10?%}.views-jian[data-v-89613db2]{font-size:10px}.tabbar-box[data-v-89613db2]{width:%?516?%;margin:%?276?% auto 0}.tabbar-box .item[data-v-89613db2]{position:relative;flex:1;z-index:5;min-width:0;height:%?80?%;border-radius:%?40?% 0 0 %?40?%;overflow:hidden}.tabbar-box .item[data-v-89613db2]:last-child{border-radius:0 %?40?% %?40?% 0}.tabbar-box .item:last-child .bg[data-v-89613db2]{height:%?68?%;top:0;border-radius:%?12?% 0 0 %?12?%;-webkit-transform-origin:center top;transform-origin:center top;-webkit-transform:perspective(%?80?%) rotateX(10deg) translateX(%?20?%);transform:perspective(%?80?%) rotateX(10deg) translateX(%?20?%)}.tabbar-box .item.on .bg[data-v-89613db2]{background:#2a7efb}.tabbar-box .item.on .inner[data-v-89613db2]{color:#fff}.tabbar-box .bg[data-v-89613db2]{position:absolute;bottom:0;z-index:2;width:100%;height:%?68?%;border-radius:0 %?12?% %?12?% 0;background:#fff;-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-transform:perspective(%?80?%) rotateX(-10deg) translateX(%?-20?%);transform:perspective(%?80?%) rotateX(-10deg) translateX(%?-20?%)}.tabbar-box .inner[data-v-89613db2]{position:absolute;z-index:3;width:%?260?%;height:%?80?%;text-align:center;line-height:%?80?%;font-weight:500;font-size:%?28?%;color:#333}.tabbar-box .iconfont[data-v-89613db2]{vertical-align:middle;margin-right:%?16?%;font-size:%?32?%}',""]),t.exports=e},"6af6":function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.OrderCancel=function(t){return i.default.post("store/order/cancel/"+t)},e.OrderDel=function(t){return i.default.delete("store/order/del/"+t)},e.OrderDetail=function(t){return i.default.get("store/order/detail/"+t)},e.OrderRefund=function(t){return i.default.post("store/order/refund",t,{login:!0})},e.adminCartAdd=function(t,e){return i.default.post("admin/order/cart/add/".concat(t),e)},e.adminCartDel=function(t,e){return i.default.delete("admin/order/cart/del/".concat(t),e)},e.adminCartList=function(t,e){return i.default.get("admin/order/cart/".concat(t),e)},e.adminCartNum=function(t,e){return i.default.post("admin/order/cart/num/".concat(t),e)},e.adminCategory=function(){return i.default.get("admin/product/category")},e.adminOrderRecordList=function(t){return i.default.get("admin/order/place/list",t)},e.adminProList=function(t){return i.default.get("admin/product/list",t)},e.adminProductList=function(t){return i.default.get("admin/product/admin_list",t)},e.adminRefundList=function(t){return i.default.get("admin/refund_order/list",t)},e.adminUserAddressList=function(t,e){return i.default.get("admin/user/address/list/".concat(t),e)},e.adminUserList=function(t){return i.default.get("admin/user/list",t)},e.deliveryInfo=function(t){return i.default.get("store/delivery/info")},e.deliveryList=function(t){return i.default.get("store/delivery/data",t)},e.deliveryOrderList=function(t){return i.default.get("store/delivery/order",t)},e.deliveryStatistics=function(t){return i.default.get("store/delivery/statistics",t)},e.getAdminOrderDelivery=function(t){return i.default.get("admin/order/delivery/gain/"+t,{},{login:!0})},e.getAdminOrderDetail=function(t){return i.default.get("admin/order/detail/"+t,{},{login:!0})},e.getAdminOrderList=function(t){return i.default.get("admin/order/list",t,{login:!0})},e.getAdminRefundDetail=function(t){return i.default.get("admin/refund_order/detail/"+t,{},{login:!0})},e.getCashierApi=function(t,e){return i.default.post("admin/order/pay/".concat(t),e)},e.getCategory=function(){return i.default.get("admin/product/category")},e.getCouponsOrderPrice=function(t,e){return i.default.get("admin/order/coupons/".concat(t),e)},e.getGetAttrs=function(t){return i.default.get("admin/product/get_attr/".concat(t))},e.getGroupList=function(){return i.default.get("admin/user/group/list")},e.getLevelList=function(){return i.default.get("admin/user/level/list")},e.getListApi=function(t){return i.default.get("store/order/data",t)},e.getLogistics=function(t){return i.default.get("logistics",t,{login:!1})},e.getOrderChart=function(t){return i.default.get("admin/order/time/chart",t)},e.getOrderDelivery=function(){return i.default.get("store/delivery/list")},e.getOrderDeliveryinfoApi=function(t){return i.default.get("store/order/delivery_info/"+t)},e.getOrderExportApi=function(t){return i.default.get("store/order/export_all",t,{login:!1})},e.getOrderExportTemp=function(t){return i.default.get("store/order/export_temp",t)},e.getOrderOfflineApi=function(t){return i.default.post("store/order/offline",t)},e.getOrderPriceApi=function(t){return i.default.post("store/order/price",t)},e.getOrderStaging=function(){return i.default.get("admin/order/staging")},e.getOrderTime=function(t){return i.default.get("admin/order/time",t)},e.getOrderlistApi=function(t){return i.default.get("store/order/list",t)},e.getOrderreMarkApi=function(t){return i.default.post("store/order/remark",t)},e.getPayStatusApi=function(t){return i.default.get("admin/order/pay/status",t)},e.getProductLabel=function(){return i.default.get("admin/product/product_label")},e.getRefundMarkApi=function(t){return i.default.post("store/refund/remark",t)},e.getRefundlistApi=function(t){return i.default.get("store/refund/list",t)},e.getStatisticsInfo=function(){return i.default.get("admin/order/statistics",{},{login:!0})},e.getStatisticsListApi=function(t,e){return i.default.get("store/staff/data/"+t,e)},e.getStatisticsMonth=function(t){return i.default.get("admin/order/data",t,{login:!0})},e.getStatisticsTime=function(t){return i.default.get("admin/order/time",t,{login:!0})},e.getUserCoupon=function(t){return i.default.get("admin/user/coupon/grant",t)},e.getUserInfo=function(t){return i.default.get("admin/user/info/".concat(t))},e.getUserLabel=function(){return i.default.get("admin/user/label/0")},e.getUserList=function(t){return i.default.get("admin/user/list",t)},e.offOrderInfo=function(t){return i.default.post("admin/order/info",t)},e.openRefund=function(t,e){return i.default.post("admin/order/open/refund/".concat(t),e)},e.orderCartInfo=function(t){return i.default.post("store/order/cart_info",t)},e.orderConfirm=function(t,e){return i.default.post("admin/order/confirm/".concat(t),e)},e.orderCreate=function(t,e,r){return i.default.post("admin/order/create/".concat(t,"/").concat(e),r)},e.orderDeliveryInfo=function(){return i.default.get("admin/order/delivery_info")},e.orderExportTemp=function(t){return i.default.get("admin/order/export_temp",t)},e.orderInfo=function(t){return i.default.get("store/order/statistics",t)},e.orderOrderDelivery=function(){return i.default.get("admin/order/delivery")},e.orderRefundAgree=function(t){return i.default.post("admin/order/refund_agree/"+t)},e.orderSplitDelivery=function(t,e){return i.default.put("admin/order/split_delivery/"+t,e)},e.orderSplitInfo=function(t){return i.default.get("admin/order/split_cart_info/"+t)},e.orderVerific=function(t,e){return i.default.post("admin/order/order_verific",{code:t,auth:e})},e.orderWirteOff=function(t,e){return i.default.post("admin/order/wirteoff/".concat(t),e)},e.orderWirteOffRecords=function(t,e){return i.default.post("admin/order/wirteoff/records/".concat(t),e)},e.orderWriteoff=function(t){return i.default.post("store/order/writeoff",t)},e.orderWriteoffInfo=function(t,e){return i.default.get("store/order/writeoff_info/"+t,e)},e.postBatchProcess=function(t){return i.default.post("admin/product/batch_process",t)},e.postOrderComputed=function(t,e,r){return i.default.post("admin/order/computed/".concat(t,"/").concat(e),r)},e.postUpdateAttrs=function(t,e){return i.default.post("admin/product/update_attrs/".concat(t),e)},e.postUserUpdate=function(t){return i.default.post("admin/user/update",t)},e.postUserUpdateOther=function(t,e){return i.default.post("admin/user/update_other/".concat(t),e)},e.productSetShow=function(t){return i.default.post("admin/product/set_show",t)},e.refundDetail=function(t){return i.default.get("store/refund/detail/"+t)},e.setAdminOrderDelivery=function(t,e){return i.default.post("admin/order/delivery/keep/"+t,e,{login:!0})},e.setAdminOrderPrice=function(t){return i.default.post("admin/order/price",t,{login:!0})},e.setAdminOrderRemark=function(t){return i.default.post("admin/order/remark",t,{login:!0})},e.setAdminRefundRemark=function(t){return i.default.post("admin/refund_order/remark",t,{login:!0})},e.setOfflinePay=function(t){return i.default.post("admin/order/offline",t,{login:!0})},e.setOrderDelivery=function(t,e){return i.default.post("store/order/delivery/"+t,e,{login:!0})},e.setOrderRefund=function(t){return i.default.post("admin/order/refund",t,{login:!0})},e.statisticsMenuApi=function(t){return i.default.get("store/staff/statistics",t)},e.storeRefundAgree=function(t){return i.default.post("store/order/refund_agree/"+t)},e.storeSplitDelivery=function(t,e){return i.default.put("store/order/split_delivery/"+t,e)},e.storeSplitInfo=function(t){return i.default.get("store/order/split_cart_info/"+t)},e.userInfo=function(){return i.default.get("store/staff/info")},r("c223");var i=n(r("65455"))},"98cc":function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{style:t.colorStyle},[r("v-uni-view",{staticClass:"OrderCancellation"},[r("v-uni-view",{staticClass:"header"}),2==t.tabOn?r("v-uni-view",{staticClass:"whiteBg"},[r("v-uni-view",{staticClass:"input"},[r("v-uni-input",{attrs:{type:"number",placeholder:"请输入"},model:{value:t.verify_code,callback:function(e){t.verify_code=e},expression:"verify_code"}})],1),r("v-uni-view",{staticClass:"bnt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"iconfont icon-ic_search"})],1)],1):t._e(),1==t.tabOn?r("v-uni-view",{staticClass:"scan",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.scanCode.apply(void 0,arguments)}}},[r("v-uni-text",{staticClass:"iconfont icon-ic_Scan"})],1):t._e(),r("v-uni-view",{staticClass:"tabbar-box acea-row"},[r("v-uni-view",{staticClass:"item",class:{on:1==t.tabOn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTab(1)}}},[r("v-uni-view",{staticClass:"bg"}),r("v-uni-view",{staticClass:"inner"},[r("v-uni-text",{staticClass:"iconfont icon-ic_Scan"}),t._v("扫码核销")],1)],1),r("v-uni-view",{staticClass:"item",class:{on:2==t.tabOn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTab(2)}}},[r("v-uni-view",{staticClass:"bg"}),r("v-uni-view",{staticClass:"inner"},[r("v-uni-text",{staticClass:"iconfont icon-ic_edit"}),t._v("手动输入")],1)],1)],1)],1),t.iShidden?r("v-uni-view",[r("v-uni-view",{staticClass:"WriteOff"},[r("v-uni-view",{staticClass:"pictrue"},[r("v-uni-image",{attrs:{src:t.orderInfo.image}})],1),r("v-uni-view",{staticClass:"num acea-row row-center-wrapper"},[r("v-uni-text",[t._v(t._s(t.orderInfo.order_id))]),r("v-uni-view",{staticClass:"views",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goOrderDetails(t.orderInfo.order_id,t.orderInfo.order_type)}}},[t._v("查看"),r("v-uni-text",{staticClass:"iconfont icon-jiantou views-jian"})],1)],1),r("v-uni-view",{staticClass:"tip"},[t._v("确定要核销此订单吗？")]),r("v-uni-view",{staticClass:"sure",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("确定核销")]),r("v-uni-view",{staticClass:" cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")])],1),r("v-uni-view",{staticClass:"mask"})],1):t._e()],1)},i=[]},"9f0e":function(t,e,r){"use strict";r.r(e);var n=r("ba47"),i=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},b9b3:function(t,e,r){var n=r("26eb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("967d").default;i("0e65bab5",n,!0,{sourceMap:!1,shadowMode:!1})},ba47:function(t,e,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("5c47"),r("0506"),r("4626"),r("5ac7");var i=r("6af6"),a=n(r("89cc")),o=r("5088"),d=r("8f59"),u={mixins:[a.default],data:function(){return{iShidden:!1,verify_code:"",isWeixin:"",orderInfo:{},tabOn:1,auth:1}},computed:(0,d.mapGetters)(["isLogin"]),onLoad:function(t){this.isWeixin=this.$wechat.isWeixin();var e=t.auth,r=t.code;this.auth=e||1,this.verify_code=r||""},onShow:function(){this.isLogin?3==this.auth&&this.codeChange():(0,o.toLogin)()},methods:{goOrderDetails:function(t,e){"integral"==e?uni.navigateTo({url:"/pages/points_mall/integral_order_details?order_id="+t}):uni.navigateTo({url:"/pages/admin/orderDetail/index?id="+t+"&goname=look"})},codeChange:function(){var t=this,e=this;return this.verify_code?/^[0-9]*$/.test(this.verify_code)?(e.$util.Tips({title:"查询中"}),void setTimeout((function(){(0,i.orderVerific)(t.verify_code,t.auth).then((function(r){var n=r.data.auth;e.orderInfo=r.data,r.data.is_order_code?r.data.product_type?uni.navigateTo({url:"/pages/admin/writeOffCard/index?id="+r.data.data[0].id}):2==r.data.data[0].status?uni.navigateTo({url:"/pages/admin/offOrderResult/index?id="+r.data.data[0].order_id}):uni.navigateTo({url:"/pages/admin/distribution/scanning/detail/index?auth="+n+"&id="+r.data.data[0].id+"&let="+r.data.data.length+"&code="+t.verify_code}):r.data.product_type||(r.data.data.length?uni.navigateTo({url:"/pages/admin/distribution/scanning/index?auth="+n+"&code="+t.verify_code}):uni.navigateTo({url:"/pages/admin/offOrderResult/index"}))})).catch((function(t){return e.verify_code="",e.$util.Tips({title:t})}))}),800)):e.$util.Tips({title:"请输入正确的核销码"}):e.$util.Tips({title:"请输入核销码"})},scanCode:function(){var t=this;this.$wechat.wechatEvevt("scanQRCode",{needResult:1,scanType:["qrCode","barCode"]}).then((function(e){var r=e.resultStr;r.includes(",")&&(r=r.split(",")[1]),t.verify_code=r,t.codeChange()}))},confirm:function(){var t=this;(0,i.orderVerific)(this.verify_code,1).then((function(e){t.verify_code="",t.iShidden=!1,t.$util.Tips({title:e.msg})})).catch((function(e){t.$util.Tips({title:e})}))},cancel:function(){this.iShidden=!1},onTab:function(t){this.tabOn=t}}};e.default=u},dcc7:function(t,e,r){"use strict";r.r(e);var n=r("98cc"),i=r("9f0e");for(var a in i)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return i[t]}))}(a);r("e890");var o=r("828b"),d=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"89613db2",null,!1,n["a"],void 0);e["default"]=d.exports},e890:function(t,e,r){"use strict";var n=r("b9b3"),i=r.n(n);i.a}}]);