(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-user_address-index"],{2101:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:t.colorStyle},[i("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"addAddress"},[this.$wechat.isWeixin()&&!t.id?i("v-uni-view",{staticClass:"wechatAddress acea-row row-between-wrapper",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"acea-row row-middle"},[i("v-uni-text",{staticClass:"iconfont icon-ic_wechat"}),t._v("获取微信收货地址")],1),i("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow"})],1):t._e(),i("v-uni-view",{staticClass:"rd-16rpx bg--w111-fff p-24 mb-20"},[i("v-uni-textarea",{staticClass:"w-full fs-30 h-140",attrs:{placeholder:"粘贴地址信息，自动拆分姓名、电话和地址","wrap-style":"wrap","always-embed":!0,"adjust-position":!0,"cursor-spacing":"85rpx",maxlength:200,name:"desc"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.identify()}},model:{value:t.addressValue,callback:function(e){t.addressValue=e},expression:"addressValue"}})],1),i("v-uni-view",{staticClass:"input-wrapper"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name"},[t._v("姓名")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名",name:"real_name",value:t.userAddress.real_name,"placeholder-class":"placeholder"}})],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name"},[t._v("联系电话")]),i("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入联系电话",name:"phone",value:t.userAddress.phone,"placeholder-class":"placeholder",pattern:"\\d*"}})],1),i("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name"},[t._v("所在地区")]),i("v-uni-view",{staticClass:"address acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"addressCon acea-row",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeRegion.apply(void 0,arguments)}}},[t.addressInfo.length?i("v-uni-view",[i("v-uni-text",{staticClass:"picker"},[t._v(t._s(t.addressText))])],1):i("v-uni-text",{staticClass:"picker color-add"},[t._v("请选择地址")])],1),i("v-uni-view",{staticClass:"location1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseLocation.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-ic_location1 fontcolor"}),t._v("定位")],1)],1)],1),i("v-uni-view",{staticClass:"item acea-row row-between"},[i("v-uni-view",{staticClass:"name"},[t._v("详细地址")]),i("v-uni-view",{staticClass:"address"},[i("v-uni-textarea",{staticClass:"lh-42rpx w-full",attrs:{value:t.userAddress.detail,name:"detail","auto-height":!0,placeholder:"请填写具体地址","placeholder-class":"placeholder"}})],1)],1)],1)],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"default acea-row row-between-wrapper"},[i("v-uni-view",[t._v("设置为默认地址")]),i("v-uni-view",{staticClass:"switch",class:{on:t.userAddress.is_default},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeIsDefault.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"inner"})],1)],1)],1),i("v-uni-button",{staticClass:"keepBnt bg-color",attrs:{"form-type":"submit"}},[t._v("立即保存")])],1)],1),i("areaWindow",{ref:"areaWindow",attrs:{display:t.display,address:t.addressInfo},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.OnChangeAddress.apply(void 0,arguments)},changeClose:function(e){arguments[0]=e=t.$handleEvent(e),t.changeClose.apply(void 0,arguments)}}}),i("home")],1)},s=[]},"5f78":function(t,e,i){"use strict";var a=i("edb8"),s=i.n(a);s.a},7875:function(t,e,i){"use strict";i.r(e);var a=i("cbba"),s=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},8053:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.color-add[data-v-0c6a6226]{color:#cdcdcd}.location1 .iconfont[data-v-0c6a6226]{margin-right:%?8?%}.fontcolor[data-v-0c6a6226]{color:var(--view-theme)}.addAddress[data-v-0c6a6226]{padding:%?24?% %?20?%}.addAddress .input-wrapper[data-v-0c6a6226]{margin-bottom:%?20?%}.addAddress .list[data-v-0c6a6226]{padding:%?8?% 0;border-radius:%?16?%;background-color:#fff}.addAddress .list .item[data-v-0c6a6226]{padding:%?32?% %?24?%;position:relative}.addAddress .list .item .detail[data-v-0c6a6226]{width:%?368?%}.addAddress .list .item .location[data-v-0c6a6226]{position:absolute;right:%?46?%;top:50%;margin-top:%?-40?%!important;font-size:%?24?%;text-align:center}.addAddress .list .item .icon-dizhi[data-v-0c6a6226]{font-size:%?36?%!important}.addAddress .list .item .name[data-v-0c6a6226]{width:%?182?%;font-size:%?30?%;color:#333}.addAddress .list .item .address[data-v-0c6a6226]{flex:1}.addAddress .list .item .address .addressCon[data-v-0c6a6226]{width:%?360?%}.addAddress .list .item .address .addressCon .tip[data-v-0c6a6226]{font-size:%?21?%;margin-top:%?4?%}.addAddress .list .item uni-input[data-v-0c6a6226]{flex:1;font-size:%?30?%}.placeholder[data-v-0c6a6226]{color:#ccc}.addAddress .list .item .picker[data-v-0c6a6226]{width:%?430?%;font-size:%?30?%}.addAddress .list .item .iconfont[data-v-0c6a6226]{font-size:%?30?%;margin-top:%?4?%}.addAddress .default[data-v-0c6a6226]{padding:0 %?25?%;height:%?128?%;border-radius:%?16?%;background-color:#fff}.addAddress .default .switch[data-v-0c6a6226]{position:relative;width:%?79?%;height:%?46?%;border:%?2?% solid #ddd;border-radius:%?46?%;background-color:#ddd;transition:background-color .3s;box-sizing:initial}.addAddress .default .switch.on[data-v-0c6a6226]{border-color:var(--view-theme);background-color:var(--view-theme)}.addAddress .default .switch.on .inner[data-v-0c6a6226]{-webkit-transform:translateX(%?33?%);transform:translateX(%?33?%)}.addAddress .default .switch .inner[data-v-0c6a6226]{position:absolute;top:%?2?%;left:%?2?%;width:%?42?%;height:%?42?%;border-radius:100%;background-color:#fff;box-shadow:%?0?% %?3?% %?6?% %?0?% rgba(0,0,0,.08);transition:-webkit-transform .3s cubic-bezier(.3,1.05,.4,1.05);transition:transform .3s cubic-bezier(.3,1.05,.4,1.05);transition:transform .3s cubic-bezier(.3,1.05,.4,1.05),-webkit-transform .3s cubic-bezier(.3,1.05,.4,1.05)}.addAddress .default uni-checkbox[data-v-0c6a6226]{margin-right:%?15?%}.addAddress .keepBnt[data-v-0c6a6226]{position:fixed;right:%?20?%;bottom:%?40?%;left:%?20?%;height:%?80?%;border-radius:%?40?%;text-align:center;line-height:%?80?%;font-size:%?28?%;color:#fff}.addAddress .wechatAddress[data-v-0c6a6226]{height:%?100?%;padding:0 %?24?%;border-radius:%?24?%;background-color:#fff;text-align:center;line-height:%?100?%;margin:0 0 %?20?%;font-size:%?30?%;color:#3d3d3d}.addAddress .wechatAddress .icon-ic_wechat[data-v-0c6a6226]{margin-right:%?20?%;font-size:%?48?%;color:#00c800}.mt-22[data-v-0c6a6226]{margin-top:%?22?%}',""]),t.exports=e},cbba:function(t,e,i){"use strict";(function(t){i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("fd3c"),i("c9b5"),i("bf0f"),i("ab80"),i("5c47"),i("0506"),i("0c26");var s=a(i("9b1b")),n=i("92f9"),d=(i("360a"),i("5088")),r=i("8f59"),o=a(i("89cc")),c=a(i("e636")),u=a(i("fabc")),l={components:{areaWindow:c.default},mixins:[o.default],data:function(){return{cartId:"",pinkId:0,couponId:0,id:0,userAddress:{is_default:!1},isAuto:!1,isShowAuth:!1,district:[],news:"",noCoupon:0,display:!1,addressInfo:[],addressVal:"",latitude:"",longitude:"",city_id:0,addressValue:"",deliveryType:1,store_name:"",storeId:0,product_id:0}},computed:(0,s.default)((0,s.default)({},(0,r.mapGetters)(["isLogin"])),{},{addressText:function(){return this.addressInfo.map((function(t){return t.label})).join("/")}}),watch:{isLogin:{handler:function(t,e){t&&this.getUserAddress()},deep:!0}},onLoad:function(t){this.cartId=t.cartId||"",this.pinkId=t.pinkId||0,this.couponId=t.couponId||0,this.id=t.id||0,this.noCoupon=t.noCoupon||0,this.news=t.new||"",this.deliveryType=t.delivery_type||1,this.store_name=t.store_name,this.storeId=t.store_id,this.product_id=t.product_id,uni.setNavigationBarTitle({title:t.id?"修改地址":"添加地址"}),this.isLogin?this.getUserAddress():(0,d.toLogin)()},onShow:function(){uni.removeStorageSync("form_type_cart")},methods:{onLoadFun:function(){this.getUserAddress(),this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},changeRegion:function(){this.display=!0},OnChangeAddress:function(t){this.latitude="",this.longitude="",this.addressInfo=t},changeClose:function(){this.display=!1},getUserAddress:function(){if(!this.id)return!1;var t=this;(0,n.getAddressDetail)(this.id).then((function(e){e.data.province,e.data.city,e.data.district,e.data.street;t.$set(t,"userAddress",e.data),t.addressInfo=e.data.city_list,t.latitude=e.data.latitude,t.longitude=e.data.longitude,t.city_id=e.data.city_id}))},chooseLocation:function(){var t=this,e=this;uni.chooseLocation({success:function(i){var a,s;a=i.latitude.toString(),s=i.longitude.toString(),t.latitude=i.latitude,t.longitude=i.longitude,(0,n.getGeocoder)({lat:a,long:s}).then((function(t){var i=t.data;(0,n.getCityList)(i.address_component.province+"/"+i.address_component.city+"/"+i.address_component.district+"/"+(i.address_reference.town?i.address_reference.town.title:"")).then((function(t){e.addressInfo=t.data,e.userAddress.detail=i.formatted_addresses.recommend})).catch((function(t){return e.$util.Tips({title:t})}))})).catch((function(t){return e.$util.Tips({title:t})}))},fail:function(t){}})},selfLocation:function(){var t=this,e=this;uni.showLoading({title:"定位中",mask:!0}),uni.getLocation({type:"gcj02",success:function(i){var a,s;a=i.latitude.toString(),s=i.longitude.toString(),t.latitude=i.latitude,t.longitude=i.longitude,(0,n.getGeocoder)({lat:a,long:s}).then((function(t){var i=t.data;(0,n.getCityList)(i.address_component.province+"/"+i.address_component.city+"/"+i.address_component.district+"/"+(i.address_reference.town?i.address_reference.town.title:"")).then((function(t){e.addressInfo=t.data,e.userAddress.detail=i.formatted_addresses.recommend,uni.hideLoading()}))}))},fail:function(t){uni.hideLoading(),uni.showToast({title:t,icon:"none",duration:1e3})}})},getWxAddress:function(){var t=this;uni.authorize({scope:"scope.address",success:function(e){uni.chooseAddress({success:function(e){(0,n.getCityList)(e.provinceName+"/"+e.cityName+"/"+e.countyName+"/"+e.streetName).then((function(e){t.addressInfo=e.data})).catch((function(e){return t.$util.Tips({title:e})})),t.userAddress.real_name=e.userName,t.userAddress.phone=e.telNumber,t.userAddress.detail=e.detailInfo},fail:function(e){if("chooseAddress:cancel"==e.errMsg)return t.$util.Tips({title:"取消选择"})}})},fail:function(e){uni.showModal({title:"您已拒绝导入微信地址权限",content:"是否进入权限管理，调整授权？",success:function(e){if(e.confirm)uni.openSetting({success:function(t){}});else if(e.cancel)return t.$util.Tips({title:"已取消！"})}})}})},getAddress:function(){var t=this;t.$wechat.openAddress().then((function(e){(0,n.getCityList)(e.provinceName+"/"+e.cityName+"/"+e.countryName+"/"+e.streetName).then((function(e){t.addressInfo=e.data})),t.userAddress.real_name=e.userName,t.userAddress.phone=e.telNumber,t.userAddress.detail=e.detailInfo})).catch((function(e){t.$util.Tips({title:e})}))},formSubmit:function(t){var e=this,i=t.detail.value;if(!i.real_name)return e.$util.Tips({title:"请填写收货人姓名"});if(!i.phone)return e.$util.Tips({title:"请填写联系电话"});if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(i.phone))return e.$util.Tips({title:"请输入正确的手机号码"});if(!e.addressInfo.length)return e.$util.Tips({title:"请选择所在地区"});if(e.addressInfo.length<3)return e.$util.Tips({title:"请补全所在地区信息"});if(!i.detail)return e.$util.Tips({title:"请填写详细地址"});i.id=e.id;var a=e.addressInfo;i.address={province:a[0].label,city:a[1].label,district:a[2].label,street:a[3]?a[3].label:"",city_id:a[a.length-1].id?a[a.length-1].id:e.city_id},i.is_default=e.userAddress.is_default?1:0,i.longitude=e.longitude,i.latitude=e.latitude,uni.showLoading({title:"保存中",mask:!0}),(0,n.editAddress)(i).then((function(t){e.id?e.$util.Tips({title:"修改成功",icon:"success"}):e.$util.Tips({title:"添加成功",icon:"success"}),setTimeout((function(){e.cartId&&uni.$emit("handClick",{addressId:e.id?e.id:t.data.id}),uni.navigateBack()}),500)})).catch((function(t){return e.$util.Tips({title:t})}))},ChangeIsDefault:function(t){this.$set(this.userAddress,"is_default",!this.userAddress.is_default)},identify:function(){var t=this,e=(0,u.default)(this.addressValue.trim(),{type:0,textFilter:[],nameMaxLength:4});this.addressValue.trim()&&(0,n.getCityList)(e.province+"/"+e.city+"/"+e.area).then((function(i){t.addressInfo=i.data,t.userAddress.phone=e.phone,t.userAddress.real_name=e.name,t.userAddress.detail=e.detail})).catch((function(e){return t.$util.Tips({title:e})}))}}};e.default=l}).call(this,i("ba7c")["default"])},d926:function(t,e,i){"use strict";i.r(e);var a=i("2101"),s=i("7875");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("5f78");var d=i("828b"),r=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"0c6a6226",null,!1,a["a"],void 0);e["default"]=r.exports},edb8:function(t,e,i){var a=i("8053");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("967d").default;s("2d6c03ee",a,!0,{sourceMap:!1,shadowMode:!1})}}]);