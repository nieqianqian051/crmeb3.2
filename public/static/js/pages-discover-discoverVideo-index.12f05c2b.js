(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-discover-discoverVideo-index"],{"0c0d":function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("c223");var o=i(e("9b1b")),u=i(e("89cc")),c=i(e("5e30")),a=e("eb8a"),r=e("92f9"),s=(e("769c"),e("8f59")),m={name:"discoverVideo",data:function(){return{contentList:[],loading:!1,params:{page:1,limit:10,topic_id:"",keyword:"",is_interest:0,content_type:2,start_id:"",relation_id:""},infoData:{},configData:{community_status:1,community_comment_add:1,community_comment_status:1},current:0}},mixins:[u.default],components:{swiperVideo:c.default},provide:function(){return{flowLike:this.flowLike}},onPageScroll:function(t){uni.$emit("scroll")},computed:(0,o.default)({},(0,s.mapGetters)(["isLogin","uid"])),onLoad:function(t){var n=this;this.params.start_id=t.id,t.relation_id&&this.$set(this.params,"relation_id",t.relation_id),0==t.content_type&&this.$set(this.params,"content_type",""),t.token&&!this.isLogin&&(this.$store.commit("LOGIN",{token:t.token}),(0,r.getUserInfo)().then((function(t){n.$store.commit("SETUID",t.data.uid),n.$store.commit("UPDATE_USERINFO",t.data),location.reload()})).catch((function(t){return n.$util.Tips({title:err})}))),this.getConfig(),this.getList()},methods:{getConfig:function(){var t=this;(0,a.getCommunityConfig)().then((function(n){t.configData=n.data}))},getList:function(){var t=this;this.loading||(this.loading=!0,(0,a.communityListApi)(this.params).then((function(n){var e=n.data,i=e.length<t.params.limit;t.contentList=t.contentList.concat(e),t.params.page++,t.loading=i})))},followUser:function(t){return this.contentList[t.index].is_follow=1,this.$util.Tips({title:"关注成功"})},beforeRequest:function(t){this.current=t,this.contentList.length-1==t&&this.getList()},likeFun:function(t){this.contentList[t.index].is_like=t.status,1==t.status?this.contentList[t.index].like_num++:this.contentList[t.index].like_num--},resShare:function(t){this.infoData=t}},onReachBottom:function(){this.getList()}};n.default=m},"2ce8":function(t,n,e){"use strict";e.r(n);var i=e("0c0d"),o=e.n(i);for(var u in i)["default"].indexOf(u)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(u);n["default"]=o.a},5624:function(t,n,e){"use strict";e.r(n);var i=e("c9ad"),o=e("2ce8");for(var u in o)["default"].indexOf(u)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(u);e("68f1f");var c=e("828b"),a=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"e35fa8be",null,!1,i["a"],void 0);n["default"]=a.exports},"68f1f":function(t,n,e){"use strict";var i=e("6fd7"),o=e.n(i);o.a},"6fd7":function(t,n,e){var i=e("cfdd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("967d").default;o("a7f7b92e",i,!0,{sourceMap:!1,shadowMode:!1})},c9ad:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{style:t.colorStyle},[e("v-uni-view",{staticClass:"full-page"},[e("swiperVideo",{attrs:{swiperData:t.contentList,showFooter:!1,replyStatus:t.configData.community_comment_status,addReply:t.configData.community_comment_add,fullVideo:!0},on:{onLike:function(n){arguments[0]=n=t.$handleEvent(n),t.likeFun.apply(void 0,arguments)},followChange:function(n){arguments[0]=n=t.$handleEvent(n),t.followUser.apply(void 0,arguments)},onSwiper:function(n){arguments[0]=n=t.$handleEvent(n),t.beforeRequest.apply(void 0,arguments)},onShare:function(n){arguments[0]=n=t.$handleEvent(n),t.resShare.apply(void 0,arguments)}}})],1)],1)},o=[]},cfdd:function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.full-page[data-v-e35fa8be]{height:100vh;background-color:#000}',""]),t.exports=n},eb8a:function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.communityBrowseApi=function(t){return o.default.put("community/browse/".concat(t))},n.communityDeleteApi=function(t){return o.default.delete("community/community_delete/".concat(t))},n.communityElegantListApi=function(t){return o.default.get("community/elegant_list",t)},n.communityFlowIndexApi=function(){return o.default.get("community/follow")},n.communityFlowListApi=function(t,n){return o.default.get("community/follow_list/".concat(t),n)},n.communityFriendListApi=function(t){return o.default.get("community/user_friend",t)},n.communityInfoApi=function(t){return o.default.get("community/detail/".concat(t),{},{noAuth:!0})},n.communityLikeApi=function(t,n){return o.default.post("community/community_like/".concat(t),n)},n.communityLikeListApi=function(t){return o.default.get("community/like_list",t)},n.communityListApi=function(t){return o.default.get("community/list",t,{noAuth:!0})},n.communityMessageApi=function(t){return o.default.get("community/message",t)},n.communityRecommendListApi=function(t){return o.default.get("community/recommend_list",t)},n.communityReplyDeleteApi=function(t){return o.default.delete("community/comment_delete/".concat(t))},n.communityReplyLikeApi=function(t,n){return o.default.post("community/comment_like/".concat(t),n)},n.communityReplyListApi=function(t){return o.default.get("community/comment/list",t,{noAuth:!0})},n.communityReplySaveApi=function(t){return o.default.post("community/comment/save",t)},n.communitySaveApi=function(t){return o.default.post("community/community_save",t)},n.communitySetInsterestApi=function(t,n){return o.default.post("community/set_interest/".concat(t),n)},n.communityShareApi=function(t){return o.default.get("community/share/".concat(t))},n.communityTopicCountApi=function(t){return o.default.get("community/topic_count/".concat(t),{},{noAuth:!0})},n.communityUpdateApi=function(t,n){return o.default.post("community/community_update/".concat(t),n)},n.communityUpdateDescApi=function(t){return o.default.post("community/update_desc",t)},n.communityUserInfoApi=function(t){return o.default.get("community/user_info/".concat(t))},n.getCommunityConfig=function(){return o.default.get("community/config",{},{noAuth:!0})},n.getProductApi=function(t){return o.default.get("community/product_list",t,{noAuth:!0})},n.getTopicApi=function(t){return o.default.get("community/topic",t,{noAuth:!0})};var o=i(e("65455"))}}]);