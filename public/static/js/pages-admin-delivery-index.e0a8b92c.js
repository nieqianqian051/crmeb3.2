(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-admin-delivery-index"],{3133:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa"),i("bf0f"),i("2797");var r={props:{splitGoods:{type:Array,default:function(){return[]}},select_all:{type:Boolean,default:!0}},data:function(){return{isAllSelect:!1}},mounted:function(){},methods:{subCart:function(e){e.surplus_num=Number(e.surplus_num)-1,e.surplus_num<=1&&(e.surplus_num=1),this.$emit("getList",this.splitGoods)},addCart:function(e){e.surplus_num=Number(e.surplus_num)+1,e.surplus_num>=e.numShow&&(e.surplus_num=e.numShow),this.$emit("getList",this.splitGoods)},inArray:function(e,t){for(var i in t)if(t[i]==e)return!0;return!1},checkboxChange:function(e){var t=this,i=e.detail.value;this.splitGoods.forEach((function(e){t.inArray(e.id,i)?e.checked=!0:e.checked=!1})),this.$emit("getList",this.splitGoods),i.length==this.splitGoods.length?this.isAllSelect=!0:this.isAllSelect=!1},forGoods:function(e){this.splitGoods.length&&(this.splitGoods.forEach((function(t){t.checked=!!e})),this.$emit("getList",this.splitGoods))},checkboxAllChange:function(e){var t=e.detail.value;t.length?this.forGoods(1):this.forGoods(0)}}};t.default=r},4186:function(e,t,i){var r=i("c3c5");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("967d").default;n("574062df",r,!0,{sourceMap:!1,shadowMode:!1})},"4f05":function(e,t,i){"use strict";i.r(t);var r=i("7466"),n=i.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},"551a":function(e,t,i){"use strict";i.r(t);var r=i("f21b"),n=i("a96f");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("aeec");var o=i("828b"),s=Object(o["a"])(n["default"],r["b"],r["c"],!1,null,"2a5c5359",null,!1,r["a"],void 0);t["default"]=s.exports},"5b51":function(e,t,i){e.exports=i.p+"static/images/line.jpg"},"635b":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"deliver-goods"},[r("header",{staticClass:"header"},[r("v-uni-view",{staticClass:"order-num"},[r("v-uni-view",{staticClass:"num line1"},[e._v("订单号："+e._s(e.order_id))])],1),r("v-uni-view",{staticClass:"address"},[r("v-uni-view",{staticClass:"name"},[r("v-uni-text",{staticClass:"iconfont icon-ic_location4"}),e._v(e._s(e.delivery.real_name)),r("v-uni-text",{staticClass:"phone"},[e._v(e._s(e.delivery.user_phone))])],1),r("v-uni-view",[e._v("地址："+e._s(e.delivery.user_address))])],1),r("v-uni-view",{staticClass:"line"},[r("v-uni-image",{attrs:{src:i("5b51")}})],1)],1),r("v-uni-view",{staticClass:"wrapper"},[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("发货方式")]),r("v-uni-view",{staticClass:"mode acea-row row-middle row-right"},[e._l(e.types,(function(t,i){return[t.show?r("v-uni-view",{key:i,staticClass:"goods",class:e.active===i||3==e.productType?"on":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeType(t,i)}}},[r("v-uni-text",{class:["iconfont",e.active===i?"icon-ic_Selected":"icon-ic_unselect"]}),e._v(e._s(t.title))],1):e._e()]}))],2)],1),e.logistics.length>0?[r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===e.active,expression:"active === 0"}],staticClass:"list"},[1==e.delivery.config_export_open?r("v-uni-view",{staticClass:"item acea-row row-middle"},[r("v-uni-view",[e._v("发货类型")]),r("v-uni-view",{staticClass:"mode acea-row row-middle row-right"},e._l(e.expressType,(function(t,i){return r("v-uni-view",{key:i,staticClass:"goods",class:e.curExpress===t.key?"on":"",on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.changeExpTpe(t,i)}}},[r("v-uni-text",{class:["iconfont",e.curExpress===t.key?"icon-ic_Selected":"icon-ic_unselect"]}),e._v(e._s(t.title))],1)})),1)],1):e._e(),1==e.curExpress?[r("v-uni-view",{staticClass:"item acea-row row-middle"},[r("v-uni-view",[e._v("快递公司")]),r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.seIndex,range:e.logistics,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.logistics[e.seIndex].name))])],1)],1),r("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow"})],1),r("v-uni-view",{staticClass:"item acea-row row-middle"},[r("v-uni-view",[e._v("快递单号")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"请输入"},model:{value:e.delivery_id,callback:function(t){e.delivery_id=t},expression:"delivery_id"}}),e.isWeixin?r("v-uni-text",{staticClass:"iconfont icon-xiangji",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.scanCode.apply(void 0,arguments)}}}):e._e()],1),r("v-uni-view",{staticClass:"item"},[1==e.curExpress?r("v-uni-view",{staticClass:"trip"},[e._v("顺丰请输入单号 :收件人或寄件人手机号后四位")]):e._e(),1==e.curExpress?r("v-uni-view",{staticClass:"trip"},[e._v("例如：SF000000000000:3941")]):e._e()],1)]:e._e(),2==e.curExpress?[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人姓名：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人姓名"},model:{value:e.to_name,callback:function(t){e.to_name=t},expression:"to_name"}})],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人电话：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人电话"},model:{value:e.to_tel,callback:function(t){e.to_tel=t},expression:"to_tel"}})],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("寄件人地址：")]),r("v-uni-input",{staticClass:"mode",attrs:{type:"text",placeholder:"填写寄件人地址"},model:{value:e.to_addr,callback:function(t){e.to_addr=t},expression:"to_addr"}})],1),r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("快递公司")]),r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.seIndex,range:e.logistics,"range-key":"name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.logistics[e.seIndex].name))])],1)],1)],1),e.expTemp.length>0?r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("电子面单")]),r("v-uni-view",{staticClass:"picker-add"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.expIndex,range:e.expTemp,"range-key":"title"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTempChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.expTemp[e.expIndex].title))])],1),r("v-uni-view",{staticClass:"look",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}},[e._v("预览")])],1)],1):e._e()]:e._e()],2)]:e._e(),r("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===e.active,expression:"active === 1"}],staticClass:"list"},[r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("送货人")]),e.postPeople.length>0?r("v-uni-view",{staticClass:"select-box"},[r("v-uni-picker",{staticClass:"pickerBox",attrs:{value:e.postIndex,range:e.postPeople,"range-key":"wx_name"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPostChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"acea-row row-middle"},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.postPeople[e.postIndex].wx_name))]),r("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow"})],1)],1)],1):e._e()],1),e.postPeople[e.postIndex]?r("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[r("v-uni-view",[e._v("手机号")]),r("v-uni-view",{staticClass:"select-box acea-row row-middle row-right"},[e._v(e._s(e.postPeople[e.postIndex].phone))])],1):e._e()],1),r("v-uni-textarea",{directives:[{name:"show",rawName:"v-show",value:2===e.active,expression:"active === 2"}],staticClass:"textarea",attrs:{placeholder:"备注",maxlength:500,"auto-height":!0},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTextAreaBlur.apply(void 0,arguments)}},model:{value:e.fictitious_content,callback:function(t){e.fictitious_content=t},expression:"fictitious_content"}})],2),e.totalNum>1?r("v-uni-view",{staticClass:"split-wrapper"},[r("v-uni-view",{staticClass:"split-switch acea-row row-between-wrapper"},[r("v-uni-view",[e._v("分单发货")]),r("v-uni-view",{staticClass:"switch",class:{on:e.curGoods},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeGoods.apply(void 0,arguments)}}})],1),e.curGoods?r("splitOrder",{attrs:{select_all:!1,splitGoods:e.splitGoods},on:{getList:function(t){arguments[0]=t=e.$handleEvent(t),e.getList.apply(void 0,arguments)}}}):e._e()],1):e._e(),r("v-uni-view",{staticClass:"height-add"}),r("v-uni-view",{staticClass:"confirm-wrapper"},[r("v-uni-view",{staticClass:"confirm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveInfo.apply(void 0,arguments)}}},[e._v("确认提交")])],1)],1)},n=[]},"6af6":function(e,t,i){"use strict";i("6a54");var r=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.OrderCancel=function(e){return n.default.post("store/order/cancel/"+e)},t.OrderDel=function(e){return n.default.delete("store/order/del/"+e)},t.OrderDetail=function(e){return n.default.get("store/order/detail/"+e)},t.OrderRefund=function(e){return n.default.post("store/order/refund",e,{login:!0})},t.adminCartAdd=function(e,t){return n.default.post("admin/order/cart/add/".concat(e),t)},t.adminCartDel=function(e,t){return n.default.delete("admin/order/cart/del/".concat(e),t)},t.adminCartList=function(e,t){return n.default.get("admin/order/cart/".concat(e),t)},t.adminCartNum=function(e,t){return n.default.post("admin/order/cart/num/".concat(e),t)},t.adminCategory=function(){return n.default.get("admin/product/category")},t.adminOrderRecordList=function(e){return n.default.get("admin/order/place/list",e)},t.adminProList=function(e){return n.default.get("admin/product/list",e)},t.adminProductList=function(e){return n.default.get("admin/product/admin_list",e)},t.adminRefundList=function(e){return n.default.get("admin/refund_order/list",e)},t.adminUserAddressList=function(e,t){return n.default.get("admin/user/address/list/".concat(e),t)},t.adminUserList=function(e){return n.default.get("admin/user/list",e)},t.deliveryInfo=function(e){return n.default.get("store/delivery/info")},t.deliveryList=function(e){return n.default.get("store/delivery/data",e)},t.deliveryOrderList=function(e){return n.default.get("store/delivery/order",e)},t.deliveryStatistics=function(e){return n.default.get("store/delivery/statistics",e)},t.getAdminOrderDelivery=function(e){return n.default.get("admin/order/delivery/gain/"+e,{},{login:!0})},t.getAdminOrderDetail=function(e){return n.default.get("admin/order/detail/"+e,{},{login:!0})},t.getAdminOrderList=function(e){return n.default.get("admin/order/list",e,{login:!0})},t.getAdminRefundDetail=function(e){return n.default.get("admin/refund_order/detail/"+e,{},{login:!0})},t.getCashierApi=function(e,t){return n.default.post("admin/order/pay/".concat(e),t)},t.getCategory=function(){return n.default.get("admin/product/category")},t.getCouponsOrderPrice=function(e,t){return n.default.get("admin/order/coupons/".concat(e),t)},t.getGetAttrs=function(e){return n.default.get("admin/product/get_attr/".concat(e))},t.getGroupList=function(){return n.default.get("admin/user/group/list")},t.getLevelList=function(){return n.default.get("admin/user/level/list")},t.getListApi=function(e){return n.default.get("store/order/data",e)},t.getLogistics=function(e){return n.default.get("logistics",e,{login:!1})},t.getOrderChart=function(e){return n.default.get("admin/order/time/chart",e)},t.getOrderDelivery=function(){return n.default.get("store/delivery/list")},t.getOrderDeliveryinfoApi=function(e){return n.default.get("store/order/delivery_info/"+e)},t.getOrderExportApi=function(e){return n.default.get("store/order/export_all",e,{login:!1})},t.getOrderExportTemp=function(e){return n.default.get("store/order/export_temp",e)},t.getOrderOfflineApi=function(e){return n.default.post("store/order/offline",e)},t.getOrderPriceApi=function(e){return n.default.post("store/order/price",e)},t.getOrderStaging=function(){return n.default.get("admin/order/staging")},t.getOrderTime=function(e){return n.default.get("admin/order/time",e)},t.getOrderlistApi=function(e){return n.default.get("store/order/list",e)},t.getOrderreMarkApi=function(e){return n.default.post("store/order/remark",e)},t.getPayStatusApi=function(e){return n.default.get("admin/order/pay/status",e)},t.getProductLabel=function(){return n.default.get("admin/product/product_label")},t.getRefundMarkApi=function(e){return n.default.post("store/refund/remark",e)},t.getRefundlistApi=function(e){return n.default.get("store/refund/list",e)},t.getStatisticsInfo=function(){return n.default.get("admin/order/statistics",{},{login:!0})},t.getStatisticsListApi=function(e,t){return n.default.get("store/staff/data/"+e,t)},t.getStatisticsMonth=function(e){return n.default.get("admin/order/data",e,{login:!0})},t.getStatisticsTime=function(e){return n.default.get("admin/order/time",e,{login:!0})},t.getUserCoupon=function(e){return n.default.get("admin/user/coupon/grant",e)},t.getUserInfo=function(e){return n.default.get("admin/user/info/".concat(e))},t.getUserLabel=function(){return n.default.get("admin/user/label/0")},t.getUserList=function(e){return n.default.get("admin/user/list",e)},t.offOrderInfo=function(e){return n.default.post("admin/order/info",e)},t.openRefund=function(e,t){return n.default.post("admin/order/open/refund/".concat(e),t)},t.orderCartInfo=function(e){return n.default.post("store/order/cart_info",e)},t.orderConfirm=function(e,t){return n.default.post("admin/order/confirm/".concat(e),t)},t.orderCreate=function(e,t,i){return n.default.post("admin/order/create/".concat(e,"/").concat(t),i)},t.orderDeliveryInfo=function(){return n.default.get("admin/order/delivery_info")},t.orderExportTemp=function(e){return n.default.get("admin/order/export_temp",e)},t.orderInfo=function(e){return n.default.get("store/order/statistics",e)},t.orderOrderDelivery=function(){return n.default.get("admin/order/delivery")},t.orderRefundAgree=function(e){return n.default.post("admin/order/refund_agree/"+e)},t.orderSplitDelivery=function(e,t){return n.default.put("admin/order/split_delivery/"+e,t)},t.orderSplitInfo=function(e){return n.default.get("admin/order/split_cart_info/"+e)},t.orderVerific=function(e,t){return n.default.post("admin/order/order_verific",{code:e,auth:t})},t.orderWirteOff=function(e,t){return n.default.post("admin/order/wirteoff/".concat(e),t)},t.orderWirteOffRecords=function(e,t){return n.default.post("admin/order/wirteoff/records/".concat(e),t)},t.orderWriteoff=function(e){return n.default.post("store/order/writeoff",e)},t.orderWriteoffInfo=function(e,t){return n.default.get("store/order/writeoff_info/"+e,t)},t.postBatchProcess=function(e){return n.default.post("admin/product/batch_process",e)},t.postOrderComputed=function(e,t,i){return n.default.post("admin/order/computed/".concat(e,"/").concat(t),i)},t.postUpdateAttrs=function(e,t){return n.default.post("admin/product/update_attrs/".concat(e),t)},t.postUserUpdate=function(e){return n.default.post("admin/user/update",e)},t.postUserUpdateOther=function(e,t){return n.default.post("admin/user/update_other/".concat(e),t)},t.productSetShow=function(e){return n.default.post("admin/product/set_show",e)},t.refundDetail=function(e){return n.default.get("store/refund/detail/"+e)},t.setAdminOrderDelivery=function(e,t){return n.default.post("admin/order/delivery/keep/"+e,t,{login:!0})},t.setAdminOrderPrice=function(e){return n.default.post("admin/order/price",e,{login:!0})},t.setAdminOrderRemark=function(e){return n.default.post("admin/order/remark",e,{login:!0})},t.setAdminRefundRemark=function(e){return n.default.post("admin/refund_order/remark",e,{login:!0})},t.setOfflinePay=function(e){return n.default.post("admin/order/offline",e,{login:!0})},t.setOrderDelivery=function(e,t){return n.default.post("store/order/delivery/"+e,t,{login:!0})},t.setOrderRefund=function(e){return n.default.post("admin/order/refund",e,{login:!0})},t.statisticsMenuApi=function(e){return n.default.get("store/staff/statistics",e)},t.storeRefundAgree=function(e){return n.default.post("store/order/refund_agree/"+e)},t.storeSplitDelivery=function(e,t){return n.default.put("store/order/split_delivery/"+e,t)},t.storeSplitInfo=function(e){return n.default.get("store/order/split_cart_info/"+e)},t.userInfo=function(){return n.default.get("store/staff/info")},i("c223");var n=r(i("65455"))},7466:function(e,t,i){"use strict";i("6a54");var r=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("2634")),a=r(i("2fdc"));i("bf0f"),i("2797"),i("aa9c"),i("5c47"),i("0506");var o=i("6af6"),s=r(i("551a")),d={name:"GoodsDeliver",components:{splitOrder:s.default},props:{},data:function(){return{types:[{type:"express",title:"发货",key:1,show:!0},{type:"send",title:"送货",key:2,show:!0},{type:"fictitious",title:"无需物流",key:3,show:!0}],expressType:[{title:"手动填写",key:1},{title:"电子面单打印",key:2}],orderGoods:[{title:"开启",key:1},{title:"关闭",key:0}],curExpress:1,active:0,order_id:"",delivery:[],logistics:[],delivery_type:"1",delivery_name:"",delivery_id:"",seIndex:0,expIndex:0,expTemp:[],to_name:"",to_tel:"",to_addr:"",postPeople:[],postIndex:0,fictitious_content:"",listId:0,curGoods:0,splitGoods:[],cartIds:[],totalNum:0,productType:0,isWeixin:this.$wechat.isWeixin()}},watch:{"$route.params.oid":function(e){void 0!=e&&(this.order_id=e,this.getIndex())}},onLoad:function(e){if(this.order_id=e.id,this.listId=e.listId,this.totalNum=e.totalNum,this.comeType=e.comeType,this.productType=e.productType,3==this.productType){for(var t=0;t<this.types.length;t++)this.types[t].show=2==t;this.delivery_type=3,this.active=2}8!=e.orderStatus&&4!=e.orderStatus&&9!=e.orderStatus||(this.curGoods=1,this.orderGoods.pop(),this.splitList()),this.getIndex(),this.getLogistics(),this.orderDeliveryInfo(),this.geTorderOrderDelivery()},methods:{getList:function(e){this.splitGoods=e;var t=[];e.forEach((function(e){if(e.checked){var i={cart_id:e.cart_id,cart_num:e.surplus_num};t.push(i)}})),this.cartIds=t},splitList:function(){var e=this;(0,o.orderSplitInfo)(this.listId).then((function(t){var i=t.data;i.forEach((function(e){e.checked=!1,e.numShow=e.surplus_num})),e.splitGoods=i})).catch((function(t){return e.$util.Tips({title:t})}))},changeGoods:function(){this.curGoods=this.curGoods?0:1,this.curGoods&&this.splitList()},scanCode:function(){var e=this;this.$wechat.isWeixin()&&this.$wechat.wechatEvevt("scanQRCode",{needResult:1,scanType:["barCode"]}).then((function(t){var i=t.resultStr.split(",");e.delivery_id=i[1]}))},previewImage:function(){uni.previewImage({urls:[this.expTemp[this.expIndex].pic],success:function(){},fail:function(e){}})},geTorderOrderDelivery:function(){var e=this;(0,o.orderOrderDelivery)().then((function(t){e.postPeople=t.data}))},bindPostChange:function(e){this.postIndex=e.detail.value},changeExpTpe:function(e,t){this.curExpress=e.key,this.getLogistics(t||"")},changeType:function(e,t){this.active=t,this.delivery_type=e.key},getIndex:function(){var e=this;(0,o.getAdminOrderDelivery)(e.order_id).then((function(t){e.delivery=t.data}),(function(t){e.$util.Tips({title:t})}))},getLogistics:function(e){var t=this;(0,o.getLogistics)({status:e}).then((function(e){t.logistics=e.data,t.getExpTemp(e.data[0].code)}),(function(e){t.$util.Tips({title:e})}))},saveInfo:function(){var e=this;return(0,a.default)((0,n.default)().mark((function t(){var i,r,a,o,s,d,c;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e,r=i.delivery_type,i.logistics[i.seIndex].name,a=i.delivery_id,i.delivery_name,o={},o.delivery_type=r,o.delivery_code=i.logistics[i.seIndex].code,o.delivery_name=i.logistics[i.seIndex].name,o.type=i.active+1,1!=r||1!=e.curExpress){t.next=11;break}if(a){t.next=8;break}return t.abrupt("return",e.$util.Tips({title:"请填写快递单号"}));case 8:o.express_record_type=i.curExpress,o.delivery_id=a,i.curGoods?i.setSplitInfo(o):i.setInfo(o);case 11:if(1!=r||2!=e.curExpress){t.next=28;break}if(i.to_name){t.next=14;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人姓名"}));case 14:if(i.to_tel){t.next=16;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人手机号码"}));case 16:if(/^1[3456789]\d{9}$/.test(i.to_tel)){t.next=18;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人手机号码"}));case 18:if(i.to_addr){t.next=20;break}return t.abrupt("return",e.$util.Tips({title:"请填写寄件人地址"}));case 20:if(0!=i.expTemp.length){t.next=22;break}return t.abrupt("return",e.$util.Tips({title:"请选择电子面单"}));case 22:o.express_record_type=i.curExpress,o.to_name=i.to_name,o.to_tel=i.to_tel,o.to_addr=i.to_addr,o.express_temp_id=i.expTemp[i.expIndex].temp_id,i.curGoods?i.setSplitInfo(o):i.setInfo(o);case 28:if(2!=r){t.next=38;break}if(i.postPeople.length){t.next=31;break}return t.abrupt("return",e.$util.Tips({title:"请在平台后台添加送货人"}));case 31:s=e.postPeople[e.postIndex],d={},d.type=i.delivery_type,d.sh_delivery_name=s.wx_name,d.sh_delivery_id=s.phone,d.sh_delivery_uid=s.uid,i.curGoods?i.setSplitInfo(d):i.setInfo(d);case 38:3==r&&(c={},c.type=i.delivery_type,c.fictitious_content=i.fictitious_content,i.curGoods?i.setSplitInfo(c):i.setInfo(c));case 39:case"end":return t.stop()}}),t)})))()},setInfo:function(e){var t=this,i=this;(0,o.setAdminOrderDelivery)(i.delivery.id,e).then((function(e){i.$util.Tips({title:e.msg,icon:"success",mask:!0}),setTimeout((function(e){2==t.comeType?uni.navigateTo({url:"/pages/admin/orderDetail/index?id="+t.order_id}):uni.navigateTo({url:"/pages/admin/orderList/index?types=1"})}),2e3)}),(function(e){i.$util.Tips({title:e})}))},setSplitInfo:function(e){var t=this;if(!this.cartIds.length)return this.$util.Tips({title:"请选择发货商品"});e.cart_ids=this.cartIds,(0,o.orderSplitDelivery)(this.delivery.id,e).then((function(e){t.$util.Tips({title:e.msg,icon:"success",mask:!0}),setTimeout((function(e){2==t.comeType?uni.navigateTo({url:"/pages/admin/orderDetail/index?id="+t.order_id}):uni.navigateTo({url:"/pages/admin/orderList/index?types=1"})}),2e3)})).catch((function(e){t.$util.Tips({title:e})}))},bindPickerChange:function(e){this.seIndex=e.detail.value,this.getExpTemp(this.logistics[e.detail.value].code)},bindTempChange:function(e){this.expIndex=e.detail.value},getExpTemp:function(e){var t=this;(0,o.orderExportTemp)({com:e}).then((function(e){t.expTemp=e.data.data}))},orderDeliveryInfo:function(){var e=this;(0,o.orderDeliveryInfo)().then((function(t){e.to_name=t.data.to_name,e.to_tel=t.data.to_tel,e.to_addr=t.data.to_add}))}}};t.default=d},"7c11":function(e,t,i){"use strict";i.r(t);var r=i("635b"),n=i("4f05");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("d0ed");var o=i("828b"),s=Object(o["a"])(n["default"],r["b"],r["c"],!1,null,"4245515a",null,!1,r["a"],void 0);t["default"]=s.exports},a96f:function(e,t,i){"use strict";i.r(t);var r=i("3133"),n=i.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(a);t["default"]=n.a},aeec:function(e,t,i){"use strict";var r=i("f93d"),n=i.n(r);n.a},c3c5:function(e,t,i){var r=i("c86c");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.picker-add[data-v-4245515a]{display:flex;align-items:center}.height-add[data-v-4245515a]{height:%?120?%}\n/*发货*/.deliver-goods[data-v-4245515a]{padding:%?22?% %?20?%}.deliver-goods .header[data-v-4245515a]{position:relative;padding:0 %?32?%;border-radius:%?24?%;background:#fff;overflow:hidden}.deliver-goods .header .order-num[data-v-4245515a]{padding:%?20?% 0;border-bottom:1px dotted #eee}.deliver-goods .header .order-num .num[data-v-4245515a]{font-size:%?28?%;line-height:%?40?%;color:#333;position:relative}.deliver-goods header .order-num .name[data-v-4245515a]{width:%?260?%;font-size:%?26?%;color:#282828;text-align:center}.deliver-goods header .order-num .name .iconfont[data-v-4245515a]{font-size:%?35?%;color:#477ef3;vertical-align:middle;margin-right:%?10?%}.deliver-goods .header .address[data-v-4245515a]{padding:%?20?% 0 %?40?%;font-size:%?24?%;line-height:%?34?%;color:#999}.deliver-goods .header .address .name[data-v-4245515a]{font-weight:500;font-size:%?30?%;line-height:%?42?%;color:#333;margin-bottom:%?12?%}.deliver-goods .header .address .name .iconfont[data-v-4245515a]{margin-right:%?8?%;font-size:%?32?%}.deliver-goods .header .address .name .phone[data-v-4245515a]{margin-left:%?40?%}.deliver-goods .header .line[data-v-4245515a]{position:absolute;bottom:0;left:0;width:100%;height:%?4?%}.deliver-goods .header .line uni-image[data-v-4245515a]{width:100%;height:100%;display:block}.deliver-goods .wrapper[data-v-4245515a]{padding:%?12?% 0;border-radius:%?24?%;margin-top:%?20?%;background-color:#fff}.deliver-goods .wrapper .item[data-v-4245515a]{padding:0 %?24?%;height:%?80?%;font-size:%?28?%;color:#333;position:relative}.deliver-goods .wrapper .item .mode[data-v-4245515a]{flex:1;height:100%;text-align:right}.deliver-goods .wrapper .item .mode .iconfont[data-v-4245515a]{font-size:%?32?%;margin-right:%?12?%;color:#ccc}.deliver-goods .wrapper .item .mode .goods ~ .goods[data-v-4245515a]{margin-left:%?50?%}.deliver-goods .wrapper .item .mode .goods[data-v-4245515a]{color:#999}.deliver-goods .wrapper .item .mode .goods.on[data-v-4245515a]{color:#333}.deliver-goods .wrapper .item .mode .goods.on .iconfont[data-v-4245515a]{color:#2a7efb}.deliver-goods .wrapper .item .icon-up[data-v-4245515a]{position:absolute;font-size:%?35?%;color:#2c2c2c;right:%?30?%}.deliver-goods .wrapper .item select[data-v-4245515a]{direction:rtl;padding-right:%?60?%;position:relative;z-index:2}.deliver-goods .wrapper .item uni-input[data-v-4245515a]::-webkit-input-placeholder{color:#bbb}.deliver-goods .wrapper .item uni-input[data-v-4245515a]::placeholder{color:#bbb}.deliver-goods .confirm-wrapper[data-v-4245515a]{position:fixed;left:0;bottom:0;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom);width:100%;padding:%?20?%}.deliver-goods .confirm[data-v-4245515a]{font-weight:500;font-size:%?28?%;color:#fff;height:%?80?%;border-radius:%?40?%;background:#2a7efb;text-align:center;line-height:%?80?%}.select-box[data-v-4245515a]{flex:1;height:100%}.select-box .pickerBox[data-v-4245515a]{display:flex;align-items:center;justify-content:flex-end;width:100%;height:100%}.select-box .pickerBox .iconfont[data-v-4245515a]{margin-left:%?8?%;font-size:%?24?%;color:#999}.look[data-v-4245515a]{margin-left:%?20?%;color:#2a7efb}.textarea[data-v-4245515a]{display:block;min-height:%?192?%;padding:%?30?%;width:100%;border-bottom:1px solid #f0f0f0;box-sizing:border-box}.icon-xiangji[data-v-4245515a]{font-size:%?35?%;color:#2a7efb}.trip[data-v-4245515a]{font-size:%?22?%;color:#ccc;padding:%?6?% 0}.split-wrapper[data-v-4245515a]{border-radius:%?24?%;margin-top:%?20?%;background:#fff}.split-wrapper .splitOrder[data-v-4245515a]{padding:0 %?24?% %?46?%;margin:0}.split-switch[data-v-4245515a]{padding:%?40?% %?24?%;font-size:%?28?%;color:#333}.split-switch .switch[data-v-4245515a]{position:relative;width:%?79?%;height:%?48?%;padding:%?4?%;border-radius:%?24?%;background:#ddd;transition:background .1s,border .1s}.split-switch .switch[data-v-4245515a]::after{content:"";position:absolute;top:%?4?%;left:%?4?%;width:%?40?%;height:%?40?%;border-radius:%?20?%;background:#fff;box-shadow:0 %?3?% %?6?% 0 rgba(0,0,0,.08);transition:-webkit-transform .35s cubic-bezier(.4,.4,.25,1.35);transition:transform .35s cubic-bezier(.4,.4,.25,1.35);transition:transform .35s cubic-bezier(.4,.4,.25,1.35),-webkit-transform .35s cubic-bezier(.4,.4,.25,1.35)}.split-switch .switch.on[data-v-4245515a]{background:#2a7efb}.split-switch .switch.on[data-v-4245515a]::after{-webkit-transform:translateX(%?31?%);transform:translateX(%?31?%)}',""]),e.exports=t},c528:function(e,t,i){var r=i("c86c");t=r(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.splitOrder[data-v-2a5c5359]{width:%?710?%;background-color:#fff;border-radius:%?16?%;margin:%?24?% auto 0 auto;padding:%?32?% %?26?%}.splitOrder .all[data-v-2a5c5359]{padding:%?20?% %?30?%}.splitOrder .all .checkAll[data-v-2a5c5359]{margin-left:%?20?%}.splitOrder .items ~ .items[data-v-2a5c5359]{margin-top:%?48?%}.splitOrder .items .picTxt[data-v-2a5c5359]{width:%?604?%;position:relative}.splitOrder .items .picTxt .name[data-v-2a5c5359]{width:%?444?%}.splitOrder .items .picTxt .pictrue[data-v-2a5c5359]{width:%?136?%;height:%?136?%}.splitOrder .items .picTxt .pictrue uni-image[data-v-2a5c5359]{width:100%;height:100%;border-radius:%?16?%}.splitOrder .items .picTxt .text[data-v-2a5c5359]{width:%?450?%;font-size:%?28?%;color:#333;font-weight:400}.splitOrder .items .picTxt .text .reColor[data-v-2a5c5359]{color:#999}.splitOrder .items .picTxt .text .reElection[data-v-2a5c5359]{margin-top:%?20?%}.splitOrder .items .picTxt .text .reElection .title[data-v-2a5c5359]{font-size:%?24?%}.splitOrder .items .picTxt .text .reElection .reBnt[data-v-2a5c5359]{width:%?120?%;height:%?46?%;border-radius:%?23?%;font-size:%?26?%}.splitOrder .items .picTxt .text .infor[data-v-2a5c5359]{font-size:%?22?%;color:#999;margin-top:%?12?%;width:%?284?%}.splitOrder .items .picTxt .text .money-section[data-v-2a5c5359]{margin-top:%?18?%;font-size:%?22?%;color:#999}.splitOrder .items .picTxt .text .money[data-v-2a5c5359]{font-size:%?36?%;color:#333;font-family:Regular;color:#ff7d00}.splitOrder .items .picTxt .carnum[data-v-2a5c5359]{height:%?36?%;position:absolute;bottom:0;right:0}.splitOrder .items .picTxt .carnum uni-view[data-v-2a5c5359]{width:%?66?%;text-align:center;height:100%;line-height:%?36?%;font-size:%?24?%;color:#333}.splitOrder .items .picTxt .carnum .reduce[data-v-2a5c5359]{border-right:0;border-radius:%?3?% 0 0 %?3?%}.splitOrder .items .picTxt .carnum .reduce.on[data-v-2a5c5359]{border-color:#e3e3e3;color:#dedede}.splitOrder .items .picTxt .carnum .plus[data-v-2a5c5359]{border-left:0;border-radius:0 %?3?% %?3?% 0;font-size:%?26?%}.splitOrder .items .picTxt .carnum .plus.on[data-v-2a5c5359]{border-color:#e3e3e3;color:#dedede}.splitOrder .items .picTxt .carnum .num[data-v-2a5c5359]{color:#282828;background:#f5f5f5;width:%?72?%}',""]),e.exports=t},d0ed:function(e,t,i){"use strict";var r=i("4186"),n=i.n(r);n.a},f21b:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.splitGoods.length?i("v-uni-view",{staticClass:"splitOrder"},[e.select_all?i("v-uni-view",{staticClass:"all"},[i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxAllChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{attrs:{value:"all",checked:e.isAllSelect}}),i("v-uni-text",{staticClass:"checkAll"},[e._v("全选")])],1)],1):e._e(),i("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}}},[e._l(e.splitGoods,(function(t,r){return[i("v-uni-view",{key:r+"_0",staticClass:"items acea-row row-between-wrapper"},[i("v-uni-checkbox",{attrs:{value:t.id.toString(),checked:t.checked}}),i("v-uni-view",{staticClass:"picTxt acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"pictrue"},[i("v-uni-image",{attrs:{src:t.cart_info.productInfo.image}})],1),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"name line1"},[e._v(e._s(t.cart_info.productInfo.store_name))])],1),i("v-uni-view",{staticClass:"infor line1"},[e._v("属性："+e._s(t.cart_info.productInfo.attrInfo.suk||"默认"))]),i("v-uni-view",{staticClass:"acea-row row-middle money-section"},[e._v("实付款："),i("v-uni-view",{staticClass:"money"},[e._v("¥"+e._s(t.cart_info.sum_true_price))])],1)],1),i("v-uni-view",{staticClass:"carnum acea-row row-center-wrapper"},[i("v-uni-view",{staticClass:"reduce iconfont icon-ic_Reduce",class:1==t.surplus_num?"on":"",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.subCart(t)}}}),i("v-uni-view",{staticClass:"num"},[e._v(e._s(t.surplus_num))]),i("v-uni-view",{staticClass:"plus iconfont icon-ic_increase",class:t.surplus_num==t.numShow?"on":"",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e.addCart(t)}}})],1)],1)],1)]}))],2)],1):e._e()},n=[]},f93d:function(e,t,i){var r=i("c528");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=i("967d").default;n("20941a98",r,!0,{sourceMap:!1,shadowMode:!1})}}]);