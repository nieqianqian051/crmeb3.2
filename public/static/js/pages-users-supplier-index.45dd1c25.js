(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-supplier-index"],{"04f4":function(t,e,i){"use strict";i.r(e);var a=i("8d8a"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"10b2":function(t,e,i){"use strict";var a=i("6e69"),n=i.n(a);n.a},2386:function(t,e,i){"use strict";var a=i("771f"),n=i.n(a);n.a},3868:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-modal__container",class:[t.show?"tui-modal-show":""],style:{zIndex:t.zIndex}},[i("v-uni-view",{staticClass:"tui-modal-box",class:[t.fadeIn||t.show?"tui-modal-normal":"tui-modal-scale",t.show?"tui-modal-show":""]},[t.custom?i("v-uni-view",[t._t("default")],2):i("v-uni-view",[t.title?i("v-uni-view",{staticClass:"tui-modal-title"},[t._v(t._s(t.title))]):t._e(),i("v-uni-view",{staticClass:"tui-modal-content",class:[t.title?"":"tui-mtop"]},[t._v(t._s(t.content))]),i("v-uni-view",{staticClass:"tui-modalBtn-box"},[i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-cancel",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(0)}}},[t._v(t._s(t.cancelText))]),i("v-uni-view",{staticClass:"tui-modal-btn flex-center tui-modal-btn-confirm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick(1)}}},[t._v(t._s(t.confirmText))])],1)],1)],1),t.isMask?i("v-uni-view",{staticClass:"tui-modal-mask",class:[t.show?"tui-mask-show":""],style:{zIndex:t.maskZIndex,background:t.maskColor},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickCancel.apply(void 0,arguments)}}}):t._e()],1)},n=[]},4195:function(t,e,i){"use strict";i.r(e);var a=i("8b31"),n=i("be47");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("2386");var o=i("828b"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"592181ed",null,!1,a["a"],void 0);e["default"]=l.exports},"499f":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("dd2b"),i("aa9c"),i("5c47"),i("0506");var n=a(i("2634")),s=a(i("2fdc")),o=a(i("9b1b")),l=(i("5088"),i("8f59")),c=i("92f9"),r=a(i("89cc")),u=a(i("0293")),d=i("4d38"),f=a(i("2e78")),v=a(i("6b9f")),p=uni.getWindowInfo().statusBarHeight,h={data:function(){return{sysHeight:p,form:{system_name:"",name:"",phone:"",captcha:"",images:[]},canvasWidth:"",canvasHeight:"",canvasStatus:!1,isSelect:!1,keyCode:"",id:0,showModal:!1,supplierAgreement:"",tagStyle:{img:"width:100%;display:block;"}}},components:{Verify:f.default,tuiModal:v.default},mixins:[u.default,r.default],watch:{isLogin:{handler:function(t,e){t&&this.getOrderProduct()},deep:!0}},computed:(0,o.default)((0,o.default)({},(0,l.mapGetters)(["isLogin"])),{},{isSelectStar:function(){if(this.form.system_name&&this.form.name&&this.form.phone&&this.form.captcha&&this.form.images.length)return!0},headerBg:function(){return{backgroundImage:"url("+d.HTTP_REQUEST_URL+"/statics/images/supplier/apply_header.png)"}},mainHeight:function(){var t=uni.getWindowInfo(),e=t.windowHeight;return e-90-this.sysHeight}}),onLoad:function(t){this.id=t.id||0,t.id&&this.getInfo()},methods:{DelPic:function(t){this.form.images[t];this.form.images.splice(t,1),this.$set(this.form,"images",this.form.images)},uploadpic:function(){var t=this,e=this;this.canvasStatus=!0,e.$util.uploadImageChange({count:8,url:"upload/image"},(function(t){e.form.images.length<8&&e.form.images.push(t.data.url)}),(function(e){t.canvasStatus=!1}),(function(e){t.canvasWidth=e.w,t.canvasHeight=e.h}))},code:function(){return this.form.phone?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.form.phone)?void this.$refs.verify.show():this.$util.Tips({title:"请输入正确的手机号码"}):that.$util.Tips({title:"请填写手机号码"})},success:function(t){var e=this;this.$refs.verify.hide(),(0,c.getCodeApi)().then((function(i){e.keyCode=i.data.key,e.getCode(t)})).catch((function(t){e.$util.Tips({title:t})}))},getCode:function(t){var e=this;return(0,s.default)((0,n.default)().mark((function i(){var a;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e,e.form.phone){i.next=3;break}return i.abrupt("return",a.$util.Tips({title:"请填写手机号码"}));case 3:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(e.form.phone)){i.next=5;break}return i.abrupt("return",e.$util.Tips({title:"请输入正确的手机号码"}));case 5:return i.next=7,(0,c.registerVerify)({phone:a.form.phone,type:"supplier",key:a.keyCode,captchaType:"blockPuzzle",captchaVerification:t.captchaVerification}).then((function(t){a.$util.Tips({title:t.msg}),a.sendCode()})).catch((function(t){a.$util.Tips({title:t})}));case 7:case"end":return i.stop()}}),i)})))()},proviceSelect:function(){this.isSelect=!this.isSelect},getInfo:function(){var t=this;(0,c.userApply)(this.id).then((function(e){var i=e.data;t.form.system_name=i.system_name,t.form.name=i.name,t.form.phone=i.phone,t.form.images=i.images})).catch((function(e){return t.$util.Tips({title:e})}))},submitSupply:function(){var t=this;return this.isSelectStar?this.isSelect?void(0,c.spplyCreateApi)(this.id,this.form).then((function(t){uni.showToast({title:t.msg}),uni.navigateTo({url:"/pages/users/supplier/state?id="+t.data.id})})).catch((function(e){return t.$util.Tips({title:e})})):this.$util.Tips({title:"请阅读并同意协议"}):this.$util.Tips({title:"请完整填写表单信息"})},pageBack:function(){uni.navigateBack()},goRecord:function(){uni.navigateTo({url:"/pages/users/supplier/record"})},getAgreement:function(){var t=this;(0,c.getUserAgreement)("supplier").then((function(e){t.supplierAgreement=e.data.content,t.showModal=!0})).catch((function(t){that.$util.Tips({title:t.msg})}))},hideModal:function(){this.showModal=!1}}};e.default=h},"68cf":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".tui-modal__container[data-v-6bd2b1a0]{width:100%;height:100%;position:fixed;left:0;top:0;display:flex;align-items:center;justify-content:center;visibility:hidden}.tui-modal-box[data-v-6bd2b1a0]{position:relative;opacity:0;visibility:hidden;box-sizing:border-box;transition:all .3s ease-in-out;width:%?600?%;padding:%?40?%;border-radius:%?32?%;background-color:#fff;z-index:9999}.tui-modal-scale[data-v-6bd2b1a0]{-webkit-transform:scale(0);transform:scale(0)}.tui-modal-normal[data-v-6bd2b1a0]{-webkit-transform:scale(1);transform:scale(1)}.tui-modal-show[data-v-6bd2b1a0]{opacity:1;visibility:visible}.tui-modal-mask[data-v-6bd2b1a0]{position:fixed;top:0;left:0;right:0;bottom:0;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.tui-mask-show[data-v-6bd2b1a0]{visibility:visible;opacity:1}.tui-modal-title[data-v-6bd2b1a0]{text-align:center;font-size:%?32?%;line-height:%?52?%;color:#333;font-weight:500}.tui-modal-content[data-v-6bd2b1a0]{text-align:center;color:#666;font-size:%?30?%;line-height:%?40?%;margin:%?24?% auto %?40?%}.tui-mtop[data-v-6bd2b1a0]{margin-top:%?30?%}.tui-mbtm[data-v-6bd2b1a0]{margin-bottom:%?30?%}.tui-modalBtn-box[data-v-6bd2b1a0]{width:100%;display:flex;align-items:center;justify-content:space-between}.tui-flex-column[data-v-6bd2b1a0]{flex-direction:column}.tui-modal-btn[data-v-6bd2b1a0]{width:%?244?%;height:%?72?%;border-radius:%?36?%;font-size:%?26?%}.tui-modal-btn-cancel[data-v-6bd2b1a0]{border:1px solid var(--view-theme);color:var(--view-theme)}.tui-modal-btn-confirm[data-v-6bd2b1a0]{background-color:var(--view-theme);color:#fff}",""]),t.exports=e},"6b9f":function(t,e,i){"use strict";i.r(e);var a=i("3868"),n=i("04f4");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("10b2");var o=i("828b"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"6bd2b1a0",null,!1,a["a"],void 0);e["default"]=l.exports},"6e69":function(t,e,i){var a=i("68cf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("057983e6",a,!0,{sourceMap:!1,shadowMode:!1})},"771f":function(t,e,i){var a=i("c6ab");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("3fe118a6",a,!0,{sourceMap:!1,shadowMode:!1})},"8b31":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"w-full fixed-lt z-20",style:{"padding-top":t.sysHeight+"px"}},[i("v-uni-view",{staticClass:"h-80 px-20 flex-between-center"},[i("v-uni-text",{staticClass:"iconfont icon-ic_leftarrow fs-40 text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pageBack.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"header-top relative",style:[t.headerBg]},[i("v-uni-view",{staticClass:"rule-btn w-124 flex-center fs-24 text--w111-fff",style:{top:100+t.sysHeight+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goRecord.apply(void 0,arguments)}}},[t._v("申请记录")])],1),i("v-uni-view",{staticClass:"bg-v-gradient pl-20 pr-20 pb-24",style:{minHeight:t.mainHeight+"px"}},[i("v-uni-view",{staticClass:"bg--w111-fff rd-24rpx content-box"},[i("v-uni-view",{staticClass:"fs-30 fw-500 lh-42rpx"},[t._v("请填写以下信息")]),i("v-uni-view",{staticClass:"cell flex-between-center mt-64"},[i("v-uni-view",{staticClass:"fs-28 lh-40rpx"},[t._v("供应商名称")]),i("v-uni-input",{staticClass:"fs-28 text-right",attrs:{type:"text",placeholder:"请输入代理商名称","placeholder-class":"text--w111-ccc"},model:{value:t.form.system_name,callback:function(e){t.$set(t.form,"system_name",e)},expression:"form.system_name"}})],1),i("v-uni-view",{staticClass:"cell flex-between-center mt-64"},[i("v-uni-view",{staticClass:"fs-28 lh-40rpx"},[t._v("用户姓名")]),i("v-uni-input",{staticClass:"fs-28 text-right",attrs:{type:"text",placeholder:"请输入姓名","placeholder-class":"text--w111-ccc"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("v-uni-view",{staticClass:"cell flex-between-center mt-64"},[i("v-uni-view",{staticClass:"fs-28 lh-40rpx"},[t._v("联系电话")]),i("v-uni-input",{staticClass:"fs-28 text-right",attrs:{type:"number",placeholder:"请输入手机号","placeholder-class":"text--w111-ccc"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),i("v-uni-view",{staticClass:"cell flex-between-center mt-64"},[i("v-uni-view",{staticClass:"fs-28 lh-40rpx"},[t._v("验证码")]),i("v-uni-view",{staticClass:"flex-y-center"},[i("v-uni-input",{staticClass:"fs-28 text-right",attrs:{type:"number",placeholder:"请输入验证码","placeholder-class":"text--w111-ccc"},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}}),i("v-uni-button",{staticClass:"code-btn w-168 h-56 flex-center fs-24 ml-20",attrs:{disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.code.apply(void 0,arguments)}}},[t._v(t._s(t.text))])],1)],1),i("v-uni-view",{staticClass:"fs-28 lh-40rpx mt-64"},[t._v("请上传营业执照及相关资质证明图片")]),i("v-uni-view",{staticClass:"fs-24 lh-34rpx text--w111-ccc mt-12"},[t._v("(图片最多可上传8张，图片格式支持JPJ、PNG、JPEG）")]),i("v-uni-view",{staticClass:"grid-column-4 grid-gap-24rpx mt-24"},[t._l(t.form.images,(function(e,a){return i("v-uni-view",{key:a,staticClass:"relative h-148"},[i("v-uni-image",{staticClass:"w-148 h-148 rd-16rpx",attrs:{src:e,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"abs-rt w-32 h-32 del-pic flex-center fs-24",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.DelPic(a)}}},[i("v-uni-text",{staticClass:"iconfont icon-ic_close text--w111-fff"})],1)],1)})),t.form.images.length<8?i("v-uni-view",{staticClass:"h-148 flex-col flex-center upload bg--w111-f5f5f5 text--w111-999 rd-16rpx",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadpic.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-ic_camera fs-42"}),i("v-uni-text",{staticClass:"fs-24 lh-34rpx pt-8"},[t._v("上传图片")])],1):t._e()],2),i("v-uni-view",{staticClass:"flex-y-center mt-32"},[i("v-uni-text",{staticClass:"iconfont fs-30",class:t.isSelect?"icon-a-ic_CompleteSelect":"icon-ic_unselect",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.proviceSelect.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"fs-24 text--w111-999 pl-12"},[t._v("已阅读并同意")]),i("v-uni-text",{staticClass:"font-red",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getAgreement.apply(void 0,arguments)}}},[t._v("《供应商协议》")])],1),i("v-uni-view",{staticClass:"w-full h-88 rd-44rpx flex-center text--w111-fff fs-28 mt-48",class:t.isSelectStar?"bg-red":"bg-disabled",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitSupply.apply(void 0,arguments)}}},[t._v("提交申请")])],1)],1),i("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"330px",height:"155px"}},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success.apply(void 0,arguments)}}}),i("tui-modal",{attrs:{show:t.showModal,maskClosable:!0,custom:!0},on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"tui-modal-custom"},[i("v-uni-view",{staticClass:"fs-32 fw-500 lh-44rpx text-center"},[t._v("供应商协议")]),i("v-uni-view",{staticClass:"fs-28 text--w111-666 lh-44rpx mt-24 desc-box"},[i("v-uni-view",{domProps:{innerHTML:t._s(t.supplierAgreement)}})],1),i("v-uni-view",{staticClass:"w-full h-72 rd-36rpx flex-center bg-red fs-26 text--w111-fff mt-32",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[t._v("知道了")])],1)],1)],1)},n=[]},"8d8a":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var a={name:"tuiModal",emits:["click","cancel"],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确定"},maskClosable:{type:Boolean,default:!0},isMask:{type:Boolean,default:!0},maskColor:{type:String,default:"rgba(0, 0, 0, 0.6)"},fadeIn:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},zIndex:{type:Number,default:9997},maskZIndex:{type:Number,default:9990}},data:function(){return{}},methods:{handleClick:function(t){this.show&&this.$emit("click",{index:Number(t)})},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}}};e.default=a},be47:function(t,e,i){"use strict";i.r(e);var a=i("499f"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},c6ab:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".header-top[data-v-592181ed]{width:100%;height:%?358?%;background-size:cover}.rule-btn[data-v-592181ed]{height:%?48?%;background:rgba(0,0,0,.15);border-radius:%?24?% 0 0 %?24?%;position:absolute;right:0}.bg-v-gradient[data-v-592181ed]{background:linear-gradient(180deg,#fe7015,#eb3b26)}.content-box[data-v-592181ed]{padding:%?48?% %?32?% %?40?%}.code-btn[data-v-592181ed]{border:1px solid #e93323;color:#e93323;border-radius:%?28?%}.upload[data-v-592181ed]{border:%?1?% dashed #ccc}.del-pic[data-v-592181ed]{background-color:#999;border-radius:0 %?16?% 0 %?16?%}.icon-a-ic_CompleteSelect[data-v-592181ed], .font-red[data-v-592181ed]{color:#e93323}.icon-ic_unselect[data-v-592181ed]{color:#ccc}.bg-red[data-v-592181ed]{background-color:#e93323}.bg-disabled[data-v-592181ed]{background-color:rgba(233,51,35,.5)}.desc-box[data-v-592181ed]{max-height:%?700?%;overflow-y:auto}.modal-bottom[data-v-592181ed]{height:%?136?%;border-radius:0 0 %?32?% %?32?%;background-color:#fff}",""]),t.exports=e}}]);