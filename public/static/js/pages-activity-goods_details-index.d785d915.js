(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-goods_details-index"],{"1d163":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAMCAMAAAAkqgFXAAAAAXNSR0IArs4c6QAAAGxQTFRFAAAAv7+/qqqqv7+/zMzMv7+/yMjIv7+/yMjIzMzMx8fHy8vLxsbGyMjIyMjIysrKyMjIysrKy8vLy8vLycnJy8vLycnJysrKycnJysrKycnJy8vLycnJysrKzMzMy8vLy8vLysrKysrKy8vL8kl9DgAAACR0Uk5TAAQGCAoMDhAcHiAiKCouOjw+QEpMVFpcXmZocHJ4eXp7fH6AYfwpkQAAAFlJREFUGBmtwYkBgjAABMEDDEH8+AQ1osTtv0cp4mZk0sy17IrE+yS3K/Dr5XZegUeQWXwCqZVZMQK5k9vlCywHmcUXkI7alZVPuAP5Jk34Tfrgt2rIuG3DHyGAKMGQMpelAAAAAElFTkSuQmCC"},"1d8f":function(t,e,i){var s=i("c86c");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 商家管理 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */[data-v-4ebffbd2] uni-video{width:100%!important}[data-v-4ebffbd2] uni-video{width:100%!important}[data-v-4ebffbd2] .styleAll{display:inline-block;min-width:%?34?%;height:%?36?%;border-radius:%?8?%;text-align:center;line-height:%?36?%;font-size:%?28?%;font-family:Regular;padding:0 %?2?%}.seckill-card[data-v-4ebffbd2] .timeTxt{padding:0 %?6?%}.z-99[data-v-4ebffbd2]{z-index:99}.menu_box[data-v-4ebffbd2]{width:%?154?%;height:%?58?%;border-radius:%?29?%;z-index:999}.menu_line[data-v-4ebffbd2]{width:1px;height:%?30?%;background:#b3b3b3;margin:0 %?20?%}.opac[data-v-4ebffbd2]{background-color:hsla(0,0%,100%,.6);border:%?1?% solid rgba(0,0,0,.1)}.mirror-image[data-v-4ebffbd2]{height:%?34?%;overflow-y:hidden;position:relative}.mirror-image[data-v-4ebffbd2]:after{content:"";width:100%;height:%?34?%;position:absolute;left:0;top:0;background:rgba(0,0,0,.2)}.mirror-image uni-image[data-v-4ebffbd2]{width:100%;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.info_card[data-v-4ebffbd2]{background:linear-gradient(180deg,#fff,#fff 54%,hsla(0,0%,100%,0));margin-top:%?-32?%}.seckill-card[data-v-4ebffbd2]{padding:%?16?% %?20?% 0 %?40?%!important}.activity-card[data-v-4ebffbd2]{margin-top:%?-34?%;background-size:cover;background-repeat:no-repeat;padding:%?16?% %?40?% 0 %?40?%}.top52[data-v-4ebffbd2]{margin-top:%?-52?%!important}.pink-badge[data-v-4ebffbd2]{width:%?110?%;height:%?48?%;background-color:hsla(0,0%,100%,.9);border-radius:%?24?% 0 %?24?% 0;color:#e93323}.text-red[data-v-4ebffbd2]{color:#e93323}.pink-cell ~ .pink-cell[data-v-4ebffbd2]{margin-top:%?64?%}.dot-line[data-v-4ebffbd2]{width:%?76?%;height:%?12?%;margin-bottom:%?66?%}.bg--w111-484643[data-v-4ebffbd2]{background:linear-gradient(90deg,#484643,#1f1b17)}.text--w111-FDDAA4[data-v-4ebffbd2]{color:#fddaa4}.svip_rd[data-v-4ebffbd2]{border-radius:%?14?% 0 %?8?% %?14?%}.break_word[data-v-4ebffbd2]{overflow-wrap:break-word;white-space:normal}.text-line[data-v-4ebffbd2]{text-decoration:line-through}.white-nowrap[data-v-4ebffbd2]{white-space:nowrap}.w-530[data-v-4ebffbd2]{width:%?530?%}.w-524[data-v-4ebffbd2]{width:%?524?%}.w-76[data-v-4ebffbd2]{width:%?76?%}.active_pic[data-v-4ebffbd2]{display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:%?16?%;border:1px solid #333;padding:%?4?%}.active_pic uni-image[data-v-4ebffbd2]{width:%?68?%;height:%?68?%;border-radius:%?12?%}.scroll_pic[data-v-4ebffbd2]{height:%?80?%}.scroll_pic uni-image[data-v-4ebffbd2]{width:%?80?%;height:%?80?%;border-radius:%?16?%}.icon-ic_star1[data-v-4ebffbd2]{color:#e93323}.font-red[data-v-4ebffbd2]{color:#e93323}.bg-red[data-v-4ebffbd2]{background-color:#e93323}.join_cart[data-v-4ebffbd2]{background-color:#faad14}.bg-primary-light[data-v-4ebffbd2]{background:rgba(233,51,35,.1)}.recommend_pro ~ .recommend_pro[data-v-4ebffbd2]{margin-left:%?38?%}.page_footer[data-v-4ebffbd2]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid #f5f5f5}.bg-transparent[data-v-4ebffbd2]{background:transparent}.generate-posters[data-v-4ebffbd2]{width:100%;background-color:#fff;position:fixed;left:0;bottom:0;z-index:388;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);transition:all .3s cubic-bezier(.25,.5,.5,.9);border-top:%?1?% solid #eee;border-radius:%?20?% %?20?% 0 0}.generate-posters .generateCon[data-v-4ebffbd2]{height:%?220?%}.generate-posters .generateClose[data-v-4ebffbd2]{width:%?654?%;height:%?72?%;background:#f5f5f5;border-radius:%?36?%;font-size:%?26?%;font-weight:500;margin:0 auto %?40?%}.generate-posters .item .pictrue[data-v-4ebffbd2]{width:%?86?%;height:%?86?%;border-radius:50%;margin:0 auto %?12?% auto}.generate-posters .item .pictrue uni-image[data-v-4ebffbd2]{width:100%;height:100%;border-radius:50%}.generate-posters.on[data-v-4ebffbd2]{-webkit-transform:translateZ(0);transform:translateZ(0)}.generate-posters .item[data-v-4ebffbd2]{flex:1;text-align:center;font-size:%?24?%}.canvas[data-v-4ebffbd2]{z-index:300;width:750px;height:1300px;position:relative;bottom:%?-10000?%}.poster-mask[data-v-4ebffbd2]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);z-index:30;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.poster-loading[data-v-4ebffbd2]{position:relative;width:100%;z-index:31}.fixed-center[data-v-4ebffbd2]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:40}.poster-pop[data-v-4ebffbd2]{width:%?460?%;height:%?800?%;position:fixed;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);z-index:399;top:50%;margin-top:%?-559?%}.poster-pop uni-image[data-v-4ebffbd2]{width:100%;height:100%;display:block;border-radius:%?18?%}.poster-pop .close[data-v-4ebffbd2]{width:%?46?%;height:%?75?%;position:fixed;right:0;top:%?-73?%;display:block}.poster-pop .save-poster[data-v-4ebffbd2]{background-color:#df2d0a;font-size:：22rpx;color:#fff;text-align:center;height:%?76?%;line-height:%?76?%;width:100%}.poster-pop .keep[data-v-4ebffbd2]{color:#fff;text-align:center;font-size:%?25?%;margin-top:%?10?%}.conter[data-v-4ebffbd2]{display:block;overflow:auto}.conter img[data-v-4ebffbd2]{display:block}.notice .swiper[data-v-4ebffbd2]{width:%?360?%;overflow:hidden;margin-left:%?8?%}.notice .swiper uni-swiper[data-v-4ebffbd2]{height:%?30?%;width:100%;overflow:hidden;font-size:%?24?%;color:#282828}.SemiBold[data-v-4ebffbd2]{font-family:SemiBold}.border-bottom[data-v-4ebffbd2]{border-bottom:%?1?% solid #eee}.top-16[data-v-4ebffbd2]{top:%?16?%}',""]),t.exports=e},"2a65":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var s={zbCode:i("4d7f").default},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",{style:t.colorStyle},[s("skeleton",{ref:"skeleton",attrs:{show:t.showSkeleton,isNodes:t.isNodes,loading:"chiaroscuro",selector:"skeleton",bgcolor:"#FFF"}}),s("v-uni-view",{staticClass:"product-con skeleton",style:{visibility:t.showSkeleton?"hidden":"visible"}},[s("v-uni-view",[s("v-uni-view",{staticClass:"w-full fixed-lt z-99",style:[t.navBarStyle]},[s("v-uni-view",{staticClass:"w-full px-20 h-80 flex-between-center"},[s("v-uni-view",{staticClass:"menu_box flex-center opac"},[s("v-uni-image",{staticClass:"w-32 h-32",attrs:{src:i("036c")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backTap.apply(void 0,arguments)}}}),s("v-uni-text",{staticClass:"menu_line"}),s("v-uni-image",{staticClass:"w-32 h-32",attrs:{src:i("1de0")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.moreNav.apply(void 0,arguments)}}})],1),s("v-uni-view",{staticClass:"w-60 h-60 rd-50-p111- flex-center opac",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionSheet.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"iconfont icon-ic_share1 fs-36 text--w111-000"})],1)],1)],1),s("homeList",{attrs:{navH:46+t.sysHeight,currentPage:t.currentPage,sysHeight:t.sysHeight,openNavList:[0,1,2,3,4]}}),s("v-uni-view",[s("productConSwiper",{staticClass:"skeleton-rect",attrs:{currents:t.attrPicIndex,autoHeight:t.diyProduct.pictureConfig,showSku:t.showSkuBox,sku:t.selectSku?t.selectSku.suk:"",showDot:t.diyProduct.swiperDot,imgUrls:t.productSwiper,videoline:t.productVideoLink},on:{changeAttrPic:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAttrPic.apply(void 0,arguments)},attrPicIndex:function(e){arguments[0]=e=t.$handleEvent(e),t.attrPicIndexs.apply(void 0,arguments)},previewImageOpen:function(e){arguments[0]=e=t.$handleEvent(e),t.showImg.apply(void 0,arguments)}}}),s("v-uni-view",{staticClass:"mirror-image"},[s("v-uni-image",{attrs:{src:t.productSwiper[t.attrPicIndex]}})],1),1==t.type?s("v-uni-view",{staticClass:"activity-card seckill-card rd-t-40rpx relative w-full h-152 flex justify-between",style:{backgroundImage:t.infoCardBg}},[s("v-uni-view",{staticClass:"flex items-baseline text--w111-fff mt-8"},[s("v-uni-text",{staticClass:"fs-28 fw-600 lh-40rpx pr-16"},[t._v("秒杀价")]),s("baseMoney",{attrs:{money:t.attribute.productSelect.price,symbolSize:"32",integerSize:"56",decimalSize:"32",color:"#ffffff"}}),s("baseMoney",{staticClass:"ml-14",attrs:{money:t.storeInfo.ot_price,symbolSize:"32",integerSize:"32",decimalSize:"32",line:!0,color:"#ffffff"}})],1),1==t.status?s("v-uni-view",{staticClass:"flex-col"},[s("v-uni-text",{staticClass:"fs-20 text--w111-fff lh-28rpx text-center pb-4"},[t._v("距秒杀结束还剩")]),s("countDown",{attrs:{"is-day":!1,"tip-text":" ","day-text":" ","hour-text":":","minute-text":":","second-text":" ",datatime:t.datatime,bgColor:"#ffffff",colors:"#e93323"}})],1):s("v-uni-view",{staticClass:"fs-28 fw-500 text--w111-fff relative top-16"},[t._v(t._s(2==t.status?"即将开始":"活动已结束"))])],1):t._e(),3==t.type?s("v-uni-view",{staticClass:"activity-card rd-t-40rpx relative w-full h-152 flex justify-between",style:{backgroundImage:t.infoCardBg}},[s("v-uni-view",{staticClass:"flex items-baseline text--w111-fff mt-8"},[s("v-uni-text",{staticClass:"fs-28 fw-600 lh-40rpx pr-16"},[t._v("拼团价")]),s("baseMoney",{attrs:{money:t.attribute.productSelect.price,symbolSize:"32",integerSize:"56",decimalSize:"32",color:"#ffffff"}}),s("baseMoney",{staticClass:"ml-14",attrs:{money:t.storeInfo.product_price,symbolSize:"32",integerSize:"32",decimalSize:"32",line:!0,color:"#ffffff"}})],1),s("v-uni-view",{staticClass:"pink-badge mt-10 flex-center fs-26 fw-500"},[t._v(t._s(t.storeInfo.people)+"人团")])],1):t._e(),6==t.type?s("v-uni-view",{staticClass:"activity-card rd-t-40rpx relative w-full h-152 flex justify-between",style:{backgroundImage:t.infoCardBg}},[s("v-uni-view",{staticClass:"flex items-baseline text--w111-fff mt-8"},[s("v-uni-text",{staticClass:"fs-28 fw-600 lh-40rpx pr-16"},[t._v("预售价")]),s("baseMoney",{attrs:{money:t.attribute.productSelect.price,symbolSize:"32",integerSize:"56",decimalSize:"32",color:"#ffffff"}}),s("baseMoney",{staticClass:"ml-14",attrs:{money:t.storeInfo.ot_price,symbolSize:"32",integerSize:"32",decimalSize:"32",line:!0,color:"#ffffff"}})],1)],1):t._e(),s("v-uni-view",{staticClass:"info_card rd-40rpx relative",style:{marginTop:1==t.type||3==t.type||6==t.type?"-52rpx":""}},[s("v-uni-view",{staticClass:"px-32"},[s("v-uni-view",{staticClass:"w-full pt-36"},[t.showSkeleton?s("v-uni-view",[s("v-uni-view",{staticClass:"w-full h-46 skeleton-rect mt-20"}),s("v-uni-view",{staticClass:"mt-24 flex"},[s("v-uni-view",{staticClass:"w-200 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"w-100 h-46 skeleton-rect ml-24"})],1),s("v-uni-view",{staticClass:"mt-24 flex-between-center"},[s("v-uni-view",{staticClass:"w-200 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"w-200 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"w-200 h-46 skeleton-rect"})],1),s("v-uni-view",{staticClass:"mt-24 flex-between-center"},[s("v-uni-view",{staticClass:"w-96 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"flex-1 h-46 skeleton-rect ml-22"})],1),s("v-uni-view",{staticClass:"mt-24 flex-between-center"},[s("v-uni-view",{staticClass:"w-96 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"flex-1 h-46 skeleton-rect ml-22"})],1),s("v-uni-view",{staticClass:"mt-24 flex-between-center"},[s("v-uni-view",{staticClass:"w-96 h-46 skeleton-rect"}),s("v-uni-view",{staticClass:"flex-1 h-46 skeleton-rect ml-22"})],1),s("v-uni-view",{staticClass:"mt-24 flex"},[s("v-uni-view",{staticClass:"w-400 h-200 skeleton-rect"}),s("v-uni-view",{staticClass:"w-400 h-200 skeleton-rect ml-24"})],1)],1):t._e(),t.skuArr.length&&t.skuArr.length>1?s("v-uni-view",{staticClass:"flex mb-32"},[s("v-uni-view",{staticClass:"flex-1 flex-center"},[s("v-uni-view",{class:t.isSwiper?"active_pic":"scroll_pic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectSwiper.apply(void 0,arguments)}}},[s("v-uni-image",{attrs:{src:t.storeInfo.image}})],1),s("v-uni-view",{staticClass:"w-76 h-80 flex-col flex-center fs-22 text--w111-333 lh-30rpx"},[s("v-uni-text",[t._v(t._s(t.skuArr.length)+"款")]),s("v-uni-text",[t._v("可选")])],1)],1),s("v-uni-scroll-view",{staticClass:"white-nowrap vertical-middle w-530",attrs:{"scroll-x":"true","scroll-with-animation":!0,"show-scrollbar":"false"}},[s("v-uni-view",{staticClass:"flex w-full"},t._l(t.skuArr,(function(e,i){return s("v-uni-view",{key:i,staticClass:"inline-block mr-16",class:e.suk!=t.attrValue||t.isSwiper?"scroll_pic":"active_pic",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeAttrPic(i)}}},[s("v-uni-image",{attrs:{src:e.small_image}})],1)})),1)],1)],1):t._e(),4==t.type?s("v-uni-view",{staticClass:"flex-y-center font-red mb-24",class:t.skuArr.length&&t.skuArr.length>1?"mt-44":""},[s("v-uni-text",{staticClass:"lh-40rpx fs-40 SemiBold pl-8"},[t._v(t._s(t.attribute.productSelect.integral))]),s("v-uni-text",{staticClass:"fs-36 fw-500 pingfang pl-4"},[t._v("积分")]),s("v-uni-text",{staticClass:"fs-28 lh-40rpx px-8 text--w111-666"},[t._v("+")]),s("v-uni-text",{staticClass:"lh-40rpx fs-40 SemiBold"},[t._v(t._s(t.attribute.productSelect.price))]),s("v-uni-text",{staticClass:"fs-36 fw-500 pingfang pl-4"},[t._v("元")])],1):t._e(),s("v-uni-view",{staticClass:"fs-30 text--w111-333 fw-500 lh-42rpx",class:t.skuArr.length&&t.skuArr.length>1?"mt-32":""},[t.storeInfo.brand_name?s("v-uni-text",{staticClass:"brand-tag"},[t._v(t._s(t.storeInfo.brand_name))]):t._e(),t._v(t._s(t.storeInfo.title||t.storeInfo.store_name))],1),6==t.type?s("v-uni-view",{staticClass:"mt-16 fs-24 lh-36rpx"},[s("v-uni-view",[t._v("预售时间: "+t._s(t.storeInfo.presale_start_time)+" ~ "+t._s(t.storeInfo.presale_end_time))]),s("v-uni-view",{staticClass:"mt-12"},[t._v("预售结束后"+t._s(t.storeInfo.presale_day)+"天内发货")])],1):t._e(),s("v-uni-view",{staticClass:"flex-between-center mt-20 text--w111-999 fs-22 lh-30rpx"},[s("v-uni-text",[t._v("划线价："),s("v-uni-text",{staticClass:"text-line"},[t._v("￥"+t._s(t.storeInfo.ot_price||t.storeInfo.product_price))])],1),s("v-uni-text",[t._v("限量："+t._s(t.storeInfo.quota_show||t.storeInfo.stock))]),4==t.type?s("v-uni-text",[t._v("已兑换："+t._s(t.storeInfo.sales))]):6==t.type?s("v-uni-text",[t._v("已预定："+t._s(t.storeInfo.sales))]):s("v-uni-text",[t._v("销量："+t._s(t.storeInfo.sales))])],1),t.storeInfo.store_label&&t.storeInfo.store_label.length?s("v-uni-view",{staticClass:"flex items-end flex-wrap mt-24 w-full"},t._l(t.storeInfo.store_label,(function(t,e){return s("BaseTag",{key:e,attrs:{text:t.label_name,color:t.color,background:t.bg_color,borderColor:t.border_color,circle:!!t.border_color,imgSrc:t.icon,size:"middle"}})})),1):t._e()],1)],1)],1),s("v-uni-view",{staticClass:"px-20"},[s("v-uni-view",{staticClass:"rd-24rpx bg--w111-fff mt-20"},[t.attribute.productAttr.length?s("v-uni-view",{staticClass:"flex-between-center h-100 px-20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selecAttr.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"flex-y-center"},[s("v-uni-text",{staticClass:"fs-26 text--w111-888"},[t._v("选择")]),s("v-uni-view",{staticClass:"ml-32 text--w111-333 fs-26 w-560 line1"},[t._v(t._s(t.attrValue))])],1),s("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-666"})],1):t._e(),t.storeInfo.ensure&&t.storeInfo.ensure.length?s("v-uni-view",{staticClass:"flex-between-center h-100 px-20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.showServiceDrawer=!0}.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"flex-y-center"},[s("v-uni-text",{staticClass:"fs-26 text--w111-888"},[t._v("服务")]),s("v-uni-view",{staticClass:"ml-32 text--w111-333 fs-26 w-524 line1"},t._l(t.storeInfo.ensure,(function(e,i){return s("v-uni-text",{key:i},[t._v(t._s(e.name)+".")])})),1)],1),s("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-666"})],1):t._e()],1),3==t.type?s("v-uni-view",{staticClass:"rd-24rpx bg--w111-fff mt-20 p-24"},[s("v-uni-view",{staticClass:"flex fs-24 notice",class:{"pb-24":t.pink.length}},[s("v-uni-text",{staticClass:"text-red"},[t._v("已拼"+t._s(t.pink_ok_sum)+t._s(t.storeInfo.unit_name||""))]),t._v("丨"),s("v-uni-view",{staticClass:"swiper"},[s("v-uni-swiper",{attrs:{"indicator-dots":!1,autoplay:!0,interval:"2500",duration:"500",vertical:"true",circular:"true"}},[t._l(t.itemNew,(function(e,i){return[s("v-uni-swiper-item",[s("v-uni-view",{staticClass:"line1"},[t._v(t._s(e))])],1)]}))],2)],1)],1),t.pink.length?s("v-uni-view",{staticClass:"border-bottom mb-38"},t._l(t.pink,(function(e,i){return s("v-uni-view",{key:i,staticClass:"flex-between-center pink-cell"},[s("v-uni-view",{staticClass:"flex-1 flex-y-center"},[s("v-uni-image",{staticClass:"w-64 h-64 rd-50-p111-",attrs:{src:e.avatar}}),s("v-uni-view",{staticClass:"flex-y-center fs-26 pl-24"},[s("v-uni-text",[t._v("还差"),s("v-uni-text",{staticClass:"text-red"},[t._v(t._s(e.count))]),t._v("人,")],1),s("v-uni-text",{staticClass:"pl-8"},[t._v("还剩")]),s("count-down",{attrs:{"is-day":!1,"tip-text":" ","day-text":" ","hour-text":":","minute-text":":","second-text":" ",colors:"#333",dotColor:"#333",datatime:e.stop_time}})],1)],1),s("v-uni-view",{staticClass:"w-120 h-56 rd-30rpx bg-red flex-center text--w111-fff fs-24",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.spellBnt(e)}}},[t._v("去拼团")])],1)})),1):t._e()],1):t._e(),3==t.type?s("v-uni-view",{staticClass:"rd-24rpx bg--w111-fff mt-20 pt-32 pl-24 pr-24 pb-32"},[s("v-uni-view",{staticClass:"flex-between-center"},[s("v-uni-text",{staticClass:"fs-30 fw-500 lh-42rpx"},[t._v("拼团玩法")])],1),s("v-uni-view",{staticClass:"flex-between-center mt-38 px-28"},[s("v-uni-view",{staticClass:"w-118 flex-col flex-center"},[s("v-uni-view",{staticClass:"w-80 h-80 rd-50-p111- bg-primary-light flex-center mb-24"},[s("v-uni-text",{staticClass:"iconfont icon-ic_user fs-44 text-red"})],1),s("v-uni-text",{staticClass:"fs-26 lh-36rpx"},[t._v("开团/参团")])],1),s("v-uni-image",{staticClass:"dot-line",attrs:{src:i("1d163")}}),s("v-uni-view",{staticClass:"w-118 flex-col flex-center"},[s("v-uni-view",{staticClass:"w-80 h-80 rd-50-p111- bg-primary-light flex-center mb-24"},[s("v-uni-text",{staticClass:"iconfont icon-ic_invite fs-44 text-red"})],1),s("v-uni-text",{staticClass:"fs-26 lh-36rpx"},[t._v("邀请好友")])],1),s("v-uni-image",{staticClass:"dot-line",attrs:{src:i("1d163")}}),s("v-uni-view",{staticClass:"w-118 flex-col flex-center"},[s("v-uni-view",{staticClass:"w-80 h-80 rd-50-p111- bg-primary-light flex-center mb-24"},[s("v-uni-text",{staticClass:"iconfont icon-ic_box fs-44 text-red"})],1),s("v-uni-text",{staticClass:"fs-26 lh-36rpx"},[t._v("满员发货")])],1)],1)],1):t._e(),t.replyCount?s("v-uni-view",{staticClass:"rd-24rpx bg--w111-fff mt-20 py-32",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(1,"/pages/goods/goods_comment_list/index?product_id="+t.storeInfo.product_id)}}},[s("v-uni-view",{staticClass:"px-20 flex-between-center"},[s("v-uni-view",[s("v-uni-text",{staticClass:"text--w111-333 fs-30 fw-500"},[t._v("评价")]),s("v-uni-text",{staticClass:"fs-24 text--w111-666 pl-8"},[t._v("("+t._s(t.replyCount)+")")])],1),s("v-uni-view",{staticClass:"flex-y-center"},[s("v-uni-text",{staticClass:"fs-28 text-red"},[t._v(t._s(t.replyChance)+"%")]),s("v-uni-text",{staticClass:"fs-24 text--w111-999 pr-12"},[t._v("好评率")]),s("v-uni-text",{staticClass:"iconfont icon-ic_rightarrow fs-24 text--w111-666"})],1)],1),t.replyCount?[s("userEvaluation",{attrs:{reply:t.reply,fromTo:1},on:{changeLogin:function(e){arguments[0]=e=t.$handleEvent(e),t.changeLogin.apply(void 0,arguments)}}})]:t._e()],2):t._e(),s("v-uni-view",{staticClass:"page_footer bg--w111-fff-s111-80 w-full z-99 fixed-lb pb-safe"},[s("v-uni-view",{staticClass:"w-full h-104 pl-32 pr-20 flex"},[s("v-uni-view",{staticClass:"flex"},[t.diyProduct.menuList.includes(0)?s("v-uni-view",{staticClass:"flex-col flex-center mr-38",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(2,"/pages/index/index")}}},[s("v-uni-text",{staticClass:"iconfont icon-ic_mall fs-40"}),s("v-uni-text",{staticClass:"fs-18"},[t._v("首页")])],1):t._e(),t.diyProduct.menuList.includes(1)?s("v-uni-view",{staticClass:"flex-col flex-center mr-38",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listenerActionSheet.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"iconfont icon-ic_transmit1 fs-40"}),s("v-uni-text",{staticClass:"fs-18"},[t._v("分享")])],1):t._e(),t.diyProduct.menuList.includes(2)?s("v-uni-view",{staticClass:"flex-col flex-center mr-38",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goGoodCall.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"iconfont icon-ic_customerservice fs-40"}),s("v-uni-text",{staticClass:"fs-18"},[t._v("客服")])],1):t._e(),t.diyProduct.menuList.includes(3)?s("v-uni-view",{staticClass:"flex-col flex-center mr-38",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setCollect.apply(void 0,arguments)}}},[s("v-uni-text",{staticClass:"iconfont fs-40",class:t.storeInfo.userCollect?"icon-ic_star1":"icon-ic_star"}),s("v-uni-text",{staticClass:"fs-18"},[t._v("收藏")])],1):t._e(),t.diyProduct.menuList.includes(4)?s("v-uni-view",{staticClass:"flex-col flex-center mr-38",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage(2,"/pages/order_addcart/order_addcart")}}},[s("v-uni-text",{staticClass:"iconfont icon-ic_ShoppingCart fs-40"}),s("v-uni-text",{staticClass:"fs-18 white-nowrap"},[t._v("购物车")])],1):t._e()],1),1==t.type?s("v-uni-view",{staticClass:"flex-1 grid-column-2 self-center grid-gap-16rpx"},[s("v-uni-view",{staticClass:"h-72 flex-center join_cart rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAlone.apply(void 0,arguments)}}},[t._v("单独购买")]),1==t.status&&t.attribute.productSelect.quota>0&&t.attribute.productSelect.product_stock>0?s("v-uni-view",{staticClass:"h-72 flex-center bg-red rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCat.apply(void 0,arguments)}}},[t._v("立即购买")]):t._e(),[1,3].includes(t.status)&&t.attribute.productSelect.quota<=0||t.attribute.productSelect.product_stock<=0?s("v-uni-view",{staticClass:"h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v("已售罄")]):t._e(),[0,2].includes(t.status)?s("v-uni-view",{staticClass:"h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v(t._s(2==t.status?"未开始":"已结束"))]):t._e()],1):t._e(),3==t.type?s("v-uni-view",{staticClass:"flex-1 grid-column-2 self-center grid-gap-16rpx"},[s("v-uni-view",{staticClass:"h-72 flex-center join_cart rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAlone.apply(void 0,arguments)}}},[t._v("单独购买")]),t.attribute.productSelect.quota>0&&t.attribute.productSelect.product_stock>0?s("v-uni-view",{staticClass:"h-72 flex-center bg-red rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCat.apply(void 0,arguments)}}},[t._v("立即开团")]):t._e(),t.attribute.productSelect.quota<=0||t.attribute.productSelect.product_stock<=0?s("v-uni-view",{staticClass:"h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v("已售罄")]):t._e()],1):t._e(),4==t.type?s("v-uni-view",{staticClass:"flex-between-center flex-1"},[t.attribute.productSelect.quota>0&&t.attribute.productSelect.product_stock>0?s("v-uni-view",{staticClass:"w-460 h-72 flex-center bg-red rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCat.apply(void 0,arguments)}}},[t._v("立即兑换")]):s("v-uni-view",{staticClass:"w-460 h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v("已售罄")])],1):t._e(),6==t.type?s("v-uni-view",{staticClass:"flex-between-center flex-1"},[[1,3].includes(t.storeInfo.presale_pay_status)?s("v-uni-view",{staticClass:"w-full h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v(t._s(1===t.storeInfo.presale_pay_status?"未开始":"已结束"))]):t.attribute.productSelect.stock>0?s("v-uni-view",{staticClass:"w-full h-72 flex-center bg-red rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCat.apply(void 0,arguments)}}},[t._v("立即购买")]):s("v-uni-view",{staticClass:"w-full h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v("已售罄")])],1):t._e(),7==t.type?s("v-uni-view",{staticClass:"flex-between-center flex-1"},[t.attribute.productSelect.product_stock>0?s("v-uni-view",{staticClass:"w-460 h-72 flex-center bg-red rd-36px text--w111-fff fs-26",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCat.apply(void 0,arguments)}}},[t._v("立即购买")]):s("v-uni-view",{staticClass:"w-460 h-72 flex-center bg-hui rd-36px text--w111-fff fs-26"},[t._v("已售罄")])],1):t._e()],1)],1),s("v-uni-view",{staticClass:"rd-24rpx bg--w111-fff mt-20",attrs:{id:"past3"}},[s("v-uni-view",{staticClass:"fs-30 lh-40rpx fw-500 flex-center py-32"},[t._v("商品详情")]),s("v-uni-view",{staticClass:"conter"},[s("v-uni-view",{domProps:{innerHTML:t._s(t.storeInfo.description)}})],1)],1),s("v-uni-view",{staticClass:"pb-safe h-200"}),s("product-window",{attrs:{attr:t.attribute,limitNum:1,cusPreviewImg:1,isExtends:!0,type:t.type},on:{myevent:function(e){arguments[0]=e=t.$handleEvent(e),t.onMyEvent.apply(void 0,arguments)},ChangeAttr:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeAttr.apply(void 0,arguments)},ChangeCartNum:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeCartNum.apply(void 0,arguments)},attrVal:function(e){arguments[0]=e=t.$handleEvent(e),t.attrVal.apply(void 0,arguments)},iptCartNum:function(e){arguments[0]=e=t.$handleEvent(e),t.iptCartNum.apply(void 0,arguments)},getImg:function(e){arguments[0]=e=t.$handleEvent(e),t.showImg.apply(void 0,arguments)},onConfirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}),s("cusPreviewImg",{ref:"cusPreviewImg",attrs:{list:t.skuArr},on:{changeSwitch:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwitch.apply(void 0,arguments)}}}),s("zb-code",{ref:"qrcode",attrs:{show:t.codeShow,cid:t.cid,val:t.codeVal,size:t.size,unit:t.unit,background:t.background,foreground:t.foreground,pdground:t.pdground,icon:t.codeIcon,iconSize:t.iconsize,onval:t.onval,loadMake:t.loadMake},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.qrR.apply(void 0,arguments)}}}),s("v-uni-view",{staticClass:"generate-posters",class:t.posters?"on":""},[s("v-uni-view",{staticClass:"generateCon acea-row row-middle"},[!0===t.weixinStatus?s("v-uni-button",{staticClass:"item",attrs:{"hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.H5ShareBox=!0}}},[s("v-uni-view",{staticClass:"pictrue"},[s("v-uni-image",{attrs:{src:i("02b5")}})],1),s("v-uni-view",{},[t._v("分享给好友")])],1):t._e(),s("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getpreviewImage.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"pictrue"},[s("v-uni-image",{attrs:{src:i("0645")}})],1),s("v-uni-view",{},[t._v("预览发图")])],1)],1),s("v-uni-view",{staticClass:"generateClose flex-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.posterImageClose.apply(void 0,arguments)}}},[t._v("取消")])],1),t.posters&&!t.posterImageStatus?s("div",{staticClass:"fixed-center"},[s("v-uni-image",{staticClass:"poster-loading",attrs:{src:t.imgHost+"/statics/images/poster_loading.png",mode:"widthFix"}})],1):t._e(),t.posterImageStatus||t.posters?s("v-uni-view",{staticClass:"poster-mask"}):t._e(),t.posterImageStatus?s("v-uni-view",{staticClass:"poster-pop"},[s("v-uni-image",{attrs:{src:t.posterImage}})],1):t._e(),t.canvasStatus?s("v-uni-canvas",{staticClass:"canvas",attrs:{"canvas-id":"myCanvas"}}):t._e(),t.H5ShareBox?s("v-uni-view",{staticClass:"share-box"},[s("v-uni-image",{attrs:{src:t.imgHost+"/statics/images/share-info.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.H5ShareBox=!1}}})],1):t._e()],1)],1)],1)],1),s("base-drawer",{attrs:{mode:"bottom",visible:t.showServiceDrawer,"background-color":"transparent",mask:!0,maskClosable:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),function(){t.showServiceDrawer=!1}.apply(void 0,arguments)}}},[s("v-uni-view",{staticClass:"w-full bg--w111-fff rd-t-40rpx py-32"},[s("v-uni-view",{staticClass:"text-center fs-32 text--w111-333 fw-500"},[t._v("服务")]),s("v-uni-view",{staticClass:"mt-64 px-32"},t._l(t.storeInfo.ensure,(function(e,i){return s("v-uni-view",{key:i,staticClass:"mb-38"},[s("v-uni-view",{staticClass:"flex-y-center"},[s("v-uni-image",{staticClass:"w-34 h-34",attrs:{src:e.image}}),s("v-uni-text",{staticClass:"pl-12 text--w111-333 fs-28 fw-500"},[t._v(t._s(e.name))])],1),s("v-uni-view",{staticClass:"mt-6 pl-40 fs-22 text--w111-999"},[t._v(t._s(e.desc))])],1)})),1),s("v-uni-view",{staticClass:"mx-20 pb-safe"},[s("v-uni-view",{staticClass:"mt-52 h-72 flex-center rd-36px bg-red fs-26 text--w111-fff",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showServiceDrawer=!1}}},[t._v("确定")])],1)],1)],1)],1)},n=[]},"4c0e":function(t,e,i){"use strict";var s=i("8c04"),a=i.n(s);a.a},"664f":function(t,e,i){"use strict";(function(t){i("6a54");var s=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("bf0f"),i("2797"),i("aa9c"),i("64aa"),i("22b6"),i("c223"),i("c9b5"),i("ab80"),i("5ef2"),i("5c47"),i("a1c1");var a=s(i("2634")),n=s(i("2fdc")),o=s(i("9b1b")),r=s(i("4d7f")),c=i("8f59"),l=i("b0fe"),u=i("0f73"),d=s(i("6508")),f=s(i("bae9")),p=s(i("9d0f")),v=s(i("d448")),h=s(i("9bf0")),w=s(i("7052")),g=s(i("1706")),b=s(i("af01")),m=s(i("d294")),x=i("5088"),_=(i("c4d7"),i("92f9")),C=i("4d38"),y=i("2c18"),k=s(i("89cc")),S=getApp(),I=uni.getWindowInfo().statusBarHeight,$={computed:(0,o.default)({infoCardBg:function(){return 1==this.type?"url("+this.imgHost+"/statics/images/product/seckill_background.png)":3==this.type?"url("+this.imgHost+"/statics/images/product/pink_background.png)":6==this.type?"url("+this.imgHost+"/statics/images/product/presell_background.png)":void 0},navBarStyle:function(){return{background:this.pageScrollStatus?"#fff":"transparent",paddingTop:2*this.sysHeight+"rpx"}}},(0,c.mapGetters)(["isLogin","diyProduct"])),mixins:[k.default],data:function(){return{showSkeleton:!0,isNodes:0,dataShow:0,id:0,time:0,countDownHour:"00",countDownMinute:"00",countDownSecond:"00",storeInfo:{brand_name:""},attribute:{cartAttr:!1,productAttr:[],productSelect:{}},productValue:[],isOpen:!1,attr:"请选择",attrValue:"",status:1,isAuto:!1,isShowAuth:!1,iShidden:!1,limitNum:1,iSplus:!1,replyCount:0,reply:[],replyChance:0,navH:"",opacity:0,scrollY:0,topArr:[],toView:"",height:0,heightArr:[],lock:!1,scrollTop:0,datatime:0,navActive:0,posters:!1,weixinStatus:!1,posterImageStatus:!1,canvasStatus:!1,storeImage:"",PromotionCode:"",posterImage:"",actionSheetHidden:!1,cart_num:"",homeTop:20,returnShow:!0,H5ShareBox:!1,routineContact:0,siteName:"",themeColor:"#e93323",fontColor:"#e93323",skuArr:[],codeShow:!1,cid:"1",codeVal:"",size:200,unit:"upx",background:"#FFF",foreground:"#000",pdground:"#000",codeIcon:"",iconsize:40,lv:3,onval:!0,loadMake:!0,shareQrcode:0,followCode:"",selectSku:{},currentPage:!1,sysHeight:I,imgHost:C.HTTP_REQUEST_URL,posterTitle:"",good_list:[],pageScrollStatus:!1,showServiceDrawer:!1,time_id:"",type:"",itemNew:[],pink_ok_sum:0,pink:[],promotions_type:0,isSwiper:!0,productSwiper:[],productVideoLink:"",isDown:!1,showSkuBox:!1,swiperCurrent:0,attrPicIndex:0}},components:{zbCode:r.default,productConSwiper:d.default,productWindow:f.default,userEvaluation:p.default,kefuIcon:v.default,cusPreviewImg:h.default,countDown:g.default,homeList:w.default,baseDrawer:b.default,"jyf-parser":m.default},onLoad:function(t){t.id&&(this.id=t.id,t.spid&&(S.globalData.spid=t.spid)),t.type&&!t.scene&&(this.type=t.type),this.time_id=t.time_id?t.time_id:"",this.promotions_type=t.promotions_type||0,this.getActivityDetail(),this.$nextTick((function(){}))},onReady:function(){this.isNodes++;var t=this.isLogin?this.$store.state.app.uid:"";this.codeVal=window.location.origin+"/pages/activity/goods_details/index?id="+this.id+"&spid="+t+"&type="+this.type},onShow:function(){uni.removeStorageSync("form_type_cart")},methods:{changeLogin:function(){(0,x.toLogin)()},moreNav:function(){this.currentPage=!this.currentPage},showImg:function(t){this.$refs.cusPreviewImg.open(this.attrValue)},changeSwitch:function(t){var e=this,i=this.skuArr[t];this.$set(this,"selectSku",i);var s=i.suk.split(",");s.forEach((function(t,i){e.$set(e.attribute.productAttr[i],"index",s[i])})),i&&(this.$set(this.attribute.productSelect,"image",i.image),this.$set(this.attribute.productSelect,"price",i.price),this.$set(this.attribute.productSelect,"stock",i.stock),this.$set(this.attribute.productSelect,"unique",i.unique),this.$set(this.attribute.productSelect,"cart_num",1),this.$set(this.attribute.productSelect,"quota",i.quota),this.$set(this.attribute.productSelect,"quota_show",i.quota_show),this.$set(this,"attrValue",i.suk),this.attrTxt="已选择",this.attrPicIndex=t)},qrR:function(t){this.$wechat.isWeixin()&&"1"==this.shareQrcode||(this.PromotionCode=t,this.followCode="")},getpreviewImage:function(){if(this.posterImage){var t=[];t.push(this.posterImage),uni.previewImage({urls:t,current:this.posterImage})}else his.$util.Tips({title:"您的海报尚未生成"})},iptCartNum:function(t){this.$set(this.attribute.productSelect,"cart_num",t),this.$set(this,"cart_num",t)},getActivityDetail:function(){var t=this,e=this,i="";1==e.type?i=(0,l.getSeckillDetail)(e.id,{time_id:e.time_id}):3==e.type?i=(0,l.getCombinationDetail)(e.id):4==e.type?i=(0,l.getIntegralProductDetail)(e.id):6==e.type?i=(0,u.getProductDetail)(e.id):7==e.type&&(i=(0,u.newcomerDetail)(e.id)),i.then((function(i){t.dataShow=1,t.storeInfo=i.data.storeInfo,t.$set(t,"productSwiper",i.data.storeInfo.slider_image||i.data.storeInfo.images),t.$set(t,"productVideoLink",i.data.storeInfo.video_link),t.posterTitle=i.data.product_poster_title,1==t.type?(t.datatime=Number(i.data.storeInfo.last_time),t.status=i.data.storeInfo.status):3==t.type&&(t.itemNew=i.data.pink_ok_list,t.pink_ok_sum=i.data.pink_ok_sum,t.pink=i.data.pink),t.attribute.productAttr=i.data.productAttr,t.productValue=i.data.productValue,t.skuArr=Object.values(i.data.productValue),t.selectSku=e.skuArr[0],t.attribute.productSelect.num=i.data.storeInfo.num||0,t.attribute.productSelect.once_num=i.data.storeInfo.once_num||0,t.replyCount=i.data.replyCount,t.reply=i.data.reply,t.replyChance=i.data.replyChance,t.shareQrcode=i.data.share_qrcode,e.routineContact=Number(i.data.routine_contact_type),e.siteName=i.data.site_name,e.storeImage=e.storeInfo.image,t.$wechat.isWeixin()&&"1"==t.shareQrcode&&e.downloadFilePromotionCode(),e.setShare(),t.isLogin,e.DefaultSelect(),e.preloadImage(),1==t.type?S.globalData.openPages="/pages/activity/goods_details/index?id=".concat(t.id,"&type=1&time_id=").concat(t.time_id,"&spid=").concat(t.storeInfo.uid):S.globalData.openPages="/pages/activity/goods_details/index?id=".concat(t.id,"&type=").concat(t.type),e.showSkeleton=!1})).catch((function(t){e.$util.Tips({title:t},{tab:3})}))},preloadImage:function(){uni.downloadFile({url:this.imgHost+"/statics/images/poster_loading.png",success:function(t){t.tempFilePath}})},setShare:function(){this.$wechat.isWeixin()&&this.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData","onMenuShareAppMessage","onMenuShareTimeline"],{desc:this.storeInfo.info,title:this.storeInfo.title,link:location.href,imgUrl:this.storeInfo.image}).then((function(t){})).catch((function(t){}))},DefaultSelect:function(){var t=this.attribute.productAttr,e=[];if(6==this.type||7==this.type){for(var i in this.productValue)if(this.productValue[i].stock>0){e=this.attribute.productAttr.length?i.split(","):[];break}}else for(var i in this.productValue)if(this.productValue[i].quota>0){e=this.attribute.productAttr.length?i.split(","):[];break}for(var s=0;s<t.length;s++)this.$set(t[s],"index",e[s]);var a=this.productValue[e.join(",")];this.$set(this.attribute.productSelect,"store_name",this.storeInfo.title),a&&t.length?(this.$set(this.attribute.productSelect,"image",a.image),this.$set(this.attribute.productSelect,"price",a.price),this.$set(this.attribute.productSelect,"stock",a.stock),this.$set(this.attribute.productSelect,"unique",a.unique),this.$set(this.attribute.productSelect,"quota",a.quota),this.$set(this.attribute.productSelect,"quota_show",a.quota_show),this.$set(this.attribute.productSelect,"product_stock",a.product_stock),this.$set(this.attribute.productSelect,"cart_num",1),4==this.type&&this.$set(this.attribute.productSelect,"integral",a.integral),this.$set(this,"attrValue",e.join(",")),this.attrValue=e.join(",")):!a&&t.length?(this.$set(this.attribute.productSelect,"image",this.storeInfo.image),this.$set(this.attribute.productSelect,"price",this.storeInfo.price),this.$set(this.attribute.productSelect,"quota",0),this.$set(this.attribute.productSelect,"quota_show",0),this.$set(this.attribute.productSelect,"product_stock",0),this.$set(this.attribute.productSelect,"stock",0),this.$set(this.attribute.productSelect,"unique",""),this.$set(this.attribute.productSelect,"cart_num",0),4==this.type&&this.$set(this.attribute.productSelect,"integral",this.storeInfo.integral),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择")):a||t.length||(this.$set(this.attribute.productSelect,"image",this.storeInfo.image),this.$set(this.attribute.productSelect,"price",this.storeInfo.price),this.$set(this.attribute.productSelect,"stock",this.storeInfo.stock),this.$set(this.attribute.productSelect,"quota",this.storeInfo.quota||0),this.$set(this.attribute.productSelect,"product_stock",this.storeInfo.product_stock),this.$set(this.attribute.productSelect,"unique",this.storeInfo.unique||""),this.$set(this.attribute.productSelect,"cart_num",1),4==this.type&&this.$set(this.attribute.productSelect,"integral",this.storeInfo.integral),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},selecAttr:function(){this.currentPage=!1,this.attribute.cartAttr=!0},onMyEvent:function(){this.$set(this.attribute,"cartAttr",!1),this.$set(this,"isOpen",!1)},ChangeCartNum:function(t){t?this.attribute.productSelect.cart_num++:this.attribute.productSelect.cart_num--},attrPicIndexs:function(t){this.attrPicIndex=t},selectSwiper:function(){this.attrPicIndex=0,this.isSwiper=!0,this.changeSwitch(0),this.$set(this,"productSwiper",this.storeInfo.slider_image||this.storeInfo.images),this.$set(this,"productVideoLink",this.storeInfo.video_link),this.showSkuBox=!1},changeAttrPic:function(t){var e=[];this.skuArr.forEach((function(t){e.push(t.image)})),this.isSwiper=!1,this.changeSwitch(t),this.$set(this,"productVideoLink",""),this.$set(this,"productSwiper",e),this.showSkuBox=!0,this.scrollToView=48*(t-2)},attrVal:function(t){this.attribute.productAttr[t.indexw].index=this.attribute.productAttr[t.indexw].attr_values[t.indexn]},onConfirm:function(){this.$set(this.attribute,"cartAttr",!1),this.isOpen=!0,"cart"==this.cartType?this.goCat(void 0,"cart"):this.goCat(!0,"buy")},ChangeAttr:function(t){this.$set(this,"cart_num",1);var e=this.productValue[t];this.$set(this,"selectSku",e),e?(this.$set(this.attribute.productSelect,"image",e.image),this.$set(this.attribute.productSelect,"price",e.price),this.$set(this.attribute.productSelect,"stock",e.stock),this.$set(this.attribute.productSelect,"unique",e.unique),this.$set(this.attribute.productSelect,"cart_num",1),this.$set(this.attribute.productSelect,"quota",e.quota),this.$set(this.attribute.productSelect,"quota_show",e.quota_show),this.$set(this,"attrValue",t),4==this.type&&this.$set(this.attribute.productSelect,"integral",e.integral),this.attrTxt="已选择"):(this.$set(this.attribute.productSelect,"image",this.storeInfo.image),this.$set(this.attribute.productSelect,"price",this.storeInfo.price),this.$set(this.attribute.productSelect,"stock",0),this.$set(this.attribute.productSelect,"unique",""),this.$set(this.attribute.productSelect,"cart_num",0),this.$set(this.attribute.productSelect,"quota",0),this.$set(this.attribute.productSelect,"quota_show",0),4==this.type&&this.$set(this.attribute.productSelect,"integral",this.storeInfo.integral),this.$set(this,"attrValue",""),this.attrTxt="已选择")},setCollect:(0,y.Debounce)((function(){if(!1===this.isLogin)(0,x.toLogin)();else{var t=this;this.storeInfo.userCollect?(0,u.collectDel)(6==this.type?this.id:this.storeInfo.product_id).then((function(e){return t.$set(t.storeInfo,"userCollect",!t.storeInfo.userCollect),t.$util.Tips({title:e.msg})})):(0,u.collectAdd)(6==this.type?this.id:this.storeInfo.product_id).then((function(e){return t.$set(t.storeInfo,"userCollect",!t.storeInfo.userCollect),t.$util.Tips({title:e.msg})}))}})),openAlone:(0,y.Debounce)((function(){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(this.storeInfo.product_id)})})),goCat:function(){var t=this;if(this.isLogin){this.currentPage=!1;var e=this.productValue[this.attrValue];if(this.isOpen?this.attribute.cartAttr=!0:this.attribute.cartAttr=!this.attribute.cartAttr,!0===this.attribute.cartAttr&&0==this.isOpen)return this.isOpen=!0;if(this.attribute.productAttr.length&&void 0===e&&1==this.isOpen)return S.$util.Tips({title:"请选择属性"});(0,u.postCartAdd)({productId:6==this.type?this.id:this.storeInfo.product_id,secKillId:1==this.type?this.id:"",combinationId:3==this.type?this.id:"",storeIntegralId:4==this.type?this.id:"",newcomerId:7==this.type?this.id:"",cartNum:this.attribute.productSelect.cart_num,uniqueId:void 0!==e?e.unique:"",new:1}).then((function(e){t.isOpen=!1,uni.navigateTo({url:"/pages/goods/order_confirm/index?new=1&cartId="+e.data.cartId})})).catch((function(e){return t.$util.Tips({title:e})}))}else(0,x.toLogin)()},listenerActionSheet:function(){if(this.currentPage=!1,!1===this.isLogin)return this.$util.Tips({title:"未登录，请登录后再获取海报"});!0===this.$wechat.isWeixin()&&(this.weixinStatus=!0),this.posters=!0,this.goPoster()},listenerActionClose:function(){this.posters=!1},posterImageClose:function(){this.posterImageStatus=!1,this.posters=!1},setDomain:function(t){return t=t?t.toString():"",t.indexOf("https://")>-1?t:t.replace("http://","https://")},downloadFilestoreImage:function(){var t=this;uni.downloadFile({url:t.setDomain(t.storeInfo.image),success:function(e){t.storeImage=e.tempFilePath},fail:function(){return t.$util.Tips({title:""})}})},downloadFilePromotionCode:function(t){var e=this,i={};1==this.type&&(i={time:this.datatime,status:this.status}),(0,l.activityCodeApi)(this.type,this.id,i).then((function(i){uni.downloadFile({url:e.setDomain(i.data.wechatUrl?i.data.wechatUrl:""),success:function(i){e.$set(e,"isDown",!1),"function"==typeof t?t&&t(i.tempFilePath):e.$set(e,"PromotionCode",i.tempFilePath)},fail:function(){e.$set(e,"isDown",!1),e.$set(e,"PromotionCode","")}})})).catch((function(t){e.$set(e,"isDown",!1),e.$set(e,"PromotionCode","")}))},downloadFileImage:function(t){var e=this;return t=this.setDomain(t),new Promise((function(i,s){var a=e;uni.downloadFile({url:t,success:function(t){i(t.tempFilePath)},fail:function(t){return a.$util.Tips({title:t.errMsg})}})}))},goPoster:function(){var t=this;return(0,n.default)((0,a.default)().mark((function e(){var i,s,n,o;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,i.$set(i,"canvasStatus",!0),e.next=4,t.downloadFileImage(t.storeInfo.image);case 4:return s=e.sent,e.next=7,t.downloadFileImage(t.imgHost+"/statics/images/product/posterbackgd.png");case 7:if(n=e.sent,o=[n,s,i.PromotionCode],!i.isDown){e.next=11;break}return e.abrupt("return",i.$util.Tips({title:"正在下载海报,请稍后再试！"},(function(){i.posters=!1})));case 11:uni.getImageInfo({src:i.PromotionCode,success:function(){var t=6==i.type||7==i.type?i.storeInfo.store_name:i.storeInfo.title;""==o[2]?i.downloadFilePromotionCode((function(e){if(o[2]=e,""==o[2])return i.$util.Tips({title:"海报二维码生成失败！"});i.$nextTick((function(){setTimeout((function(){i.$util.PosterCanvas(i.fontColor,i.themeColor,i.siteName,o,t,i.storeInfo.price,i.storeInfo.ot_price||i.storeInfo.product_price,i.posterTitle,(function(t){i.$set(i,"posterImage",t),i.$set(i,"posterImageStatus",!0),i.$set(i,"canvasStatus",!1),i.$set(i,"actionSheetHidden",!i.actionSheetHidden)}))}),1e3)}))})):i.$nextTick((function(){setTimeout((function(){i.$util.PosterCanvas(i.fontColor,i.themeColor,i.siteName,o,t,i.storeInfo.price,i.storeInfo.ot_price||i.storeInfo.product_price,i.posterTitle,(function(t){i.$set(i,"posterImage",t),i.$set(i,"posterImageStatus",!0),i.$set(i,"canvasStatus",!1),i.$set(i,"actionSheetHidden",!i.actionSheetHidden)}))}),1e3)}))}});case 12:case"end":return e.stop()}}),e)})))()},setShareInfoStatus:function(){var t=this,e=this.storeInfo,i=location.href;this.$wechat.isWeixin()&&(this.posters=!0,(0,_.getUserInfo)().then((function(s){i=-1===i.indexOf("?")?i+"?spid="+s.data.uid:i+"&spid="+s.data.uid;var a={desc:e.store_info,title:e.store_name,link:i,imgUrl:e.image};t.$wechat.wechatEvevt(["updateAppMessageShareData","updateTimelineShareData"],a)})))},goPage:function(t,e){1==t?uni.navigateTo({url:e}):2==t?uni.switchTab({url:e}):3==t&&uni.navigateBack()},backTap:function(){var t=getCurrentPages();t.length>1?uni.navigateBack():uni.switchTab({url:"/pages/index/index"})},spellBnt:function(t){this.isLogin?uni.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+t.id}):(0,x.toLogin)()},goGoodCall:function(){var t=this;(0,_.getUserInfo)().then((function(e){var i=e.data,s="/pages/extension/customer_list/chat?productId=".concat(t.storeInfo.product_id),a={store_name:t.storeInfo.store_name,path:"/pages/activity/goods_details/index?id=".concat(t.storeInfo.id,"&type=").concat(t.type),image:t.storeInfo.image};t.$util.getCustomer(i,s,a,1)}))}},onPageScroll:function(t){this.$set(this,"currentPage",!1),t.scrollTop>340?this.pageScrollStatus=!0:t.scrollTop<340&&(this.pageScrollStatus=!1)}};e.default=$}).call(this,i("ba7c")["default"])},8587:function(t,e,i){"use strict";i.r(e);var s=i("664f"),a=i.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=a.a},"8c04":function(t,e,i){var s=i("1d8f");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("967d").default;a("4fb1d51c",s,!0,{sourceMap:!1,shadowMode:!1})},eba2:function(t,e,i){"use strict";i.r(e);var s=i("2a65"),a=i("8587");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("4c0e");var o=i("828b"),r=Object(o["a"])(a["default"],s["b"],s["c"],!1,null,"4ebffbd2",null,!1,s["a"],void 0);e["default"]=r.exports}}]);