(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27ba4497","chunk-5eae95ec"],{"0672":function(t,e,r){},"0b65":function(t,e,r){"use strict";e.a={shortcuts:[{text:"今天",value:function(){var t=new Date,e=new Date;return e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[e,t]}},{text:"昨天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),[e,t]}},{text:"最近7天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[e,t]}},{text:"最近30天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[e,t]}},{text:"上月",value:function(){var t=new Date,e=new Date,r=new Date(e.getFullYear(),e.getMonth(),0).getDate();return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,r))),[e,t]}},{text:"本月",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[e,t]}},{text:"本年",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),0,1))),[e,t]}}]}},"0fc4":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i}));var n=r("b6bd");function a(){return Object(n.a)({url:"erp/config",method:"get"})}function i(t){return Object(n.a)({url:"product/import_erp_product",method:"post",data:t})}},3353:function(t,e,r){"use strict";r.r(e);var n=r("2f62"),a=r("f8b7"),i=r("0fc4"),o=r("31b4"),s=r("fc48"),c=r("61f8"),u=r("417c"),l=r("0b65");function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),s=new T(n||[]);return a(o,"_invoke",{value:$(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function _(){}function b(){}function w(){}var D={};u(D,o,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(E([])));k&&k!==r&&n.call(k,o)&&(D=k);var C=w.prototype=_.prototype=Object.create(D);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,i,o,s){var c=p(t[a],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==d(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return i=i?i.then(a,a):a()}})}function $(e,r,n){var a=h;return function(i,o){if(a===g)throw Error("Generator is already running");if(a===v){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var u=p(e,r,n);if("normal"===u.type){if(a=n.done?v:m,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=p(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(d(e)+" is not iterable")}return b.prototype=w,a(C,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},x(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new j(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(C),u(C,c,"Generator"),u(C,o,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function p(t,e,r,n,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){p(i,n,a,o,s,"next",t)}function s(t){p(i,n,a,o,s,"throw",t)}o(void 0)}))}}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y={components:{editFrom:o.a,detailsFrom:s.a,orderRemark:c.a,orderRecord:u.a},data:function(){return{openErp:!1,thead:[{title:"订单号",align:"center",slot:"order_id",minWidth:150},{title:"用户信息",slot:"nickname",minWidth:130},{title:"商品信息",slot:"info",minWidth:300},{title:"实际支付",key:"pay_price",minWidth:70},{title:"发起退款时间",key:"add_time",minWidth:110},{title:"售后类型",slot:"apply_type",minWidth:180},{title:"退款状态",slot:"refund_type",minWidth:180},{title:"退款信息",slot:"statusName",minWidth:100},{title:"售后备注",key:"remark",minWidth:80},{title:"操作",slot:"action",fixed:"right",minWidth:150,align:"center"}],tbody:[],num:[],orderDatalist:null,loading:!1,FromData:null,total:0,orderId:0,animal:1,pagination:{page:1,limit:15,order_id:"",time:"",refund_type:"",apply_type:"",refund_reason:""},options:l.a,timeVal:[],modal:!1,qrcode:null,name:"",spin:!1,rowActive:{},reasonList:[]}},computed:g(g({},Object(n.e)("order",["orderChartType"])),{},{labelWidth:function(){return this.isMobile?void 0:96},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getErpConfig(),this.getOrderList(),this.getReasonOption()},methods:{getErpConfig:function(){var t=this;Object(i.a)().then((function(e){t.openErp=e.data.open_erp})).catch((function(e){t.$Message.error(e.msg)}))},onchangeCode:function(t){this.animal=t,this.qrcodeShow()},onchangeTime:function(t){this.pagination.page=1,this.timeVal=t,this.pagination.time=this.timeVal[0]?this.timeVal.join("-"):""},getData:function(t,e){var r=this;Object(a.p)(t).then(function(){var t=h(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||(r.$refs.detailss.modals=!0),r.$refs.detailss.activeName="detail",r.orderDatalist=n.data;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){r.$Message.error(t.msg)}))},changeMenu:function(t,e){var r=this;switch(this.orderId=t.id,e){case"1":this.delfromData={title:"修改立即支付",url:"/order/pay_offline/".concat(t.id),method:"post",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"2":this.rowActive=t,this.getData(t.id);break;case"3":this.$refs.record.modals=!0,this.$refs.record.getList(t.store_order_id);break;case"4":this.$refs.remarks.modals=!0,this.$refs.remarks.formValidate.remark=t.remark;break;case"5":this.getRefundData(t.id);break;case"55":this.getRefundGoodsData(t.id);break;case"6":this.getRefundIntegral(t.id);break;case"7":this.getNoRefundData(t.id);break;case"8":this.delfromData={title:"修改确认收货",url:"/order/take/".concat(t.id),method:"put",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"10":this.delfromData={title:"立即打印订单",info:"您确认打印此订单吗?",url:"/order/print/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.$emit("changeGetTabs"),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"11":this.delfromData={title:"立即打印电子面单",info:"您确认打印此电子面单吗?",url:"/order/order_dump/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;default:this.delfromData={title:"删除订单",url:"/order/del/".concat(t.id),method:"DELETE",ids:""},this.delOrder(t,this.delfromData)}},getReasonOption:function(){var t=this;Object(a.X)().then((function(e){t.reasonList=e.data}))},getRefundData:function(t){var e=this;this.$modalForm(Object(a.r)(t)).then((function(){e.getOrderList(),e.getData(e.orderId,1),e.$emit("changeGetTabs")}))},getRefundGoodsData:function(t){var e=this;this.delfromData={title:"是否立即退货",url:"/supplier/refund/agree/".concat(t),method:"get"},this.$modalSure(this.delfromData).then((function(t){e.$Message.success(t.msg),e.getOrderList(),e.getData(e.orderId,1)})).catch((function(t){e.$Message.error(t.msg)}))},getRefundIntegral:function(t){var e=this;Object(a.W)(t).then(function(){var t=h(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},delOrder:function(t,e){var r=this;1===t.is_del?this.$modalSure(e).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)})):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},submitFail:function(){this.getOrderList(),this.getData(this.orderId,1)},selectChange2:function(t){this.pagination.page=1,this.pagination.refund_type=t,this.getOrderList(t)},getNoRefundData:function(t){var e=this;this.$modalForm(Object(a.s)(t)).then((function(){e.getOrderList(),e.getData(e.orderId),e.$emit("changeGetTabs")}))},getOrderList:function(){var t=this;this.loading=!0,Object(a.H)(this.pagination).then((function(e){t.loading=!1;var r=e.data,n=r.count,a=r.list,i=r.num;t.total=n,t.tbody=a,t.num=i,a.forEach((function(e){e.id==t.orderId&&(t.rowActive=e)}))})).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},pageChange:function(t){this.pagination.page=t,this.getOrderList()},nameSearch:function(){this.pagination.page=1,this.getOrderList()},orderSearch:function(){this.pagination.page=1,this.getOrderList()},delivery:function(t){var e=this;Object(a.h)(t.id).then(function(){var t=h(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))}}},_=(r("42d8"),r("2877")),b=Object(_.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:0}},[r("div",{staticClass:"new_card_pd"},[r("Form",{ref:"pagination",attrs:{inline:"",model:t.pagination,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[r("FormItem",{attrs:{label:"售后类型："}},[r("Select",{staticClass:"input-add",attrs:{clearable:""},on:{"on-change":t.orderSearch},model:{value:t.pagination.apply_type,callback:function(e){t.$set(t.pagination,"apply_type",e)},expression:"pagination.apply_type"}},[r("Option",{attrs:{value:1}},[t._v("仅退款")]),r("Option",{attrs:{value:2}},[t._v("退货退款(快递退回)")]),r("Option",{attrs:{value:3}},[t._v("退货退款(到店退货)")]),r("Option",{attrs:{value:4}},[t._v("平台退款")])],1)],1),r("FormItem",{attrs:{label:"处理状态："}},[r("Select",{staticClass:"input-add",attrs:{clearable:""},on:{"on-change":t.orderSearch},model:{value:t.pagination.refund_type,callback:function(e){t.$set(t.pagination,"refund_type",e)},expression:"pagination.refund_type"}},[r("Option",{attrs:{value:0}},[t._v("待处理")]),r("Option",{attrs:{value:1}},[t._v("仅退款")]),r("Option",{attrs:{value:2}},[t._v("退货退款")]),r("Option",{attrs:{value:3}},[t._v("拒绝退款")]),r("Option",{attrs:{value:4}},[t._v("同意退货")]),r("Option",{attrs:{value:5}},[t._v("已退货")]),r("Option",{attrs:{value:6}},[t._v("已退款")])],1)],1),r("FormItem",{attrs:{label:"售后原因："}},[r("Select",{staticClass:"input-add",attrs:{clearable:""},on:{"on-change":t.orderSearch},model:{value:t.pagination.refund_reason,callback:function(e){t.$set(t.pagination,"refund_reason",e)},expression:"pagination.refund_reason"}},t._l(t.reasonList,(function(e,n){return r("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),r("FormItem",{attrs:{label:"退款时间："}},[r("DatePicker",{staticClass:"input-add",attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"自定义时间",options:t.options},on:{"on-change":t.onchangeTime}})],1),r("FormItem",{attrs:{label:"订单号：","label-for":"title"}},[r("Input",{staticClass:"input-add mr14",attrs:{placeholder:"请输入订单号",clearable:""},model:{value:t.pagination.order_id,callback:function(e){t.$set(t.pagination,"order_id",e)},expression:"pagination.order_id"}}),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.orderSearch()}}},[t._v("查询")])],1)],1)],1)]),r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[r("Table",{ref:"table",attrs:{columns:t.thead,data:t.tbody,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"order_id",fn:function(e){var n=e.row;return[r("span",{staticStyle:{display:"block"},domProps:{textContent:t._s(n.order_id)}}),r("span",{directives:[{name:"show",rawName:"v-show",value:1===n.is_del&&null==n.delete_time,expression:"row.is_del === 1 && row.delete_time == null"}],staticClass:"span-del"},[t._v("用户已删除")])]}},{key:"nickname",fn:function(e){var n=e.row;return[r("div",[t._v(t._s(n.nickname)),null!=n.delete_time?r("span",{staticStyle:{color:"#ed4014"}},[t._v(" (已注销)")]):t._e()])]}},{key:"user",fn:function(e){var n=e.row;return[r("div",[t._v("用户名："+t._s(n.nickname))]),r("div",[t._v("用户ID："+t._s(n.uid))])]}},{key:"apply_type",fn:function(e){var n=e.row;return[1==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("仅退款")]):t._e(),2==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货退款(快递退回)")]):t._e(),3==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货退款(到店退货)")]):t._e(),4==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("平台退款")]):t._e()]}},{key:"refund_type",fn:function(e){var n=e.row;return[0==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("待处理")]):t._e(),1==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("仅退款")]):t._e(),2==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货退款")]):t._e(),3==n.refund_type?r("Tag",{attrs:{color:"red",size:"medium"}},[t._v("拒绝退款")]):t._e(),4==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("商品待退货")]):t._e(),5==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货待收货")]):t._e(),6==n.refund_type?r("Tag",{attrs:{color:"green",size:"medium"}},[t._v("已退款")]):t._e()]}},{key:"info",fn:function(e){var n=e.row;return[r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[t._l(n._info,(function(e,n){return r("div",{key:n,staticClass:"tabBox"},[r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.image:e.cart_info.productInfo.image,expression:"\n                  val.cart_info.productInfo.attrInfo\n                    ? val.cart_info.productInfo.attrInfo.image\n                    : val.cart_info.productInfo.image\n                "}]})]),r("span",{staticClass:"tabBox_tit line1"},[e.cart_info.is_gift?r("span",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),t._v("\n              "+t._s(e.cart_info.productInfo.store_name+" | ")+"\n              "+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:"")+"\n            ")])])})),r("div",{attrs:{slot:"content"},slot:"content"},t._l(n._info,(function(e,n){return r("div",{key:n},[e.cart_info.is_gift?r("p",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),r("p",[t._v(t._s(e.cart_info.productInfo.store_name))]),r("p",[t._v(" "+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),r("p",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.truePrice+" x "+e.cart_info.cart_num))])])})),0)],2)]}},{key:"statusName",fn:function(e){var n=e.row;return[r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[r("div",{staticClass:"pt5",domProps:{innerHTML:t._s(n.refund_reason)}}),r("div",{attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"pt5"},[t._v("退款原因："+t._s(n.refund_explain))]),n.refund_goods_explain?r("div",{staticClass:"pt5"},[t._v("退货原因："+t._s(n.refund_goods_explain))]):t._e()])]),n.refund_img?r("div",{staticClass:"pictrue-box"},t._l(n.refund_img||[],(function(t,e){return r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticClass:"pictrue mr10",attrs:{src:t}})])})),0):t._e()]}},{key:"action",fn:function(e){var n=e.row;return[r("a",{directives:[{name:"show",rawName:"v-show",value:(1==n.apply_type||5==n.refund_type||4==n.refund_type&&3==n.apply_type)&&![3,6].includes(n.refund_type)&&(parseFloat(n.pay_price)>parseFloat(n.refunded_price)||0==n.pay_price),expression:"\n              (row.apply_type == 1 || row.refund_type == 5 || (row.refund_type == 4 && row.apply_type == 3)) &&\n              ![3, 6].includes(row.refund_type) &&\n              (parseFloat(row.pay_price) > parseFloat(row.refunded_price) || row.pay_price == 0)\n            "}],attrs:{disabled:t.openErp},on:{click:function(e){return t.changeMenu(n,"5")}}},[t._v("立即退款")]),r("Divider",{directives:[{name:"show",rawName:"v-show",value:(1==n.apply_type||5==n.refund_type||4==n.refund_type&&3==n.apply_type)&&![3,6].includes(n.refund_type)&&(parseFloat(n.pay_price)>parseFloat(n.refunded_price)||0==n.pay_price),expression:"\n              (row.apply_type == 1 || row.refund_type == 5 || (row.refund_type == 4 && row.apply_type == 3)) &&\n              ![3, 6].includes(row.refund_type) &&\n              (parseFloat(row.pay_price) > parseFloat(row.refunded_price) || row.pay_price == 0)\n            "}],attrs:{type:"vertical"}}),r("a",{directives:[{name:"show",rawName:"v-show",value:[2,3].includes(n.apply_type)&&[0,1,2].includes(n.refund_type),expression:"\n              [2, 3].includes(row.apply_type) && [0, 1, 2].includes(row.refund_type)"}],attrs:{disabled:t.openErp},on:{click:function(e){return t.changeMenu(n,"55")}}},[t._v("同意退货")]),r("Divider",{directives:[{name:"show",rawName:"v-show",value:[2,3].includes(n.apply_type)&&[0,1,2].includes(n.refund_type),expression:"[2, 3].includes(row.apply_type) && [0, 1, 2].includes(row.refund_type)"}],attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.changeMenu(n,"2")}}},[t._v("订单详情")])]}}])}),r("div",{staticClass:"acea-row row-right page"},[r("Page",{attrs:{total:t.total,current:t.pagination.page,"show-elevator":"","show-total":"","page-size":t.pagination.limit},on:{"on-change":t.pageChange}})],1)],1),r("edit-from",{ref:"edits",attrs:{FromData:t.FromData},on:{submitFail:t.submitFail}}),r("details-from",{ref:"detailss",attrs:{orderDatalist:t.orderDatalist,orderId:t.orderId,rowActive:t.rowActive,openErp:t.openErp}}),r("order-remark",{ref:"remarks",attrs:{remarkType:"refund",orderId:t.orderId},on:{submitFail:t.submitFail}}),r("order-record",{ref:"record"})],1)}),[],!1,null,"c698856e",null);e.default=b.exports},"42d8":function(t,e,r){"use strict";var n=r("e7e6");r.n(n).a},6112:function(t,e,r){"use strict";r.r(e);var n=r("f478");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r("2f62");var s={name:"rightConfig",components:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r("2542").a),props:{name:{type:null,default:""},pageId:{type:Number,default:0}},computed:{defultArr:function(){this.$store.dispatch("admin/user/getPageName");var t=this.$store.state.admin.user.pageName;return this.$store.state.admin[t].component}},watch:{name:{handler:function(t,e){this.rCom=[];var r=this.$store.state.admin.user.pageName;if(this.configData=this.$store.state.admin[r].defaultConfig[t],this.rCom=this.$store.state.admin[r].component[t].list,this.configData.selectConfig){var n=this.configData.selectConfig.type?this.configData.selectConfig.type:"";this.configData.selectConfig.list=this.categoryList,n?this.getByCategory():this.getCategory()}},deep:!0},defultArr:{handler:function(t,e){this.rCom=[],this.objToArray(t),this.rCom=t[this.name].list},deep:!0}},data:function(){return{rCom:[],configData:{},isShow:!0,categoryList:[],status:0}},mounted:function(){this.storeStatus()},methods:{storeStatus:function(){var t=this;Object(n.A)().then((function(e){t.status=parseInt(e.data.store_status)}))},getCategory:function(){var t=this;Object(n.h)().then((function(e){var r=[];e.data.map((function(t){r.push({title:t.title,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=r,t.bus.$emit("upData",r)}))},getByCategory:function(){var t=this;Object(n.g)().then((function(e){var r=[];e.data.map((function(t){r.push({title:t.cate_name,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=r,t.bus.$emit("upData",r)}))},saveConfig:function(){var t=this,e=this.$store.state.admin.user.pageName,r=this.$store.state.admin[e].defaultConfig,a=this.$store.state.admin[e].periphery;if("z_tabBar"==this.name){if(!a||!this.status)for(var i=r.z_tabBar.tabBarList.list,o=0;o<i.length;o++)if("/pages/storeList/index"==i[o].link||"pages/storeList/index"==i[o].link)return this.$Message.error("请先开启您的周边功能(/pages/storeList/index)");if(r.z_tabBar.tabBarList.list.length<2)return this.$Message.error("您最少应添加2个导航")}Object(n.e)(this.pageId,{value:r}).then((function(e){t.$Message.success("保存成功")}))},objToArray:function(t){var e=[];for(var r in t)e.push(t[r]);return e}}},c=(r("e408"),r("2877")),u={name:"index",components:{rightConfig:Object(c.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.rCom.length?r("div",{staticClass:"right-box"},[r("div",{staticClass:"title-bar"},[t._v("模块配置")]),t.rCom.length?r("div",{staticClass:"mobile-config"},[t._l(t.rCom,(function(e,n){return r("div",{key:n},[r(e.components.name,{tag:"component",attrs:{name:e.configNme,configData:t.configData}})],1)})),t.rCom.length?r("div",{staticStyle:{"text-align":"center"}},[r("Button",{staticStyle:{width:"100%",margin:"0 auto",height:"40px"},attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存")])],1):t._e()],2):t._e()]):t._e()}),[],!1,null,"be68bd50",null).exports,links:r("2250").default},data:function(){return{configName:"",iframeUrl:"",setConfig:"",updataConfig:"",pageId:0}},created:function(){var t=this,e=this.$route.query.id,r=this.$route.query.name;this.setConfig="admin/"+r+"/setConfig",this.updataConfig="admin/"+r+"/updataConfig",this.pageId=parseInt(e),this.iframeUrl="".concat(location.origin,"?type=iframeMakkMinkkJuan"),Object(n.c)(parseInt(e)).then((function(e){var r=e.data.info.value;t.upData(r)}))},mounted:function(){window.addEventListener("message",this.handleMessage,!1)},methods:{handleMessage:function(t){t.data.name&&(this.configName=t.data.name,this.add(t.data.name))},add:function(t){this.$store.commit(this.setConfig,t)},upData:function(t){this.$store.commit(this.updataConfig,t)}}},l=(r("7109"),Object(c.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"i-layout-page-header"},[e("PageHeader",{staticClass:"product_tabs",attrs:{"hidden-breadcrumb":""}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("router-link",{attrs:{to:{path:"/admin/setting/pages/devise"}}},[e("Button",{staticClass:"mr20",attrs:{icon:"ios-arrow-back",size:"small"}},[this._v("返回")])],1),e("span",{staticClass:"mr20",domProps:{textContent:this._s("页面设计")}})],1)])],1),e("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[e("div",{staticClass:"flex-wrapper"},[e("iframe",{ref:"iframe",staticClass:"iframe-box",attrs:{src:this.iframeUrl,frameborder:"0"}}),e("div",[e("div",{staticClass:"content"},[e("rightConfig",{attrs:{name:this.configName,pageId:this.pageId}})],1)]),e("links")],1)])],1)}),[],!1,null,"7e0cc338",null));e.default=l.exports},7109:function(t,e,r){"use strict";var n=r("0672");r.n(n).a},"7fbf":function(t,e,r){},e408:function(t,e,r){"use strict";var n=r("7fbf");r.n(n).a},e7e6:function(t,e,r){}}]);