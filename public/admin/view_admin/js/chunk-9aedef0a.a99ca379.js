(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9aedef0a"],{"023d":function(t,e,r){},"0622":function(t,e,r){"use strict";var n=r("095f");r.n(n).a},"095f":function(t,e,r){},"0f0e":function(t,e,r){"use strict";var n=r("c4c8"),a={name:"userLabel",props:{},data:function(){return{labelList:[],dataLabel:[],isUser:!1}},mounted:function(){},methods:{inArray:function(t,e){for(var r in e)if(e[r].id==t)return!0;return!1},userLabel:function(t){var e=this;this.dataLabel=t,Object(n.rb)().then((function(t){t.data.map((function(t){t.children&&t.children.length&&(e.isUser=!0,t.children.map((function(t){e.inArray(t.id,e.dataLabel)?t.disabled=!0:t.disabled=!1})))})),e.labelList=t.data})).catch((function(t){e.$Message.error(t.msg)}))},selectLabel:function(t){if(t.disabled){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1),t.disabled=!1}else this.dataLabel.push({label_name:t.label_name,id:t.id,tag_id:t.tag_id}),t.disabled=!0},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}},i=(r("b0ee"),r("2877")),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"label-wrapper"},[r("div",{staticClass:"list-box"},[t._l(t.labelList,(function(e,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.isUser,expression:"isUser"}],key:n,staticClass:"label-box"},[e.children&&e.children.length?r("div",{staticClass:"title"},[t._v("\n        "+t._s(e.label_name)+"\n      ")]):t._e(),e.children&&e.children.length?r("div",{staticClass:"list"},t._l(e.children,(function(e,n){return r("div",{key:n,staticClass:"label-item",class:{on:e.disabled},on:{click:function(r){return t.selectLabel(e)}}},[t._v("\n          "+t._s(e.label_name)+"\n        ")])})),0):t._e()])})),t.isUser?t._e():r("div",[t._v("暂无标签")])],2),r("div",{staticClass:"footer"},[r("Button",{on:{click:t.cancel}},[t._v("取消")]),r("Button",{staticClass:"ml14",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])}),[],!1,null,"3b9d7c98",null);e.a=o.exports},2711:function(t,e,r){},"30a5":function(t,e,r){t.exports=r.p+"view_admin/img/svip-user.b89bb400.png"},7169:function(t,e,r){"use strict";var n=r("b696");r.n(n).a},"73f5":function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return s})),r.d(e,"e",(function(){return c}));var n=r("b6bd");function a(t){return Object(n.a)({url:"merchant/store_list",method:"get",params:t})}function i(t){return Object(n.a)({url:"store/store",method:"get",params:t})}function o(t){return Object(n.a)({url:"city",method:"get",params:t})}function s(){return Object(n.a)({url:"store/store/address",method:"get"})}function c(t){return Object(n.a)({url:"store/share/order",method:"post",params:t})}},"9ea3":function(t,e,r){"use strict";var n=r("b5dc");r.n(n).a},a716:function(t,e,r){"use strict";var n=r("c24f"),a=r("73f5"),i=r("8c03"),o=r("0f0e");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new F(n||[]);return a(o,"_invoke",{value:L(t,r,s)}),o}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",p="executing",_="completed",b={};function g(){}function y(){}function w(){}var k={};d(k,o,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C($([])));I&&I!==r&&n.call(I,o)&&(k=I);var O=w.prototype=g.prototype=Object.create(k);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,i,o,c){var u=m(t[a],t,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==s(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,o,c)}),(function(t){r("throw",t,o,c)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return i=i?i.then(a,a):a()}})}function L(e,r,n){var a=h;return function(i,o){if(a===p)throw Error("Generator is already running");if(a===_){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=D(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=m(e,r,n);if("normal"===u.type){if(a=n.done?_:v,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=_,n.method="throw",n.arg=u.arg)}}}function D(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,D(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=m(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return y.prototype=w,a(O,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:y,configurable:!0}),y.displayName=d(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},x(j.prototype),d(j.prototype,u,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new j(f(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(O),d(O,l,"Generator"),d(O,o,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function u(t,e,r,n,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}var l={name:"userForm",components:{customerInfo:i.default,userLabel:o.a},props:{psInfo:Object},data:function(){return{labelShow:!1,customerShow:!1,formData:{uid:this.psInfo.uid,real_name:this.psInfo.real_name,phone:this.psInfo.phone,birthday:this.psInfo.birthday,sex:this.psInfo.sex,card_id:this.psInfo.card_id,addres:this.psInfo.addres,pwd:"",true_pwd:"",spread_open:this.psInfo.spread_open,is_promoter:this.psInfo.is_promoter,status:this.psInfo.status,group_id:0,label_id:[],level:this.psInfo.level,provincials:"",province:0,city:0,area:0,street:0,spread_uid:0,spread_uid_nickname:""},dataLabel:[],addressSelect:[],levelOptions:[],labelOptions:[],addresData:[],groupList:[]}},watch:{psInfo:{handler:function(t){this.formData.uid=t.uid,this.formData.real_name=t.real_name,this.formData.phone=t.phone,this.formData.birthday=t.birthday,this.formData.sex=t.sex,this.formData.card_id=t.card_id,this.formData.addres=t.addres,this.formData.spread_open=t.spread_open,this.formData.status=t.status,this.dataLabel=t.label_id,this.formData.level=t.level,this.formData.provincials=t.provincials,this.formData.province=t.province,this.formData.city=t.city,this.formData.area=t.area,this.formData.street=t.street,this.formData.spread_uid_nickname=t.spread_uid_nickname,this.formData.spread_uid=t.spread_uid,this.formData.group_id=t.group_id},immediate:!0}},created:function(){this.levelList(),this.groupLists(),this.labelList(),this.cityInfo({pid:0}),this.psInfo.province&&this.addressSelect.push(this.psInfo.province),this.psInfo.city&&this.addressSelect.push(this.psInfo.city),this.psInfo.area&&this.addressSelect.push(this.psInfo.area),this.psInfo.street&&this.addressSelect.push(this.psInfo.street)},methods:{clearSpread:function(){this.formData.spread_uid=0,this.formData.spread_uid_nickname=""},closeLabel:function(t){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1)},activeData:function(t){this.labelShow=!1,this.dataLabel=t},openLabel:function(){this.labelShow=!0,this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.dataLabel)))},labelClose:function(){this.labelShow=!1},editSpread:function(){this.customerShow=!0},imageObject:function(t){this.customerShow=!1,this.formData.spread_uid=t.uid,this.formData.spread_uid_nickname=t.name},changeMenu:function(t){this.$emit("change-menu",t)},add:function(t){var e=this;switch(t){case 1:this.$modalForm(Object(n.V)(0)).then((function(){}));break;case 2:this.$modalForm(Object(n.p)(0)).then((function(){e.groupLists()}))}},levelList:function(){var t=this;Object(n.s)({page:1,limit:"",title:"",is_show:1}).then((function(e){t.levelOptions=e.data.list}))},groupLists:function(){var t=this;Object(n.S)({page:1,limit:""}).then((function(e){t.groupList=e.data.list}))},labelList:function(){var t=this;Object(n.X)({page:1,limit:""}).then(function(){var e,r=(e=c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.data,t.labelOptions=n.list;case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(t){u(i,n,a,o,s,"next",t)}function s(t){u(i,n,a,o,s,"throw",t)}o(void 0)}))});return function(t){return r.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},cityInfo:function(t){var e=this;Object(a.a)(t).then((function(t){e.addresData=t.data}))},loadData:function(t,e){t.loading=!0,Object(a.a)({pid:t.value}).then((function(r){t.children=r.data,t.loading=!1,e()}))},addchack:function(t,e){var r=this;t.forEach((function(t,e){0==e?r.formData.province=t:1==e?r.formData.city=t:2==e?r.formData.area=t:r.formData.street=t})),this.formData.provincials=e.map((function(t){return t.label})).join("/")},dateChange:function(t){this.formData.birthday=t},detailsPut:function(){var t=this,e=[];if(this.dataLabel.forEach((function(t){e.push(t.id)})),this.formData.label_id=e,this.formData.phone&&!/^1(3|4|5|7|8|9|6)\d{9}$/.test(this.formData.phone))return this.$Message.error("请填写正确的手机号");Object(n.E)(this.formData).then((function(e){t.$Message.success("修改成功"),t.$emit("change-menu","99")})).catch((function(e){t.$Message.error(e.msg)}))}}},d=(r("9ea3"),r("2877")),f=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Form",{attrs:{model:t.formData,"label-width":76}},[r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("基本信息")]),r("div",{staticClass:"section-bd"},[r("FormItem",{attrs:{label:"用户编号："}},[r("Input",{attrs:{disabled:""},model:{value:t.formData.uid,callback:function(e){t.$set(t.formData,"uid",e)},expression:"formData.uid"}})],1),r("FormItem",{attrs:{label:"真实姓名："}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.real_name,callback:function(e){t.$set(t.formData,"real_name",e)},expression:"formData.real_name"}})],1),r("FormItem",{attrs:{label:"手机号码："}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),r("FormItem",{attrs:{label:"生日："}},[r("DatePicker",{attrs:{value:t.formData.birthday},on:{"on-change":t.dateChange}})],1),r("FormItem",{attrs:{label:"性别："}},[r("Select",{model:{value:t.formData.sex,callback:function(e){t.$set(t.formData,"sex",e)},expression:"formData.sex"}},[r("Option",{attrs:{value:0}},[t._v("保密")]),r("Option",{attrs:{value:1}},[t._v("男")]),r("Option",{attrs:{value:2}},[t._v("女")])],1)],1),r("FormItem",{attrs:{label:"省市区："}},[r("Cascader",{attrs:{data:t.addresData,"load-data":t.loadData},on:{"on-change":t.addchack},model:{value:t.addressSelect,callback:function(e){t.addressSelect=e},expression:"addressSelect"}})],1),r("FormItem",{attrs:{label:"身份证号："}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.card_id,callback:function(e){t.$set(t.formData,"card_id",e)},expression:"formData.card_id"}})],1),r("FormItem",{attrs:{label:"详细地址："}},[r("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.addres,callback:function(e){t.$set(t.formData,"addres",e)},expression:"formData.addres"}})],1)],1)]),r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("密码设置")]),r("div",{staticClass:"section-bd"},[r("FormItem",{attrs:{label:"登录密码："}},[r("Input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入"},model:{value:t.formData.pwd,callback:function(e){t.$set(t.formData,"pwd",e)},expression:"formData.pwd"}})],1),r("FormItem",{attrs:{label:"确认密码："}},[r("Input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入"},model:{value:t.formData.true_pwd,callback:function(e){t.$set(t.formData,"true_pwd",e)},expression:"formData.true_pwd"}})],1)],1)]),r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("用户设置")]),r("div",{staticClass:"section-bd"},[r("FormItem",{attrs:{label:"推广资格："}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formData.spread_open,callback:function(e){t.$set(t.formData,"spread_open",e)},expression:"formData.spread_open"}},[r("span",{attrs:{slot:"open"},slot:"open"},[t._v("启用")]),r("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1),r("FormItem",{attrs:{label:"推广员权限：","label-width":90}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formData.is_promoter,callback:function(e){t.$set(t.formData,"is_promoter",e)},expression:"formData.is_promoter"}},[r("span",{attrs:{slot:"open"},slot:"open"},[t._v("启用")]),r("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1),r("FormItem",{attrs:{label:"用户状态："}},[r("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[r("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),r("span",{attrs:{slot:"close"},slot:"close"},[t._v("锁定")])])],1),r("FormItem",{attrs:{label:"用户标签："}},[r("div",{staticClass:"flex-add"},[r("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:t.openLabel}},[r("div",{staticClass:"width-add"},[t.dataLabel.length?r("div",t._l(t.dataLabel,(function(e,n){return r("Tag",{key:n,attrs:{closable:""},on:{"on-close":function(r){return t.closeLabel(e)}}},[t._v(t._s(e.label_name))])})),1):r("span",{staticClass:"span"},[t._v("选择用户关联标签")])]),r("div",{staticClass:"iconfont iconxiayi"})]),r("Button",{attrs:{type:"text"},on:{click:function(e){return t.add(1)}}},[t._v("添加标签")])],1)]),r("FormItem",{attrs:{label:"用户分组："}},[r("div",{staticClass:"flex-add"},[r("Select",{attrs:{placeholder:"请选择",transfer:!0},model:{value:t.formData.group_id,callback:function(e){t.$set(t.formData,"group_id",e)},expression:"formData.group_id"}},t._l(t.groupList,(function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.group_name))])})),1),r("Button",{attrs:{type:"text"},on:{click:function(e){return t.add(2)}}},[t._v("添加分组")])],1)]),r("FormItem",{attrs:{label:"用户等级："}},[r("Select",{model:{value:t.formData.level,callback:function(e){t.$set(t.formData,"level",e)},expression:"formData.level"}},t._l(t.levelOptions,(function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),r("FormItem",{attrs:{label:"推广人："}},[r("Input",{attrs:{clearable:"",placeholder:"请选择",icon:"ios-arrow-down"},on:{"on-clear":t.clearSpread,"on-focus":t.editSpread},model:{value:t.formData.spread_uid_nickname,callback:function(e){t.$set(t.formData,"spread_uid_nickname",e)},expression:"formData.spread_uid_nickname"}})],1)],1)])]),r("Modal",{attrs:{scrollable:"",title:"请选择商城用户",closable:!1,width:"900"},model:{value:t.customerShow,callback:function(e){t.customerShow=e},expression:"customerShow"}},[t.customerShow?r("customerInfo",{on:{imageObject:t.imageObject}}):t._e()],1),r("Modal",{attrs:{scrollable:"",title:"选择用户标签",closable:!0,width:"540","footer-hide":!0,"mask-closable":!1},model:{value:t.labelShow,callback:function(e){t.labelShow=e},expression:"labelShow"}},[r("userLabel",{ref:"userLabel",on:{activeData:t.activeData,close:t.labelClose}})],1)],1)}),[],!1,null,"4d2960fa",null).exports,m=r("5a0c"),h=r.n(m),v={name:"userInfo",props:{psInfo:Object,workMemberInfo:Object,workClientInfo:Object},filters:{timeFormat:function(t){return t?h()(1e3*t).format("YYYY-MM-DD HH:mm:ss"):"-"},gender:function(t){return 1==t?"男":2==t?"女":"未知"}},computed:{hasExtendInfo:function(){return this.psInfo.extend_info.some((function(t){return t.value}))}}};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new F(n||[]);return a(o,"_invoke",{value:L(t,r,s)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",m="suspendedYield",h="executing",v="completed",b={};function g(){}function y(){}function w(){}var k={};u(k,o,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C($([])));I&&I!==r&&n.call(I,o)&&(k=I);var O=w.prototype=g.prototype=Object.create(k);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,i,o,s){var c=d(t[a],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==p(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return i=i?i.then(a,a):a()}})}function L(e,r,n){var a=f;return function(i,o){if(a===h)throw Error("Generator is already running");if(a===v){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=D(s,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var u=d(e,r,n);if("normal"===u.type){if(a=n.done?v:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}function D(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,D(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=d(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(p(e)+" is not iterable")}return y.prototype=w,a(O,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:y,configurable:!0}),y.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},x(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new j(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(O),u(O,c,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function b(t,e,r,n,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){b(i,n,a,o,s,"next",t)}function s(t){b(i,n,a,o,s,"throw",t)}o(void 0)}))}}r("7169");var y={name:"userDetails",components:{userForm:f,userInfo:Object(d.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-info"},[r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("基本信息")]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",[t._v("用户编号：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.uid))])]),r("div",{staticClass:"item"},[r("div",[t._v("真实姓名：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.real_name||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("手机号码：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.phone||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("生日：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.birthday||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("性别：")]),t.psInfo.sex?r("div",{staticClass:"value"},[t._v(t._s(1==t.psInfo.sex?"男":"女"))]):r("div",{staticClass:"value"},[t._v("保密")])]),r("div",{staticClass:"item"},[r("div",[t._v("身份证号：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.card_id||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("用户地址：")]),r("div",{staticClass:"value"},[t._v(t._s(""+t.psInfo.provincials+t.psInfo.addres||"-"))])])])]),t._m(0),r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("用户概况")]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",[t._v("推广资格：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.spread_open?"启用":"禁用"))])]),r("div",{staticClass:"item"},[r("div",[t._v("用户状态：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.status?"开启":"锁定"))])]),r("div",{staticClass:"item"},[r("div",[t._v("用户等级：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.vip_name))])]),r("div",{staticClass:"item"},[r("div",[t._v("用户标签：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.label_list))])]),r("div",{staticClass:"item"},[r("div",[t._v("用户分组：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.group_name||"无"))])]),r("div",{staticClass:"item"},[r("div",[t._v("推广人：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.spread_uid_nickname||"无"))])]),r("div",{staticClass:"item"},[r("div",[t._v("注册时间：")]),r("div",{staticClass:"value"},[t._v(t._s(t._f("timeFormat")(t.psInfo.add_time)))])]),r("div",{staticClass:"item"},[r("div",[t._v("登录时间：")]),r("div",{staticClass:"value"},[t._v(t._s(t._f("timeFormat")(t.psInfo.last_time)))])]),r("div",{staticClass:"item"},[r("div",[t._v("上次登录 IP：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.last_ip))])]),t.psInfo.is_money_level?r("div",{staticClass:"item"},[r("div",[t._v("付费会员：")]),r("div",{staticClass:"value"},[t._v(t._s(1==t.psInfo.is_ever_level?"永久会员":t.psInfo.overdue_time?t.psInfo.overdue_time+" 到期":"已过期"))])]):t._e()])]),r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("用户备注")]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",[t._v("备注：")]),r("div",{staticClass:"value"},[t._v(t._s(t.psInfo.mark||"-"))])])])]),t.hasExtendInfo?r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("补充信息")]),r("div",{staticClass:"section-bd"},[t._l(t.psInfo.extend_info,(function(e){return[e.value?r("div",{key:e.sort,staticClass:"item"},[r("div",[t._v(t._s(e.info)+"：")]),"sex"==e.param?r("div",{staticClass:"value"},[t._v(t._s(e.singlearr[e.value]))]):r("div",{staticClass:"value"},[t._v(t._s(e.value))])]):t._e()]}))],2)]):t._e(),t.workMemberInfo?r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("企业成员信息")]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",{staticClass:"avatar"},[r("img",{attrs:{src:t.workMemberInfo.qr_code,alt:""}})])])]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",[t._v("姓名：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.name||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("职务信息：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.position||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("手机号码：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.mobile||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("性别：")]),r("div",{staticClass:"value"},[t._v(t._s(t._f("gender")(t.workMemberInfo.gender)))])]),r("div",{staticClass:"item"},[r("div",{staticClass:"width-add "},[t._v("邮箱：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.biz_mail||"-"))])]),r("div",{staticClass:"item mr30"},[r("div",[t._v("地址：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.address||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("备注：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workMemberInfo.remark||"-"))])])])]):t._e(),t.workClientInfo?r("div",{staticClass:"section"},[r("div",{staticClass:"section-hd"},[t._v("企业客户信息")]),r("div",{staticClass:"section-bd"},[r("div",{staticClass:"item"},[r("div",[t._v("姓名：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workClientInfo.name||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("职务信息：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workClientInfo.position||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("备注：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workClientInfo.remark||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("性别：")]),r("div",{staticClass:"value"},[t._v(t._s(t._f("gender")(t.workClientInfo.gender)))])]),r("div",{staticClass:"item"},[r("div",[t._v("企业主体名称：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workClientInfo.corp_full_name||"-"))])]),r("div",{staticClass:"item"},[r("div",[t._v("企业主体简称：")]),r("div",{staticClass:"value"},[t._v(t._s(t.workClientInfo.corp_name||"-"))])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section"},[e("div",{staticClass:"section-hd"},[this._v("密码")]),e("div",{staticClass:"section-bd"},[e("div",{staticClass:"item"},[e("div",[this._v("登录密码：")]),e("div",{staticClass:"value"},[this._v("********")])])])])}],!1,null,"478f3d3e",null).exports},props:["levelList","labelList","groupList","fromType"],data:function(){return{theme2:"light",list:[{val:"info",label:"用户信息"},{val:"order",label:"消费记录"},{val:"integral",label:"积分明细"},{val:"sign",label:"签到记录"},{val:"coupon",label:"持有优惠券"},{val:"balance_change",label:"余额变动"},{val:"spread",label:"好友关系"},{val:"visit",label:"浏览足迹"},{val:"spread_change",label:"推荐人变更记录"}],modals:!1,spinShow:!1,detailsData:[],userId:0,loading:!1,userFrom:{type:"info",page:1,limit:12},total:0,columns:[],userLists:[],psInfo:{},workMemberInfo:{},workClientInfo:{},activeName:"info",isEdit:!1,groupOptions:[],labelOptions:[]}},watch:{activeName:function(t){this.userFrom.page=1,"info"!=t&&(this.isEdit=!1,this.changeType(t))},modals:function(t){t&&(this.isEdit=!1)}},created:function(){},methods:{changeMenu:function(t){if("99"===t)return this.getDetails(this.userId),this.$parent.getList(),void(this.isEdit=!1);this.$parent.changeMenu(this.psInfo,t)},finish:function(){this.$refs.userForm[0].detailsPut()},getSpreadList:function(){var t=this;this.loading=!0,Object(n.O)({id:this.userId,datas:{page:this.userFrom.page,limit:this.userFrom.limit}}).then(function(){var e=g(_().mark((function e(r){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===r.status?(n=r.data,t.userLists=n.list,t.total=n.count,t.columns=[{title:"推荐人ID",key:"spread_uid",minWidth:120},{title:"推荐人",key:"nickname",minWidth:120,render:function(t,e){return t("div",[t("img",{style:{borderRadius:"50%",marginRight:"10px",verticalAlign:"middle"},attrs:{with:38,height:38},directives:[{name:"lazy",value:e.row.avatar},{name:"viewer"}]}),t("span",{style:{verticalAlign:"middle"}},e.row.nickname)])}},{title:"变更方式",key:"type",minWidth:120},{title:"变更时间",key:"spread_time",minWidth:120}],t.loading=!1):(t.loading=!1,t.$Message.error(r.msg));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},getVisitList:function(){var t=this;this.loading=!0,Object(n.hb)({id:this.userId,datas:{page:this.userFrom.page,limit:this.userFrom.limit}}).then(function(){var e=g(_().mark((function e(r){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===r.status?(n=r.data,t.userLists=n.list,t.total=n.count,t.columns=[{title:"商品信息",slot:"product",minWidth:400},{title:"价格",key:"product_price",minWidth:120,render:function(t,e){return t("div","¥".concat(e.row.product_price))}},{title:"浏览时间",key:"add_time",minWidth:120}],t.loading=!1):(t.loading=!1,t.$Message.error(r.msg));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},getDetails:function(t){var e=this;this.userId=t,this.spinShow=!0,Object(n.g)(t).then(function(){var t=g(_().mark((function t(r){var n,a;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:200===r.status?(n=r.data,e.detailsData=n.headerList,"order"!==e.fromType&&(a=e.groupList.find((function(t){return t.id==n.ps_info.group_id})))&&(n.ps_info.group_name=a.group_name),e.psInfo=n.ps_info,e.workMemberInfo=n.workMemberInfo,e.workClientInfo=n.workClientInfo,e.spinShow=!1):(e.spinShow=!1,e.$Message.error(r.msg));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.spinShow=!1,e.$Message.error(t.msg)}))},pageChange:function(t){this.userFrom.page=t,this.changeType(this.userFrom.type)},changeType:function(t){var e=this;this.loading=!0,this.userFrom.type=t,this.activeName=t;var r={id:this.userId,datas:this.userFrom};Object(n.q)(r).then(function(){var t=g(_().mark((function t(r){var n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==r.status){t.next=25;break}n=r.data,e.userLists=n.list,e.total=n.count,t.t0=e.userFrom.type,t.next="order"===t.t0?7:"integral"===t.t0?9:"sign"===t.t0?11:"coupon"===t.t0?13:"balance_change"===t.t0?15:"visit"===t.t0?17:"spread_change"===t.t0?19:21;break;case 7:return e.columns=[{title:"订单ID",key:"order_id",minWidth:160},{title:"收货人",key:"real_name",minWidth:100},{title:"商品数量",key:"total_num",minWidth:90},{title:"商品总价",key:"total_price",minWidth:110},{title:"实付金额",key:"pay_price",minWidth:120},{title:"交易完成时间",key:"pay_time",minWidth:120}],t.abrupt("break",22);case 9:return e.columns=[{title:"来源/用途",key:"title",minWidth:120},{title:"积分变化",key:"number",minWidth:120},{title:"变化后积分",key:"balance",minWidth:120},{title:"日期",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",22);case 11:return e.columns=[{title:"获得积分",key:"number",minWidth:120},{title:"签到时间",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",22);case 13:return e.columns=[{title:"优惠券名称",key:"coupon_title",minWidth:120},{title:"面值",slot:"coupon_price",minWidth:120},{title:"有效期(天)",key:"coupon_time",minWidth:120},{title:"兑换时间",key:"_add_time",minWidth:120}],t.abrupt("break",22);case 15:return e.columns=[{title:"动作",key:"title",minWidth:120},{title:"变动金额",key:"number",minWidth:120},{title:"变动后",key:"balance",minWidth:120},{title:"创建时间",key:"add_time",minWidth:120},{title:"备注",key:"mark",minWidth:120}],t.abrupt("break",22);case 17:return e.columns=[{title:"商品信息",slot:"product",minWidth:400},{title:"价格",key:"product_price",minWidth:120,render:function(t,e){return t("div","¥".concat(e.row.product_price))}},{title:"浏览时间",key:"add_time",minWidth:120}],t.abrupt("break",22);case 19:return e.columns=[{title:"推荐人ID",key:"spread_uid",minWidth:120},{title:"推荐人",key:"nickname",minWidth:120,render:function(t,e){return t("div",[t("img",{style:{borderRadius:"50%",marginRight:"10px",verticalAlign:"middle"},attrs:{with:38,height:38},directives:[{name:"lazy",value:e.row.avatar},{name:"viewer"}]}),t("span",{style:{verticalAlign:"middle"}},e.row.nickname)])}},{title:"变更方式",key:"type",minWidth:120},{title:"变更时间",key:"spread_time",minWidth:120}],t.abrupt("break",22);case 21:e.columns=[{title:"ID",key:"uid",minWidth:120},{title:"昵称",key:"nickname",minWidth:120},{title:"等级",key:"type",minWidth:120},{title:"加入时间",key:"add_time",minWidth:120}];case 22:e.loading=!1,t.next=27;break;case 25:e.loading=!1,e.$Message.error(r.msg);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))}}},w=(r("0622"),r("b62a"),Object(d.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Drawer",{attrs:{closable:!1,width:"1000","class-name":"order_box",styles:{padding:0}},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[n("div",{staticClass:"acea-row user-row"},[n("div",{staticClass:"avatar mr15"},[n("img",{attrs:{src:t.psInfo.avatar}})]),n("div",{staticClass:"user-row-text"},[n("div",[n("span",{staticClass:"nickname"},[t._v(t._s(t.psInfo.nickname||"-")+t._s(null!=t.psInfo.delete_time?" (已注销)":""))]),n("i",{staticClass:"iconfont",class:{iconxiaochengxu:"routine"===t.psInfo.user_type,icongongzhonghao:"wechat"===t.psInfo.user_type,iconPC:"pc"===t.psInfo.user_type,iconh5:"h5"===t.psInfo.user_type,iconapp:"app"===t.psInfo.user_type}})]),n("div",{staticClass:"level"},[t.psInfo.is_money_level?n("img",{attrs:{src:r("30a5")}}):t._e(),t.psInfo.level?n("span",{staticClass:"vip"},[t._v("V"+t._s(t.psInfo.level))]):t._e()])]),"order"!==t.fromType&&null==t.psInfo.delete_time?n("div",{staticClass:"user-row-action"},[n("Button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],on:{click:function(e){t.isEdit=!1}}},[t._v("取消")]),n("Button",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],attrs:{type:"primary"},on:{click:t.finish}},[t._v("完成")]),n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit&&"info"===t.activeName,expression:"!isEdit && activeName === 'info'"}],attrs:{type:"primary"},on:{click:function(e){t.isEdit=!0}}},[t._v("编辑")]),n("Button",{attrs:{type:"success"},on:{click:function(e){return t.changeMenu("2")}}},[t._v("积分余额")]),n("Button",{on:{click:function(e){return t.changeMenu("3")}}},[t._v("赠送会员")])],1):t._e()]),n("div",{staticClass:"acea-row info-row"},t._l(t.detailsData,(function(e,r){return n("div",{key:r,staticClass:"info-row-item"},[n("div",{staticClass:"info-row-item-title"},[t._v(t._s(e.title))]),n("div",[t._v(t._s(e.value)+t._s(e.key))])])})),0),n("Tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.list,(function(e,r){return n("TabPane",{key:r,attrs:{label:e.label,name:e.val}},["info"===e.val?[t.isEdit?n("user-form",{ref:"userForm",refInFor:!0,attrs:{"ps-info":t.psInfo},on:{"change-menu":t.changeMenu}}):n("user-info",{attrs:{"ps-info":t.psInfo,workMemberInfo:t.workMemberInfo,workClientInfo:t.workClientInfo}})]:[n("Table",{ref:"table",refInFor:!0,attrs:{columns:t.columns,data:t.userLists,loading:t.loading,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"coupon_price",fn:function(e){var r=e.row;return[1==r.coupon_type?n("span",[t._v(t._s(r.coupon_price)+"元")]):t._e(),2==r.coupon_type?n("span",[t._v(t._s(parseFloat(r.coupon_price)/10)+"折（"+t._s(r.coupon_price.toString().split(".")[0])+"%）")]):t._e()]}},{key:"product",fn:function(e){var r=e.row;return[n("div",{staticClass:"product"},[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:r.image,expression:"row.image"}]})]),n("div",{staticClass:"title"},[t._v(t._s(r.store_name))])])]}}],null,!0)}),n("div",{staticClass:"acea-row row-right page"},[n("Page",{attrs:{total:t.total,current:t.userFrom.page,"show-elevator":"","show-total":"","page-size":t.userFrom.limit},on:{"update:current":function(e){return t.$set(t.userFrom,"page",e)},"on-change":t.pageChange}})],1)]],2)})),1)],1)}),[],!1,null,"15a80065",null));e.a=w.exports},b0ee:function(t,e,r){"use strict";var n=r("023d");r.n(n).a},b5dc:function(t,e,r){},b62a:function(t,e,r){"use strict";var n=r("2711");r.n(n).a},b696:function(t,e,r){},c24f:function(t,e,r){"use strict";r.d(e,"ab",(function(){return a})),r.d(e,"N",(function(){return i})),r.d(e,"M",(function(){return o})),r.d(e,"k",(function(){return s})),r.d(e,"r",(function(){return c})),r.d(e,"d",(function(){return u})),r.d(e,"h",(function(){return l})),r.d(e,"g",(function(){return d})),r.d(e,"q",(function(){return f})),r.d(e,"s",(function(){return m})),r.d(e,"J",(function(){return h})),r.d(e,"P",(function(){return v})),r.d(e,"L",(function(){return p})),r.d(e,"K",(function(){return _})),r.d(e,"f",(function(){return b})),r.d(e,"e",(function(){return g})),r.d(e,"n",(function(){return y})),r.d(e,"S",(function(){return w})),r.d(e,"p",(function(){return k})),r.d(e,"Q",(function(){return C})),r.d(e,"fb",(function(){return I})),r.d(e,"X",(function(){return O})),r.d(e,"V",(function(){return x})),r.d(e,"W",(function(){return j})),r.d(e,"Z",(function(){return L})),r.d(e,"Y",(function(){return D})),r.d(e,"bb",(function(){return E})),r.d(e,"v",(function(){return S})),r.d(e,"w",(function(){return F})),r.d(e,"cb",(function(){return $})),r.d(e,"i",(function(){return W})),r.d(e,"eb",(function(){return M})),r.d(e,"C",(function(){return N})),r.d(e,"gb",(function(){return P})),r.d(e,"m",(function(){return T})),r.d(e,"db",(function(){return G})),r.d(e,"F",(function(){return B})),r.d(e,"B",(function(){return U})),r.d(e,"A",(function(){return z})),r.d(e,"z",(function(){return A})),r.d(e,"D",(function(){return Y})),r.d(e,"y",(function(){return J})),r.d(e,"x",(function(){return R})),r.d(e,"u",(function(){return V})),r.d(e,"t",(function(){return q})),r.d(e,"o",(function(){return H})),r.d(e,"l",(function(){return X})),r.d(e,"G",(function(){return K})),r.d(e,"I",(function(){return Q})),r.d(e,"hb",(function(){return Z})),r.d(e,"O",(function(){return tt})),r.d(e,"E",(function(){return et})),r.d(e,"b",(function(){return rt})),r.d(e,"a",(function(){return nt})),r.d(e,"ib",(function(){return at})),r.d(e,"j",(function(){return it})),r.d(e,"c",(function(){return ot})),r.d(e,"H",(function(){return st})),r.d(e,"T",(function(){return ct})),r.d(e,"U",(function(){return ut})),r.d(e,"R",(function(){return lt}));var n=r("b6bd");function a(t){return Object(n.a)({url:"user/user",method:"get",params:t})}function i(t){return Object(n.a)({url:"setting/config/user/".concat(t),method:"get"})}function o(t,e){return Object(n.a)({url:"setting/config/user/".concat(t),method:"post",data:e})}function s(t){return Object(n.a)({url:"user/user/".concat(t,"/edit"),method:"get"})}function c(t){return Object(n.a)({url:"user/set_status/".concat(t.status,"/").concat(t.id),method:"put"})}function u(t){return Object(n.a)({url:"marketing/coupon/grant",method:"get",params:t})}function l(t){return Object(n.a)({url:"user/edit_other/".concat(t),method:"get"})}function d(t){return Object(n.a)({url:"user/user/".concat(t),method:"get"})}function f(t){return Object(n.a)({url:"user/one_info/".concat(t.id),method:"get",params:t.datas})}function m(t){return Object(n.a)({url:"user/user_level/vip_list",method:"get",params:t})}function h(t){return Object(n.a)({url:"user/user_level/set_show/".concat(t.id,"/").concat(t.is_show),method:"PUT"})}function v(t,e){return Object(n.a)({url:"user/user_level/task/".concat(t),method:"get",params:e})}function p(t){return Object(n.a)({url:"user/user_level/set_task_show/".concat(t.id,"/").concat(t.is_show),method:"PUT"})}function _(t){return Object(n.a)({url:"user/user_level/set_task_must/".concat(t.id,"/").concat(t.is_must),method:"PUT"})}function b(t){return Object(n.a)({url:"/user/user_level/create_task",method:"get",params:t})}function g(t){return Object(n.a)({url:"user/user_level/create",method:"get",params:t})}function y(t){return Object(n.a)({url:"user/give_level/".concat(t),method:"get"})}function w(t){return Object(n.a)({url:"user/user_group/list",method:"get",params:t})}function k(t){return Object(n.a)({url:"user/user_group/add/".concat(t),method:"get"})}function C(t){return Object(n.a)({url:"setting/update_admin",method:"PUT",data:t})}function I(t){return Object(n.a)({url:"user/set_group",method:"post",data:t})}function O(t){return Object(n.a)({url:"user/user_label",method:"get",params:t})}function x(t,e){return Object(n.a)({url:"user/user_label/add/".concat(t),method:"get",params:e})}function j(t){return Object(n.a)({url:"user/user_label_cate/all",method:"get",params:t})}function L(t){return Object(n.a)({url:"user/user_label_cate/".concat(t,"/edit"),method:"get"})}function D(t){return Object(n.a)({url:"user/user_label_cate/create",method:"get"})}function E(t){return Object(n.a)({url:"/user/member_batch/index",method:"get",params:t})}function S(t,e){return Object(n.a)({url:"/user/member_batch/save/".concat(t),method:"post",data:e})}function F(t,e){return Object(n.a)({url:"/user/member_batch/set_value/".concat(t),method:"get",params:e})}function $(t,e){return Object(n.a)({url:"/user/member_card/index/".concat(t),method:"get",params:e})}function W(t,e){return Object(n.a)({url:"/export/memberCard/".concat(t),method:"get",params:e})}function M(){return Object(n.a)({url:"/user/member/ship",method:"get"})}function N(t,e){return Object(n.a)({url:"/user/member_ship/save/".concat(t),method:"post",data:e})}function P(){return Object(n.a)({url:"/user/user/syncUsers",method:"get"})}function T(){return Object(n.a)({url:"/user/user/create",method:"get"})}function G(){return Object(n.a)({url:"/user/member_scan",method:"get"})}function B(t,e){return Object(n.a)({url:"user/label/".concat(t),method:"post",data:e})}function U(t){return Object(n.a)({url:"user/member_right/save/".concat(t.id),method:"post",data:t})}function z(){return Object(n.a)({url:"user/member/right",method:"get"})}function A(t){return Object(n.a)({url:"/user/member/record",method:"get",params:t})}function Y(){return Object(n.a)({url:"user/member/ship_select",method:"get"})}function J(t){return Object(n.a)({url:"user/member_card/set_status",method:"get",params:t})}function R(t){return Object(n.a)({url:"user/member_ship/set_ship_status",method:"get",params:t})}function V(t,e){return Object(n.a)({url:"user/member_agreement/save/".concat(t),method:"post",data:e})}function q(){return Object(n.a)({url:"user/member/agreement",method:"get"})}function H(t){return Object(n.a)({url:"user/give_level_time/".concat(t),method:"get"})}function X(t){return Object(n.a)({url:"user/label/".concat(t),method:"get"})}function K(t){return Object(n.a)({url:"user/save_set_label",method:"put",data:t})}function Q(t){return Object(n.a)({url:"setting/info",method:"get"})}function Z(t){return Object(n.a)({url:"user/visit_list/".concat(t.id),method:"get",params:t.datas})}function tt(t){return Object(n.a)({url:"user/spread_list/".concat(t.id),method:"get",params:t.datas})}function et(t){return Object(n.a)({url:"user/user/".concat(t.uid),method:"put",data:t})}function rt(t,e){return Object(n.a)({url:"agent/set_agent_agreement/".concat(t),method:"post",data:e})}function nt(){return Object(n.a)({url:"agent/get_agent_agreement",method:"get"})}function at(){return Object(n.a)({url:"user/synchro/work/label",method:"get"})}function it(t){return Object(n.a)({url:"user/user/extend_info/".concat(t),method:"get"})}function ot(t){return Object(n.a)({url:"user/batch_process",method:"post",data:t})}function st(t,e){return Object(n.a)({url:"/user/member/save/content/".concat(t),method:"post",data:e})}function ct(t){return Object(n.a)({url:"/user/import_user",method:"post",data:t})}function ut(t){return Object(n.a)({url:"user/import_user/list",method:"get",params:t})}function lt(t){return Object(n.a)({url:"export/importUserExport",method:"get",params:t})}}}]);