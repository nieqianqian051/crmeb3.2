(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9ee1674a","chunk-5eae95ec"],{"0672":function(t,e,r){},"0b65":function(t,e,r){"use strict";e.a={shortcuts:[{text:"今天",value:function(){var t=new Date,e=new Date;return e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[e,t]}},{text:"昨天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),[e,t]}},{text:"最近7天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[e,t]}},{text:"最近30天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[e,t]}},{text:"上月",value:function(){var t=new Date,e=new Date,r=new Date(e.getFullYear(),e.getMonth(),0).getDate();return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,r))),[e,t]}},{text:"本月",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[e,t]}},{text:"本年",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),0,1))),[e,t]}}]}},"0fc4":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return a}));var n=r("b6bd");function i(){return Object(n.a)({url:"erp/config",method:"get"})}function a(t){return Object(n.a)({url:"product/import_erp_product",method:"post",data:t})}},6112:function(t,e,r){"use strict";r.r(e);var n=r("f478");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r("2f62");var s={name:"rightConfig",components:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r("2542").a),props:{name:{type:null,default:""},pageId:{type:Number,default:0}},computed:{defultArr:function(){this.$store.dispatch("admin/user/getPageName");var t=this.$store.state.admin.user.pageName;return this.$store.state.admin[t].component}},watch:{name:{handler:function(t,e){this.rCom=[];var r=this.$store.state.admin.user.pageName;if(this.configData=this.$store.state.admin[r].defaultConfig[t],this.rCom=this.$store.state.admin[r].component[t].list,this.configData.selectConfig){var n=this.configData.selectConfig.type?this.configData.selectConfig.type:"";this.configData.selectConfig.list=this.categoryList,n?this.getByCategory():this.getCategory()}},deep:!0},defultArr:{handler:function(t,e){this.rCom=[],this.objToArray(t),this.rCom=t[this.name].list},deep:!0}},data:function(){return{rCom:[],configData:{},isShow:!0,categoryList:[],status:0}},mounted:function(){this.storeStatus()},methods:{storeStatus:function(){var t=this;Object(n.A)().then((function(e){t.status=parseInt(e.data.store_status)}))},getCategory:function(){var t=this;Object(n.h)().then((function(e){var r=[];e.data.map((function(t){r.push({title:t.title,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=r,t.bus.$emit("upData",r)}))},getByCategory:function(){var t=this;Object(n.g)().then((function(e){var r=[];e.data.map((function(t){r.push({title:t.cate_name,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=r,t.bus.$emit("upData",r)}))},saveConfig:function(){var t=this,e=this.$store.state.admin.user.pageName,r=this.$store.state.admin[e].defaultConfig,i=this.$store.state.admin[e].periphery;if("z_tabBar"==this.name){if(!i||!this.status)for(var a=r.z_tabBar.tabBarList.list,o=0;o<a.length;o++)if("/pages/storeList/index"==a[o].link||"pages/storeList/index"==a[o].link)return this.$Message.error("请先开启您的周边功能(/pages/storeList/index)");if(r.z_tabBar.tabBarList.list.length<2)return this.$Message.error("您最少应添加2个导航")}Object(n.e)(this.pageId,{value:r}).then((function(e){t.$Message.success("保存成功")}))},objToArray:function(t){var e=[];for(var r in t)e.push(t[r]);return e}}},u=(r("e408"),r("2877")),c={name:"index",components:{rightConfig:Object(u.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.rCom.length?r("div",{staticClass:"right-box"},[r("div",{staticClass:"title-bar"},[t._v("模块配置")]),t.rCom.length?r("div",{staticClass:"mobile-config"},[t._l(t.rCom,(function(e,n){return r("div",{key:n},[r(e.components.name,{tag:"component",attrs:{name:e.configNme,configData:t.configData}})],1)})),t.rCom.length?r("div",{staticStyle:{"text-align":"center"}},[r("Button",{staticStyle:{width:"100%",margin:"0 auto",height:"40px"},attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存")])],1):t._e()],2):t._e()]):t._e()}),[],!1,null,"be68bd50",null).exports,links:r("2250").default},data:function(){return{configName:"",iframeUrl:"",setConfig:"",updataConfig:"",pageId:0}},created:function(){var t=this,e=this.$route.query.id,r=this.$route.query.name;this.setConfig="admin/"+r+"/setConfig",this.updataConfig="admin/"+r+"/updataConfig",this.pageId=parseInt(e),this.iframeUrl="".concat(location.origin,"?type=iframeMakkMinkkJuan"),Object(n.c)(parseInt(e)).then((function(e){var r=e.data.info.value;t.upData(r)}))},mounted:function(){window.addEventListener("message",this.handleMessage,!1)},methods:{handleMessage:function(t){t.data.name&&(this.configName=t.data.name,this.add(t.data.name))},add:function(t){this.$store.commit(this.setConfig,t)},upData:function(t){this.$store.commit(this.updataConfig,t)}}},l=(r("7109"),Object(u.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"i-layout-page-header"},[e("PageHeader",{staticClass:"product_tabs",attrs:{"hidden-breadcrumb":""}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("router-link",{attrs:{to:{path:"/admin/setting/pages/devise"}}},[e("Button",{staticClass:"mr20",attrs:{icon:"ios-arrow-back",size:"small"}},[this._v("返回")])],1),e("span",{staticClass:"mr20",domProps:{textContent:this._s("页面设计")}})],1)])],1),e("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[e("div",{staticClass:"flex-wrapper"},[e("iframe",{ref:"iframe",staticClass:"iframe-box",attrs:{src:this.iframeUrl,frameborder:"0"}}),e("div",[e("div",{staticClass:"content"},[e("rightConfig",{attrs:{name:this.configName,pageId:this.pageId}})],1)]),e("links")],1)])],1)}),[],!1,null,"7e0cc338",null));e.default=l.exports},"66ee":function(t,e,r){},7109:function(t,e,r){"use strict";var n=r("0672");r.n(n).a},"7fbf":function(t,e,r){},"7fd8":function(t,e,r){"use strict";var n=r("66ee");r.n(n).a},a6b9:function(t,e,r){"use strict";r.d(e,"J",(function(){return i})),r.d(e,"n",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"y",(function(){return s})),r.d(e,"z",(function(){return u})),r.d(e,"o",(function(){return c})),r.d(e,"h",(function(){return l})),r.d(e,"b",(function(){return d})),r.d(e,"v",(function(){return f})),r.d(e,"c",(function(){return p})),r.d(e,"B",(function(){return h})),r.d(e,"j",(function(){return m})),r.d(e,"l",(function(){return g})),r.d(e,"w",(function(){return v})),r.d(e,"r",(function(){return y})),r.d(e,"s",(function(){return b})),r.d(e,"u",(function(){return _})),r.d(e,"x",(function(){return w})),r.d(e,"K",(function(){return O})),r.d(e,"t",(function(){return D})),r.d(e,"k",(function(){return j})),r.d(e,"m",(function(){return k})),r.d(e,"q",(function(){return x})),r.d(e,"A",(function(){return C})),r.d(e,"g",(function(){return L})),r.d(e,"f",(function(){return $})),r.d(e,"p",(function(){return I})),r.d(e,"i",(function(){return T})),r.d(e,"G",(function(){return E})),r.d(e,"I",(function(){return S})),r.d(e,"d",(function(){return F})),r.d(e,"H",(function(){return M})),r.d(e,"e",(function(){return P})),r.d(e,"C",(function(){return N})),r.d(e,"D",(function(){return z})),r.d(e,"E",(function(){return B})),r.d(e,"L",(function(){return W})),r.d(e,"F",(function(){return A}));var n=r("b6bd");function i(t){return Object(n.a)({url:"supplier/supplier",method:"get",params:t})}function a(t){return Object(n.a)({url:"/supplier/supplier/".concat(t),method:"get"})}function o(t){return Object(n.a)({url:"supplier/supplier",method:"post",data:t})}function s(t,e){return Object(n.a)({url:"supplier/supplier/".concat(t),method:"put",data:e})}function u(t,e){return Object(n.a)({url:"/supplier/supplier/set_status/".concat(t,"/").concat(e),method:"put"})}function c(t){return Object(n.a)({url:"/supplier/list",method:"get",params:t})}function l(t){return Object(n.a)({url:"/supplier/order/list",method:"get",params:t})}function d(t){return Object(n.a)({url:"/supplier/order/deliver_remind/".concat(t.supplier_id,"/").concat(t.id),method:"put"})}function f(t){return Object(n.a)({url:"/supplier/order/info/".concat(t),method:"get"})}function p(t){return Object(n.a)({url:"/supplier/order/distribution_info",method:"get",params:{ids:t}})}function h(t,e){return Object(n.a)({url:"/supplier/order/split_order/"+t,method:"get",params:e})}function m(t){return Object(n.a)({url:"/supplier/order/status/".concat(t.id),method:"get",params:t.datas})}function g(t){return Object(n.a)({url:"/supplier/order/refund/".concat(t),method:"get"})}function v(t){return Object(n.a)({url:"/supplier/refund/list",method:"get",params:t})}function y(t){return Object(n.a)({url:"/supplier/home/header",method:"get",params:t})}function b(t){return Object(n.a)({url:"/supplier/home/order",method:"get",params:t})}function _(t){return Object(n.a)({url:"/supplier/home/order_channel",method:"get",params:t})}function w(t){return Object(n.a)({url:"/supplier/home/order_type",method:"get",params:t})}function O(t){return Object(n.a)({url:"/supplier/supplier/login/".concat(t),method:"get"})}function D(t){return Object(n.a)({url:"/supplier/home/supplier",method:"get",params:t})}function j(t){return Object(n.a)({url:"/supplier/refund/detail/".concat(t),method:"get"})}function k(t){return Object(n.a)({url:"/supplier/refund/refund/".concat(t),method:"get"})}function x(t){return Object(n.a)({url:"/supplier/order/no_refund/".concat(t),method:"get"})}function C(t){return Object(n.a)({url:"/supplier/order/refund_integral/".concat(t),method:"get"})}function L(t){return Object(n.a)({url:"/supplier/order/distribution/".concat(t),method:"get"})}function $(t){return Object(n.a)({url:"/supplier/apply/list",method:"get",params:t})}function I(t){return Object(n.a)({url:"/supplier/apply/verify/form/".concat(t),method:"get"})}function T(t){return Object(n.a)({url:"/supplier/apply/mark/form/".concat(t),method:"get"})}function E(t){return Object(n.a)({url:"/supplier/flowing_water/list",method:"get",params:t})}function S(t,e){return Object(n.a)({url:"/supplier/flowing_water/mark/".concat(t),method:"put",params:e})}function F(t){return Object(n.a)({url:"/export/supplierWaterExport",method:"get",params:t})}function M(t){return Object(n.a)({url:"/supplier/flowing_water/fund_record",method:"get",params:t})}function P(t){return Object(n.a)({url:"/export/supplierWaterRecord",method:"get",params:t})}function N(t){return Object(n.a)({url:"/supplier/extract/list",method:"get",params:t})}function z(t,e){return Object(n.a)({url:"/supplier/extract/mark/".concat(t),method:"post",data:e})}function B(t,e){return Object(n.a)({url:"/supplier/extract/verify/".concat(t),method:"post",data:e})}function W(t){return Object(n.a)({url:"/supplier/extract/transfer/".concat(t),method:"get"})}function A(t){return Object(n.a)({url:"/supplier/flowing_water/fund_record_info",method:"get",params:t})}},bc80:function(t,e,r){"use strict";r.r(e);var n=r("2f62"),i=(r("f8b7"),r("a6b9")),a=r("0fc4"),o=r("31b4"),s=r("fc48"),u=r("61f8"),c=r("417c"),l=r("0b65");function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),s=new E(n||[]);return i(o,"_invoke",{value:L(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function _(){}function w(){}var O={};c(O,o,(function(){return this}));var D=Object.getPrototypeOf,j=D&&D(D(S([])));j&&j!==r&&n.call(j,o)&&(O=j);var k=w.prototype=b.prototype=Object.create(O);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(i,a,o,s){var u=p(t[i],t,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==d(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function L(e,r,n){var i=h;return function(a,o){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=$(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?v:m,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function $(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,$(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function S(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(d(e)+" is not iterable")}return _.prototype=w,i(k,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new C(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(k),c(k,u,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function p(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){p(a,n,i,o,s,"next",t)}function s(t){p(a,n,i,o,s,"throw",t)}o(void 0)}))}}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y={components:{editFrom:o.a,detailsFrom:s.a,orderRemark:u.a,orderRecord:c.a},data:function(){return{openErp:!1,thead:[{title:"订单号",align:"center",slot:"order_id",minWidth:150},{title:"用户信息",slot:"nickname",minWidth:130},{title:"商品信息",slot:"info",minWidth:300},{title:"实际支付",key:"pay_price",minWidth:70},{title:"发起退款时间",key:"add_time",minWidth:110},{title:"供应商名称",key:"supplier_name",minWidth:80},{title:"售后类型",slot:"apply_type",minWidth:180},{title:"退款状态",slot:"refund_type",minWidth:100},{title:"退款信息",slot:"statusName",minWidth:100},{title:"售后备注",key:"remark",minWidth:130},{title:"操作",slot:"action",fixed:"right",minWidth:150,align:"center"}],tbody:[],num:[],orderDatalist:null,loading:!1,FromData:null,total:0,orderId:0,animal:1,pagination:{page:1,limit:15,order_id:"",time:"",refund_type:"",supplier_id:""},options:l.a,timeVal:[],modal:!1,qrcode:null,name:"",spin:!1,rowActive:{},supplierList:[]}},computed:g(g({},Object(n.e)("order",["orderChartType"])),{},{labelWidth:function(){return this.isMobile?void 0:96},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.getErpConfig(),this.getOrderList(),this.getSupplierList()},methods:{getSupplierList:function(){var t=this;Object(i.o)().then(function(){var e=h(f().mark((function e(r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.supplierList=r.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},reset:function(){this.pagination={page:1,limit:15,order_id:"",time:"",refund_type:"",supplier_id:""},this.timeVal=[],this.getOrderList()},getErpConfig:function(){var t=this;Object(a.a)().then((function(e){t.openErp=e.data.open_erp})).catch((function(e){t.$Message.error(e.msg)}))},onchangeCode:function(t){this.animal=t,this.qrcodeShow()},onchangeTime:function(t){this.pagination.page=1,this.timeVal=t,this.pagination.time=this.timeVal[0]?this.timeVal.join("-"):""},getData:function(t,e){var r=this;Object(i.k)(t).then(function(){var t=h(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||(r.$refs.detailss.modals=!0),r.$refs.detailss.activeName="detail",r.orderDatalist=n.data;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){r.$Message.error(t.msg)}))},changeMenu:function(t,e){var r=this;switch(this.orderId=t.id,e){case"1":this.delfromData={title:"修改立即支付",url:"/supplier/order/pay_offline/".concat(t.id),method:"post",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"2":this.rowActive=t,this.getData(t.id);break;case"3":this.$refs.record.modals=!0,this.$refs.record.getList(t.store_order_id);break;case"4":this.$refs.remarks.modals=!0,this.$refs.remarks.formValidate.remark=t.remark;break;case"5":this.getRefundData(t.id);break;case"55":this.getRefundGoodsData(t.id);break;case"6":this.getRefundIntegral(t.id);break;case"7":this.getNoRefundData(t.id);break;case"8":this.delfromData={title:"修改确认收货",url:"/supplier/order/take/".concat(t.id),method:"put",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"10":this.delfromData={title:"立即打印订单",info:"您确认打印此订单吗?",url:"/supplier/order/print/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.$emit("changeGetTabs"),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;case"11":this.delfromData={title:"立即打印电子面单",info:"您确认打印此电子面单吗?",url:"/supplier/order/order_dump/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)}));break;default:this.delfromData={title:"删除订单",url:"/supplier/order/del/".concat(t.id),method:"DELETE",ids:""},this.delOrder(t,this.delfromData)}},getRefundData:function(t){var e=this;this.$modalForm(Object(i.m)(t)).then((function(){e.getOrderList(),e.getData(e.orderId,1),e.$emit("changeGetTabs")}))},getRefundGoodsData:function(t){var e=this;this.delfromData={title:"是否立即退货",url:"/supplier/refund/agree/".concat(t),method:"get"},this.$modalSure(this.delfromData).then((function(t){e.$Message.success(t.msg),e.getOrderList(),e.getData(e.orderId,1)})).catch((function(t){e.$Message.error(t.msg)}))},getRefundIntegral:function(t){var e=this;Object(i.A)(t).then(function(){var t=h(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},delOrder:function(t,e){var r=this;1===t.is_del?this.$modalSure(e).then((function(t){r.$Message.success(t.msg),r.getOrderList()})).catch((function(t){r.$Message.error(t.msg)})):this.$Modal.error({title:"错误！",content:"<p>您选择的的订单存在用户未删除的订单，无法删除用户未删除的订单！</p>"})},submitFail:function(){this.getOrderList(),this.getData(this.orderId,1)},selectChange2:function(t){this.pagination.page=1,this.pagination.refund_type=t,this.getOrderList(t)},getNoRefundData:function(t){var e=this;this.$modalForm(Object(i.q)(t)).then((function(){e.getOrderList(),e.getData(e.orderId),e.$emit("changeGetTabs")}))},getOrderList:function(){var t=this;this.loading=!0,Object(i.w)(this.pagination).then((function(e){t.loading=!1;var r=e.data,n=r.count,i=r.list,a=r.num;t.total=n,t.tbody=i,t.num=a,i.forEach((function(e){e.id==t.orderId&&(t.rowActive=e)}))})).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},pageChange:function(t){this.pagination.page=t,this.getOrderList()},nameSearch:function(){this.pagination.page=1,this.getOrderList()},orderSearch:function(){this.pagination.page=1,this.getOrderList()},delivery:function(t){var e=this;Object(i.g)(t.id).then(function(){var t=h(f().mark((function t(r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.FromData=r.data,e.$refs.edits.modals=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))}}},b=(r("7fd8"),r("2877")),_=Object(b.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:0}},[r("div",{staticClass:"new_card_pd"},[r("Form",{ref:"pagination",attrs:{inline:"",model:t.pagination,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[r("FormItem",{attrs:{label:"退款时间："}},[r("DatePicker",{staticClass:"input-add",attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-start",placeholder:"自定义时间",options:t.options},on:{"on-change":t.onchangeTime}})],1),r("FormItem",{attrs:{label:"供应商：",prop:"supplier"}},[r("Select",{staticClass:"input-add",attrs:{clearable:"",filterable:"",placeholder:"请选择供应商"},model:{value:t.pagination.supplier_id,callback:function(e){t.$set(t.pagination,"supplier_id",e)},expression:"pagination.supplier_id"}},t._l(t.supplierList,(function(e,n){return r("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.supplier_name))])})),1)],1),r("FormItem",{attrs:{label:"订单状态："}},[r("Select",{staticClass:"input-add",attrs:{clearable:""},model:{value:t.pagination.refund_type,callback:function(e){t.$set(t.pagination,"refund_type",e)},expression:"pagination.refund_type"}},t._l(t.num,(function(e,n){return r("Option",{key:n,attrs:{value:n}},[t._v(t._s(e.name))])})),1)],1),r("FormItem",{attrs:{label:"订单搜索：","label-for":"title"}},[r("Input",{staticClass:"input-add mr14",attrs:{placeholder:"请输入订单号"},model:{value:t.pagination.order_id,callback:function(e){t.$set(t.pagination,"order_id",e)},expression:"pagination.order_id"}}),r("Button",{attrs:{type:"primary"},on:{click:function(e){return t.getOrderList()}}},[t._v("查询")]),r("Button",{staticClass:"btn",on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)],1)],1)]),r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[r("Table",{ref:"table",attrs:{columns:t.thead,data:t.tbody,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"order_id",fn:function(e){var n=e.row;return[r("span",{staticStyle:{display:"block"},domProps:{textContent:t._s(n.order_id)}}),r("span",{directives:[{name:"show",rawName:"v-show",value:1===n.is_del&&null==n.delete_time,expression:"row.is_del === 1 && row.delete_time == null"}],staticClass:"span-del"},[t._v("用户已删除")])]}},{key:"nickname",fn:function(e){var n=e.row;return[r("div",[t._v("\n            "+t._s(n.nickname)),null!=n.delete_time?r("span",{staticStyle:{color:"#ed4014"}},[t._v("\n              (已注销)")]):t._e()])]}},{key:"user",fn:function(e){var n=e.row;return[r("div",[t._v("用户名："+t._s(n.nickname))]),r("div",[t._v("用户ID："+t._s(n.uid))])]}},{key:"apply_type",fn:function(e){var n=e.row;return[1==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("仅退款")]):t._e(),2==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货退款(快递退回)")]):t._e(),3==n.apply_type?r("Tag",{attrs:{color:"red",size:"medium"}},[t._v("退货退款(到店退货)")]):t._e(),4==n.apply_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("商家主动退款")]):t._e()]}},{key:"refund_type",fn:function(e){var n=e.row;return[[0,1,2].includes(n.refund_type)?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("待处理")]):t._e(),3==n.refund_type?r("Tag",{attrs:{color:"red",size:"medium"}},[t._v("拒绝退款")]):t._e(),4==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("商品待退货")]):t._e(),5==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货待收货")]):t._e(),6==n.refund_type?r("Tag",{attrs:{color:"green",size:"medium"}},[t._v("已退款")]):t._e()]}},{key:"info",fn:function(e){var n=e.row;return[r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[t._l(n._info,(function(e,n){return r("div",{key:n,staticClass:"tabBox"},[r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.image:e.cart_info.productInfo.image,expression:"\n                    val.cart_info.productInfo.attrInfo\n                      ? val.cart_info.productInfo.attrInfo.image\n                      : val.cart_info.productInfo.image\n                  "}]})]),r("span",{staticClass:"tabBox_tit line1"},[e.cart_info.is_gift?r("span",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),t._v("\n                "+t._s(e.cart_info.productInfo.store_name+" | ")+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:"")+"\n              ")])])})),r("div",{attrs:{slot:"content"},slot:"content"},t._l(n._info,(function(e,n){return r("div",{key:n},[e.cart_info.is_gift?r("p",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),r("p",[t._v(t._s(e.cart_info.productInfo.store_name))]),r("p",[t._v(t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),r("p",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.truePrice+" x "+e.cart_info.cart_num))])])})),0)],2)]}},{key:"statusName",fn:function(e){var n=e.row;return[r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[r("div",{staticClass:"pt5",domProps:{innerHTML:t._s(n.refund_reason)}}),r("div",{attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"pt5"},[t._v("退款原因："+t._s(n.refund_explain))]),n.refund_goods_explain?r("div",{staticClass:"pt5"},[t._v("\n                退货原因："+t._s(n.refund_goods_explain)+"\n              ")]):t._e()])]),n.refund_img?r("div",{staticClass:"pictrue-box"},t._l(n.refund_img||[],(function(t,e){return r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticClass:"pictrue mr10",attrs:{src:t}})])})),0):t._e()]}},{key:"action",fn:function(e){var n=e.row;return[r("a",{directives:[{name:"show",rawName:"v-show",value:(1==n.apply_type||5==n.refund_type||4==n.refund_type&&3==n.apply_type)&&![3,6].includes(n.refund_type)&&(parseFloat(n.pay_price)>parseFloat(n.refunded_price)||0==n.pay_price),expression:"\n              (row.apply_type == 1 || row.refund_type == 5 || (row.refund_type == 4 && row.apply_type == 3)) &&\n              ![3, 6].includes(row.refund_type) &&\n              (parseFloat(row.pay_price) > parseFloat(row.refunded_price) || row.pay_price == 0)\n            "}],attrs:{disabled:t.openErp},on:{click:function(e){return t.changeMenu(n,"5")}}},[t._v("立即退款")]),r("Divider",{directives:[{name:"show",rawName:"v-show",value:(1==n.apply_type||5==n.refund_type||4==n.refund_type&&3==n.apply_type)&&![3,6].includes(n.refund_type)&&(parseFloat(n.pay_price)>parseFloat(n.refunded_price)||0==n.pay_price),expression:"\n              (row.apply_type == 1 || row.refund_type == 5 || (row.refund_type == 4 && row.apply_type == 3)) &&\n              ![3, 6].includes(row.refund_type) &&\n              (parseFloat(row.pay_price) > parseFloat(row.refunded_price) || row.pay_price == 0)\n            "}],attrs:{type:"vertical"}}),r("a",{directives:[{name:"show",rawName:"v-show",value:[2,3].includes(n.apply_type)&&[0,1,2].includes(n.refund_type),expression:"\n              [2, 3].includes(row.apply_type) && [0, 1, 2].includes(row.refund_type)"}],attrs:{disabled:t.openErp},on:{click:function(e){return t.changeMenu(n,"55")}}},[t._v("同意退货")]),r("Divider",{directives:[{name:"show",rawName:"v-show",value:[2,3].includes(n.apply_type)&&[0,1,2].includes(n.refund_type),expression:"[2, 3].includes(row.apply_type) && [0, 1, 2].includes(row.refund_type)"}],attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.changeMenu(n,"2")}}},[t._v("订单详情")])]}}])}),r("div",{staticClass:"acea-row row-right page"},[r("Page",{attrs:{total:t.total,current:t.pagination.page,"show-elevator":"","show-total":"","page-size":t.pagination.limit},on:{"on-change":t.pageChange}})],1)],1),r("edit-from",{ref:"edits",attrs:{FromData:t.FromData},on:{submitFail:t.submitFail}}),r("details-from",{ref:"detailss",attrs:{orderDatalist:t.orderDatalist,orderId:t.orderId,rowActive:t.rowActive,openErp:t.openErp}}),r("order-remark",{ref:"remarks",attrs:{remarkType:"refund",orderId:t.orderId},on:{submitFail:t.submitFail}}),r("order-record",{ref:"record"})],1)}),[],!1,null,"172b012b",null);e.default=_.exports},e408:function(t,e,r){"use strict";var n=r("7fbf");r.n(n).a}}]);