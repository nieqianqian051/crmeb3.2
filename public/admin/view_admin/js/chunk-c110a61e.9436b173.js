(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c110a61e"],{"023d":function(t,e,i){},"0f0e":function(t,e,i){"use strict";var n=i("c4c8"),r={name:"userLabel",props:{},data:function(){return{labelList:[],dataLabel:[],isUser:!1}},mounted:function(){},methods:{inArray:function(t,e){for(var i in e)if(e[i].id==t)return!0;return!1},userLabel:function(t){var e=this;this.dataLabel=t,Object(n.rb)().then((function(t){t.data.map((function(t){t.children&&t.children.length&&(e.isUser=!0,t.children.map((function(t){e.inArray(t.id,e.dataLabel)?t.disabled=!0:t.disabled=!1})))})),e.labelList=t.data})).catch((function(t){e.$Message.error(t.msg)}))},selectLabel:function(t){if(t.disabled){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1),t.disabled=!1}else this.dataLabel.push({label_name:t.label_name,id:t.id,tag_id:t.tag_id}),t.disabled=!0},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}},a=(i("b0ee"),i("2877")),s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-wrapper"},[i("div",{staticClass:"list-box"},[t._l(t.labelList,(function(e,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isUser,expression:"isUser"}],key:n,staticClass:"label-box"},[e.children&&e.children.length?i("div",{staticClass:"title"},[t._v("\n        "+t._s(e.label_name)+"\n      ")]):t._e(),e.children&&e.children.length?i("div",{staticClass:"list"},t._l(e.children,(function(e,n){return i("div",{key:n,staticClass:"label-item",class:{on:e.disabled},on:{click:function(i){return t.selectLabel(e)}}},[t._v("\n          "+t._s(e.label_name)+"\n        ")])})),0):t._e()])})),t.isUser?t._e():i("div",[t._v("暂无标签")])],2),i("div",{staticClass:"footer"},[i("Button",{on:{click:t.cancel}},[t._v("取消")]),i("Button",{staticClass:"ml14",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])}),[],!1,null,"3b9d7c98",null);e.a=s.exports},"5b10":function(t,e,i){"use strict";var n=i("7a86");i.n(n).a},"61f7":function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in i)if(new RegExp("(".concat(n,")")).test(e)){var r=i[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:l(r))}return e}function l(t){return("00"+t).substr(t.length)}i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return f}));var c={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"},d=function(t,e){t.message=function(t){return e.replace("%s",t||"")}};function u(t){return a({required:!0,message:t,type:"string"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function f(t){return h.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,t)}d(u,"请输入%s"),d(f,"%s格式不正确");var h=Object.keys(c).reduce((function(t,e){return t[e]=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="range"===e?{min:t[0],max:t[1]}:s({},e,t);return a(a({message:i.replace(":".concat(e),"range"===e?"".concat(t[0],"-").concat(t[1]):t),type:"string"},r),n)},d(t[e],c[e]),t}),{})},"7a86":function(t,e,i){},"830a":function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l}));var a=r(r(r(r(r({is_presale_product:0,is_limit:0,limit_type:1,limit_num:1,is_vip_product:0,is_support_refund:1,disk_info:"",presale_day:1,presale_time:[],auto_on_time:"",auto_off_time:"",video_open:!1,store_name:"",freight:1,postage:0,custom_form:[],cate_id:[],label_id:[],ensure_id:[],keyword:"",unit_name:"",specs_id:0,store_info:"",bar_code:"",code:"",image:"",recommend_image:"",slider_image:[],description:"",ficti:0,give_integral:0,sort:0,is_show:1,is_hot:0,is_benefit:0,is_best:0,is_new:0,is_good:0,is_postage:0,is_sub:[],id:0,spec_type:0,video_link:"",temp_id:"",attr:{pic:"",price:0,settle_price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:"",weight:0,volume:0,brokerage:0,brokerage_two:0,vip_price:0,virtual_list:[],write_times:0,write_valid:1,days:1},attrs:[],items:[{pic:"",price:0,cost:0,ot_price:0,stock:0,bar_code:"",code:""}],coupons:[],couponName:[],header:[],selectRule:"",coupon_ids:[],command_word:"",delivery_type:["1"],specs:[],recommend_list:[],brand_id:[],product_type:0,store_label_id:[],off_show:0},"header",[]),"min_qty",1),"share_content",""),"presale_status",1),"system_form_id",""),s=[{title:"图片",slot:"pic",align:"center",minWidth:"80px"},{title:"售价",slot:"price",align:"center",minWidth:"120px"},{title:"成本价",slot:"cost",align:"center",minWidth:"120px"},{title:"划线价",slot:"ot_price",align:"center",minWidth:"120px"},{title:"库存",slot:"stock",align:"center",minWidth:"120px"},{title:"商品编号",slot:"code",align:"center",minWidth:"120px"},{title:"商品条形码",slot:"bar_code",align:"center",minWidth:"120px"},{title:"重量（KG）",slot:"weight",align:"center",minWidth:"100px"},{title:"体积(m³)",slot:"volume",align:"center",minWidth:"100px"},{title:"默认选中规格",slot:"selected_spec",fixed:"right",align:"center",minWidth:"100px"},{title:"操作",slot:"action",fixed:"right",align:"center",minWidth:"120px"}],o=[{title:"图片",slot:"pic",align:"center",minWidth:80},{title:"售价",slot:"price",align:"center",minWidth:120},{title:"成本价",slot:"cost",align:"center",minWidth:120},{title:"划线价",slot:"ot_price",align:"center",minWidth:120},{title:"库存",slot:"stock",align:"center",minWidth:120},{title:"产品编号",slot:"code",align:"center",minWidth:120},{title:"商品条形码",slot:"bar_code",align:"center",minWidth:"120px"},{title:"默认选中规格",slot:"selected_spec",fixed:"right",align:"center",minWidth:90},{title:"操作",slot:"action",fixed:"right",align:"center",minWidth:120}],l=[{title:"图片",slot:"pic",align:"center",minWidth:80},{title:"售价",slot:"price",align:"center",minWidth:120},{title:"成本价",slot:"cost",align:"center",minWidth:120},{title:"划线价",slot:"ot_price",align:"center",minWidth:120},{title:"库存",slot:"stock",align:"center",minWidth:120},{title:"产品编号",slot:"code",align:"center",minWidth:120},{title:"商品条形码",slot:"bar_code",align:"center",minWidth:"120px"},{title:"添加卡密/网盘",slot:"fictitious",align:"center",minWidth:120},{title:"默认选中规格",slot:"selected_spec",fixed:"right",align:"center",minWidth:90},{title:"操作",slot:"action",fixed:"right",align:"center",minWidth:120}]},b0ee:function(t,e,i){"use strict";var n=i("023d");i.n(n).a},e449:function(t,e,i){"use strict";var n=i("b7be"),r=i("61f7");function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var o={name:"index",filters:{formatDate:function(t){if(0!==t){var e=new Date(1e3*t);return Object(r.a)(e,"yyyy-MM-dd hh:mm")}}},props:{couponids:{type:Array},updateIds:{type:Array},updateName:{type:Array},luckDraw:{type:Boolean,default:!1},discount:{type:Boolean,default:!1}},data:function(){return{currentid:0,productRow:{},isTemplate:!1,loading:!1,tableFrom:{type:"send",receive_type:3,page:1,limit:10},total:0,ids:[],texts:[],columns:[{title:"ID",key:"id",width:60},{title:"优惠券名称",key:"title",minWidth:150},{title:"适用类型",slot:"type",minWidth:80},{title:"面值",slot:"coupon_price",minWidth:100},{title:"最低消费额",key:"use_min_price",minWidth:100},{title:"发布数量",slot:"count",minWidth:120},{title:"有效期限",slot:"start_time",minWidth:120},{title:"状态",slot:"status",minWidth:80}],couponList:[],selectedIds:new Set,selectedNames:new Set,couponVal:[]}},mounted:function(){},watch:{updateIds:function(t){this.selectedIds=new Set(t)},updateName:function(t){this.selectedNames=new Set(t)}},created:function(){var t=this,e={width:60,align:"center",render:function(e,i){var n=i.row.id,r=!1;r=t.currentid===n;var a=t;return e("div",[e("Radio",{props:{value:r},on:{"on-change":function(){a.currentid=n,t.productRow=i.row}}})])}};this.luckDraw?this.columns.unshift(e):this.columns.unshift({type:"selection",width:60,align:"center"})},methods:{unique:function(t){var e=new Map;return t.filter((function(t){return!e.has(t.id)&&e.set(t.id,1)}))},changeCheckbox:function(t){this.couponVal=t},handleSelectAll:function(t){var e=this;if(!this.discount){if(0===t.length){var i=this;i.$refs.table.data.forEach((function(t){if(i.selectedIds.has(t.id)){i.selectedIds.delete(t.id);var e=i.unique(Array.from(i.selectedNames));i.unique(Array.from(i.selectedNames)).forEach((function(i,n){i.id===t.id&&e.splice(n,1)})),i.selectedNames=new Set(e)}}))}else t.forEach((function(t){e.selectedIds.add(t.id),e.selectedNames.add({id:t.id,title:t.title})}));this.$nextTick((function(){e.setChecked()}))}},handleSelectRow:function(t,e){var i=this;this.discount||(this.selectedIds.add(e.id),this.selectedNames.add({id:e.id,title:e.title}),this.$nextTick((function(){i.setChecked()})))},handleCancelRow:function(t,e){var i=this;if(!this.discount){this.selectedIds.delete(e.id);var n=Array.from(this.selectedNames);Array.from(this.selectedNames).forEach((function(t,i){t.id===e.id&&n.splice(i,1)})),this.selectedNames=new Set(n),this.$nextTick((function(){i.setChecked()}))}},setChecked:function(){this.ids=a(this.selectedIds),this.texts=a(this.selectedNames);var t=this.$refs.table.objData;for(var e in t)this.selectedIds.has(t[e].id)&&(t[e]._isChecked=!0)},cancel:function(){this.isTemplate=!1,this.luckDraw&&(this.currentid=0)},tableList:function(){var t=this;this.loading=!0,Object(n.db)(this.tableFrom).then((function(e){var i=e.data;t.couponList=i.list,t.discount||t.$nextTick((function(){t.setChecked()})),t.total=i.count,t.loading=!1}))},ok:function(){this.luckDraw?(this.$emit("getCouponId",this.productRow),this.currentid=0):this.discount?this.$emit("getCouponList",this.couponVal):this.$emit("nameId",this.ids,this.texts)},receivePageChange:function(t){this.tableFrom.page=t,this.tableList()}}},l=i("2877"),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Modal",{attrs:{title:"优惠券列表",width:"60%"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.isTemplate,callback:function(e){t.isTemplate=e},expression:"isTemplate"}},[i("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.couponList,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},on:{"on-select":t.handleSelectRow,"on-select-cancel":t.handleCancelRow,"on-select-all":t.handleSelectAll,"on-select-all-cancel":t.handleSelectAll,"on-selection-change":t.changeCheckbox},scopedSlots:t._u([{key:"coupon_price",fn:function(e){var n=e.row;return[1==n.coupon_type?i("span",[t._v(t._s(n.coupon_price)+"元")]):t._e(),2==n.coupon_type?i("span",[t._v(t._s(parseFloat(n.coupon_price)/10)+"折（"+t._s(n.coupon_price.toString().split(".")[0])+"%）")]):t._e()]}},{key:"count",fn:function(e){var n=e.row;return e.index,[n.is_permanent?i("span",[t._v("不限量")]):i("div",[i("span",{staticClass:"fa"},[t._v("发布："+t._s(n.total_count))]),i("span",{staticClass:"sheng"},[t._v("剩余："+t._s(n.remain_count))])])]}},{key:"start_time",fn:function(e){var n=e.row;return e.index,[n.start_time?i("div",[t._v("\n                        "+t._s(t._f("formatDate")(n.start_time))+" - "+t._s(t._f("formatDate")(n.end_time))+"\n                    ")]):i("span",[t._v("不限时")])]}},{key:"type",fn:function(e){var n=e.row;return[1===n.type?i("span",[t._v("品类券")]):2===n.type?i("span",[t._v("商品券")]):3===n.type?i("span",[t._v("会员券")]):i("span",[t._v("通用券")])]}},{key:"status",fn:function(e){var n=e.row;return e.index,[i("Tag",{directives:[{name:"show",rawName:"v-show",value:1===n.status,expression:"row.status===1"}],attrs:{color:"blue"}},[t._v("正常")]),i("Tag",{directives:[{name:"show",rawName:"v-show",value:0===n.status,expression:"row.status===0"}],attrs:{color:"gold"}},[t._v("未开启")]),i("Tag",{directives:[{name:"show",rawName:"v-show",value:-1===n.status,expression:"row.status=== -1"}],attrs:{color:"red"}},[t._v("已失效")])]}}])}),i("div",{staticClass:"acea-row row-right page"},[i("Page",{attrs:{total:t.total,"show-elevator":"","show-total":"","page-size":t.tableFrom.limit},on:{"on-change":t.receivePageChange}})],1)],1)],1)}),[],!1,null,"d0db60f2",null);e.a=c.exports},f1c7:function(t,e,i){"use strict";var n=i("c4c8"),r={name:"storeLabelList",props:{},data:function(){return{labelList:[],dataLabel:[],isStore:!1}},mounted:function(){},methods:{inArray:function(t,e){for(var i in e)if(e[i].id==t)return!0;return!1},storeLabel:function(t){var e=this;this.dataLabel=t,Object(n.mb)().then((function(t){t.data.map((function(t){t.children&&t.children.length&&(e.isStore=!0,t.children.map((function(t){e.inArray(t.id,e.dataLabel)?t.disabled=!0:t.disabled=!1})))})),e.labelList=t.data})).catch((function(t){e.$Message.error(t.msg)}))},selectLabel:function(t){if(t.disabled){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1),t.disabled=!1}else this.dataLabel.push({label_name:t.label_name,id:t.id}),t.disabled=!0},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}},a=(i("5b10"),i("2877")),s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-wrapper"},[i("div",{staticClass:"list-box"},[t._l(t.labelList,(function(e,n){return t.isStore?i("div",{key:n,staticClass:"label-box"},[e.children&&e.children.length?i("div",{staticClass:"title mb-10"},[t._v("\n        "+t._s(e.label_name)+"\n      ")]):t._e(),e.children&&e.children.length?i("div",{staticClass:"list"},t._l(e.children,(function(e,n){return i("div",{key:n,staticClass:"relative label-pro acea-row row-center-wrapper",class:{"active-label":e.disabled},on:{click:function(i){return t.selectLabel(e)}}},[e.icon?i("img",{staticClass:"img-tag",attrs:{src:e.icon}}):i("div",{staticClass:"label-item",style:{backgroundColor:e.bg_color,color:e.color,border:e.border_color?"1px solid "+e.border_color:"none"}},[t._v("\n            "+t._s(e.label_name)+"\n          ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.disabled,expression:"label.disabled"}],staticClass:"sanjiao"},[i("span",{staticClass:"iconfont iconwancheng"})])])})),0):t._e()]):t._e()})),t.isStore?t._e():i("div",[t._v("暂无标签")])],2),i("div",{staticClass:"footer"},[i("Button",{on:{click:t.cancel}},[t._v("取消")]),i("Button",{staticClass:"ml14",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])}),[],!1,null,"934076fc",null);e.a=s.exports}}]);