(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5eae95ec"],{"0672":function(t,e,i){},6112:function(t,e,i){"use strict";i.r(e);var a=i("f478");function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i("2f62");var o={name:"rightConfig",components:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},i("2542").a),props:{name:{type:null,default:""},pageId:{type:Number,default:0}},computed:{defultArr:function(){this.$store.dispatch("admin/user/getPageName");var t=this.$store.state.admin.user.pageName;return this.$store.state.admin[t].component}},watch:{name:{handler:function(t,e){this.rCom=[];var i=this.$store.state.admin.user.pageName;if(this.configData=this.$store.state.admin[i].defaultConfig[t],this.rCom=this.$store.state.admin[i].component[t].list,this.configData.selectConfig){var a=this.configData.selectConfig.type?this.configData.selectConfig.type:"";this.configData.selectConfig.list=this.categoryList,a?this.getByCategory():this.getCategory()}},deep:!0},defultArr:{handler:function(t,e){this.rCom=[],this.objToArray(t),this.rCom=t[this.name].list},deep:!0}},data:function(){return{rCom:[],configData:{},isShow:!0,categoryList:[],status:0}},mounted:function(){this.storeStatus()},methods:{storeStatus:function(){var t=this;Object(a.A)().then((function(e){t.status=parseInt(e.data.store_status)}))},getCategory:function(){var t=this;Object(a.h)().then((function(e){var i=[];e.data.map((function(t){i.push({title:t.title,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=i,t.bus.$emit("upData",i)}))},getByCategory:function(){var t=this;Object(a.g)().then((function(e){var i=[];e.data.map((function(t){i.push({title:t.cate_name,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=i,t.bus.$emit("upData",i)}))},saveConfig:function(){var t=this,e=this.$store.state.admin.user.pageName,i=this.$store.state.admin[e].defaultConfig,n=this.$store.state.admin[e].periphery;if("z_tabBar"==this.name){if(!n||!this.status)for(var r=i.z_tabBar.tabBarList.list,s=0;s<r.length;s++)if("/pages/storeList/index"==r[s].link||"pages/storeList/index"==r[s].link)return this.$Message.error("请先开启您的周边功能(/pages/storeList/index)");if(i.z_tabBar.tabBarList.list.length<2)return this.$Message.error("您最少应添加2个导航")}Object(a.e)(this.pageId,{value:i}).then((function(e){t.$Message.success("保存成功")}))},objToArray:function(t){var e=[];for(var i in t)e.push(t[i]);return e}}},c=(i("e408"),i("2877")),u={name:"index",components:{rightConfig:Object(c.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.rCom.length?i("div",{staticClass:"right-box"},[i("div",{staticClass:"title-bar"},[t._v("模块配置")]),t.rCom.length?i("div",{staticClass:"mobile-config"},[t._l(t.rCom,(function(e,a){return i("div",{key:a},[i(e.components.name,{tag:"component",attrs:{name:e.configNme,configData:t.configData}})],1)})),t.rCom.length?i("div",{staticStyle:{"text-align":"center"}},[i("Button",{staticStyle:{width:"100%",margin:"0 auto",height:"40px"},attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存")])],1):t._e()],2):t._e()]):t._e()}),[],!1,null,"be68bd50",null).exports,links:i("2250").default},data:function(){return{configName:"",iframeUrl:"",setConfig:"",updataConfig:"",pageId:0}},created:function(){var t=this,e=this.$route.query.id,i=this.$route.query.name;this.setConfig="admin/"+i+"/setConfig",this.updataConfig="admin/"+i+"/updataConfig",this.pageId=parseInt(e),this.iframeUrl="".concat(location.origin,"?type=iframeMakkMinkkJuan"),Object(a.c)(parseInt(e)).then((function(e){var i=e.data.info.value;t.upData(i)}))},mounted:function(){window.addEventListener("message",this.handleMessage,!1)},methods:{handleMessage:function(t){t.data.name&&(this.configName=t.data.name,this.add(t.data.name))},add:function(t){this.$store.commit(this.setConfig,t)},upData:function(t){this.$store.commit(this.updataConfig,t)}}},f=(i("7109"),Object(c.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"i-layout-page-header"},[e("PageHeader",{staticClass:"product_tabs",attrs:{"hidden-breadcrumb":""}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("router-link",{attrs:{to:{path:"/admin/setting/pages/devise"}}},[e("Button",{staticClass:"mr20",attrs:{icon:"ios-arrow-back",size:"small"}},[this._v("返回")])],1),e("span",{staticClass:"mr20",domProps:{textContent:this._s("页面设计")}})],1)])],1),e("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[e("div",{staticClass:"flex-wrapper"},[e("iframe",{ref:"iframe",staticClass:"iframe-box",attrs:{src:this.iframeUrl,frameborder:"0"}}),e("div",[e("div",{staticClass:"content"},[e("rightConfig",{attrs:{name:this.configName,pageId:this.pageId}})],1)]),e("links")],1)])],1)}),[],!1,null,"7e0cc338",null));e.default=f.exports},7109:function(t,e,i){"use strict";var a=i("0672");i.n(a).a},"7fbf":function(t,e,i){},e408:function(t,e,i){"use strict";var a=i("7fbf");i.n(a).a}}]);