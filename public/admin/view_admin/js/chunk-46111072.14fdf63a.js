(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-46111072"],{"0d53":function(t,e,i){"use strict";var r=i("62ed");i.n(r).a},"53ed":function(t,e,i){"use strict";var r=i("9b3c");i.n(r).a},"62ed":function(t,e,i){},6968:function(t,e,i){"use strict";i.r(e);var r=i("f8b7"),n={name:"order_detail",props:{orderId:{type:String|Number,default:""}},data:function(){return{orderDetail:{},orderList:[],columns1:[{title:"商品ID",slot:"id",maxWidth:80},{title:"商品名称",slot:"name",minWidth:160},{title:"商品分类",slot:"className"},{title:"商品售价",slot:"price"},{title:"商品数量",slot:"total_num"}],spinShow:!1}},mounted:function(){this.getOrderInfo()},methods:{getOrderInfo:function(){var t=this;this.spinShow=!0,Object(r.B)(this.orderId).then((function(e){t.spinShow=!1,t.orderDetail=e.data,t.orderList=e.data.orderInfo.cartInfo})).catch((function(e){t.spinShow=!1,t.$Message.error(e.msg),t.$emit("detall",!1)}))}}},a=(i("0d53"),i("2877")),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.orderDetail.userInfo?i("div",{staticClass:"order_detail"},[i("div",{staticClass:"msg-box"},[i("div",{staticClass:"box-title"},[t._v("收货信息")]),i("div",{staticClass:"msg-wrapper"},[i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("用户昵称：")]),t._v(t._s(t.orderDetail.userInfo.nickname)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("收货人：")]),t._v(t._s(t.orderDetail.orderInfo.real_name)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("联系电话：")]),t._v(t._s(t.orderDetail.orderInfo.user_phone)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("收货地址：")]),t._v(t._s(t.orderDetail.orderInfo.user_address)+"\n                ")])])])]),i("div",{staticClass:"msg-box",staticStyle:{border:"none"}},[i("div",{staticClass:"box-title"},[t._v("订单信息")]),i("div",{staticClass:"msg-wrapper"},[i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("订单ID：")]),t._v(t._s(t.orderDetail.orderInfo.order_id)+"\n                ")]),i("div",{staticClass:"item",staticStyle:{color:"red"}},[i("span",{staticStyle:{color:"red"}},[t._v("订单状态：")]),t._v(t._s(t.orderDetail.orderInfo._status._title)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("商品总数：")]),t._v(t._s(t.orderDetail.orderInfo.total_num)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("商品总价：")]),t._v("￥"+t._s(t.orderDetail.orderInfo.total_price)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("交付邮费：")]),t._v("￥"+t._s(t.orderDetail.orderInfo.pay_postage)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("优惠券金额：")]),t._v("￥"+t._s(t.orderDetail.orderInfo.coupon_price)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("会员商品优惠：")]),t._v("￥"+t._s(t.orderDetail.orderInfo.vip_true_price||0)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("积分抵扣：")]),t._v("￥"+t._s(t.orderDetail.orderInfo.deduction_price||0)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("实际支付：")]),t._v(t._s(t.orderDetail.orderInfo.pay_price)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("创建时间：")]),t._v(t._s(t.orderDetail.orderInfo.add_time)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("支付方式：")]),t._v(t._s(t.orderDetail.orderInfo._status._payType)+"\n                ")]),i("div",{staticClass:"item"},[i("span",[t._v("推广人：")]),t._v(t._s(t.orderDetail.userInfo.spread_name)+"\n                ")])]),i("div",{staticClass:"msg-item"},[i("div",{staticClass:"item"},[i("span",[t._v("商家备注：")]),t._v(t._s(t.orderDetail.orderInfo.mark)+"\n                ")])])])]),i("div",{staticClass:"goods-box"},[i("Table",{attrs:{columns:t.columns1,data:t.orderList},scopedSlots:t._u([{key:"id",fn:function(e){var i=e.row;return e.index,[t._v("\n                "+t._s(i.productInfo.id)+"\n            ")]}},{key:"name",fn:function(e){var r=e.row;return e.index,[i("div",{staticClass:"product_info"},[i("img",{attrs:{src:r.productInfo.image,alt:""}}),i("p",[t._v(t._s(r.productInfo.store_name))])])]}},{key:"className",fn:function(e){var i=e.row;return e.index,[t._v("\n                "+t._s(i.class_name)+"\n            ")]}},{key:"price",fn:function(e){var i=e.row;return e.index,[t._v("\n                "+t._s(i.productInfo.attrInfo.price)+"\n            ")]}},{key:"total_num",fn:function(e){return e.row,e.index,[t._v("\n                "+t._s(t.orderDetail.orderInfo.total_num)+"\n            ")]}}],null,!1,4211245526)})],1),t.spinShow?i("Spin",{attrs:{fix:""}}):t._e()],1):t._e()}),[],!1,null,"817733be",null).exports,s=i("2f62"),l=i("2e83");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return e};var t,e={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,i){return t[e]=i}}function v(t,e,i,r){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new E(r||[]);return n(o,"_invoke",{value:S(t,i,s)}),o}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=v;var p="suspendedStart",m="suspendedYield",h="executing",_="completed",y={};function g(){}function w(){}function b(){}var D={};d(D,o,(function(){return this}));var I=Object.getPrototypeOf,C=I&&I(I(F([])));C&&C!==i&&r.call(C,o)&&(D=C);var x=b.prototype=g.prototype=Object.create(D);function k(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function i(n,a,o,s){var l=f(t[n],t,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,o,s)}),(function(t){i("throw",t,o,s)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return i("throw",t,o,s)}))}s(l.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function S(e,i,r){var n=p;return function(a,o){if(n===h)throw Error("Generator is already running");if(n===_){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=L(s,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=f(e,i,r);if("normal"===c.type){if(n=r.done?_:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=_,r.method="throw",r.arg=c.arg)}}}function L(e,i){var r=i.method,n=e.iterator[r];if(n===t)return i.delegate=null,"throw"===r&&e.iterator.return&&(i.method="return",i.arg=t,L(e,i),"throw"===i.method)||"return"!==r&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(n,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,y;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,y):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function F(e){if(e||""===e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return a.next=a}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=b,n(x,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:w,configurable:!0}),w.displayName=d(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(O.prototype),d(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,i,r,n,a){void 0===a&&(a=Promise);var o=new O(v(t,i,r,n),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(x),d(x,l,"Generator"),d(x,o,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var r in e)i.push(r);return i.reverse(),function t(){for(;i.length;){var r=i.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=F,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(r,n){return s.type="throw",s.arg=e,i.next=r,n&&(i.method="next",i.arg=t),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),j(i),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;j(i)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:F(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function d(t,e,i,r,n,a,o){try{var s=t[a](o),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(r,n)}function v(t){return function(){var e=this,i=arguments;return new Promise((function(r,n){var a=t.apply(e,i);function o(t){d(a,r,n,o,s,"next",t)}function s(t){d(a,r,n,o,s,"throw",t)}o(void 0)}))}}function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h={name:"invoice",components:{orderDetall:o},computed:p(p({},Object(s.e)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:96},labelPosition:function(){return this.isMobile?"top":"right"}}),data:function(){return{orderShow:!1,invoiceShow:!1,invoiceDetails:{},formInline:{is_invoice:0,invoice_number:"",remark:"",invoice_amount:""},loading:!1,currentTab:"",tablists:null,timeVal:[],options:{shortcuts:[{text:"今天",value:function(){var t=new Date,e=new Date;return e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),[e,t]}},{text:"昨天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1))),[e,t]}},{text:"最近7天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-6))),[e,t]}},{text:"最近30天",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-29))),[e,t]}},{text:"上月",value:function(){var t=new Date,e=new Date,i=new Date(e.getFullYear(),e.getMonth(),0).getDate();return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,1))),t.setTime(t.setTime(new Date((new Date).getFullYear(),(new Date).getMonth()-1,i))),[e,t]}},{text:"本月",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),(new Date).getMonth(),1))),[e,t]}},{text:"本年",value:function(){var t=new Date,e=new Date;return e.setTime(e.setTime(new Date((new Date).getFullYear(),0,1))),[e,t]}}]},grid:{xl:8,lg:8,md:12,sm:24,xs:24},columns:[{title:"订单号",key:"order_id",minWidth:170},{title:"订单金额",slot:"pay_price",minWidth:100},{title:"发票类型",slot:"type",minWidth:120,filters:[{label:"电子普通发票",value:1},{label:"纸质专用发票",value:2}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?1===e.type:2===t?2===e.type:void 0}},{title:"发票抬头名称",key:"name",minWidth:150},{title:"发票抬头类型",slot:"header_type",minWidth:110,filters:[{label:"个人",value:1},{label:"企业",value:2}],filterMultiple:!1,filterMethod:function(t,e){return 1===t?1===e.header_type:2===t?2===e.header_type:void 0}},{title:"下单时间",key:"add_time",minWidth:150,sortable:!0},{title:"开票状态",slot:"is_invoice",minWidth:80},{title:"订单状态",slot:"status",minWidth:80},{title:"操作",slot:"action",fixed:"right",minWidth:150,align:"center"}],orderList:[],total:0,orderData:{page:1,limit:10,status:"",data:"",real_name:"",field_key:"",type:""},orderId:0}},created:function(){this.getTabs(),this.getList()},mounted:function(){},methods:{detall:function(t){this.orderShow=t},orderInfo:function(t){this.orderId=t,this.orderShow=!0},empty:function(){this.formInline={is_invoice:0,invoice_number:"",remark:""}},cancel:function(){this.invoiceShow=!1,this.empty()},kaiInvoice:function(t){1!==t&&(this.formInline.invoice_number="",this.formInline.remark="")},handleSubmit:function(){var t=this;if(1===this.formInline.is_invoice&&""===this.formInline.invoice_number.trim())return this.$Message.error("请填写发票编号");Object(r.D)(this.invoiceDetails.invoice_id,this.formInline).then((function(e){t.$Message.success(e.msg),t.invoiceShow=!1,t.getList(),t.empty()})).catch((function(e){t.$Message.error(e.msg)}))},edit:function(t){this.invoiceShow=!0,this.invoiceDetails=t,this.formInline.invoice_number=t.invoice_number,this.formInline.invoice_amount=t.invoice_amount,this.formInline.remark=t.invoice_reamrk,this.formInline.is_invoice=t.is_invoice,this.formInline.invoice_amount="0.00"==t.invoice_amount?t.pay_price:t.invoice_amount},getList:function(){var t=this;this.loading=!0,Object(r.C)(this.orderData).then(function(){var e=v(u().mark((function e(i){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!1,r=i.data,t.orderList=r.list,t.total=r.count;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading=!1,t.$Message.error(e.msg)}))},pageChange:function(t){this.orderData.page=t,this.getList()},getTabs:function(){var t=this;Object(r.A)().then((function(e){t.tablists=e.data})).catch((function(e){t.$Message.error(e.msg)}))},orderSearch:function(){this.orderData.page=1,this.getList()},onchangeTime:function(t){this.orderData.page=1,this.timeVal=t,this.orderData.data=this.timeVal[0]?this.timeVal.join("-"):"",this.getList()},selectChange:function(){this.orderData.page=1,this.getList()},onClickTab:function(){this.orderData.page=1,this.orderData.type=this.currentTab,this.getList()},exports:function(){var t=this;return v(u().mark((function e(){var i,r,n,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r=[],n=[],a="",e.next=3,t.getExcelData(t.orderData);case 3:o=e.sent,a||(a=o.filename),r=o.filekey,i.length||(i=o.header),n=n.concat(o.export),Object(l.a)(i,r,a,n);case 9:case"end":return e.stop()}}),e)})))()},getExcelData:function(t){return new Promise((function(e,i){Object(r.f)(t).then((function(t){return e(t.data)}))}))},inputEnter:function(){if(this.formInline.pay_price=this.formInline.pay_price.replace(/[^\d.]/g,""),this.formInline.pay_price=this.formInline.pay_price.replace(/\.{2,}/g,"."),this.formInline.pay_price=this.formInline.pay_price.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.formInline.pay_price=this.formInline.pay_price.replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.formInline.pay_price&&this.formInline.pay_price.indexOf(".")<0&&""!=this.formInline.pay_price&&(this.formInline.pay_price=parseFloat(this.formInline.pay_price),this.formInline.pay_price=this.formInline.pay_price+""),this.formInline.pay_price.indexOf(".")>0&&this.formInline.pay_price.length-this.formInline.pay_price.indexOf(".")>6){var t=this.formInline.pay_price.slice(this.formInline.pay_price.indexOf("."),this.formInline.pay_price.length);t/1<=0&&(this.formInline.pay_price=this.formInline.pay_price.replace(t,""))}this.formInline.pay_price/1>256&&(this.formInline.pay_price=this.formInline.pay_price+"",this.formInline.pay_price=this.formInline.pay_price.slice(0,this.formInline.pay_price.length-1))},inputBlur:function(){if(this.formInline.pay_price.indexOf(".")>0){var t=this.formInline.pay_price.slice(this.formInline.pay_price.indexOf("."),this.formInline.pay_price.length);t/1<=0&&(this.formInline.pay_price=this.formInline.pay_price.replace(t,""))}}}},_=(i("53ed"),Object(a.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:0}},[i("div",{staticClass:"new_card_pd"},[i("Form",{ref:"orderData",staticClass:"tabform",attrs:{model:t.orderData,"label-width":t.labelWidth,inline:"","label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[i("FormItem",{attrs:{label:"创建时间："}},[i("DatePicker",{staticClass:"input-add",attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd HH:mm",type:"datetimerange",placement:"bottom-start",placeholder:"自定义时间",options:t.options},on:{"on-change":t.onchangeTime}})],1),i("FormItem",{attrs:{label:"搜索：",prop:"real_name","label-for":"real_name"}},[i("Input",{staticClass:"input-add",attrs:{placeholder:"请输入","element-id":"name"},model:{value:t.orderData.real_name,callback:function(e){t.$set(t.orderData,"real_name",e)},expression:"orderData.real_name"}},[i("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.orderData.field_key,callback:function(e){t.$set(t.orderData,"field_key",e)},expression:"orderData.field_key"}},[i("Option",{attrs:{value:"all"}},[t._v("全部")]),i("Option",{attrs:{value:"order_id"}},[t._v("订单号")]),i("Option",{attrs:{value:"uid"}},[t._v("UID")]),i("Option",{attrs:{value:"real_name"}},[t._v("用户姓名")]),i("Option",{attrs:{value:"user_phone"}},[t._v("用户电话")])],1)],1)],1),i("FormItem",[i("Button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:function(e){return t.orderSearch()}}},[t._v("查询")]),i("Button",{on:{click:t.exports}},[t._v("导出")])],1)],1)],1)]),i("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[i("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.orderList,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"pay_price",fn:function(e){var r=e.row;return e.index,[i("div",[t._v("¥ "+t._s(r.pay_price))])]}},{key:"type",fn:function(e){var r=e.row;return e.index,[1===r.type?i("div",[t._v("电子普通发票")]):i("div",[t._v("纸质专用发票")])]}},{key:"is_invoice",fn:function(e){var r=e.row;return e.index,[0===r.is_invoice?i("Tag",{attrs:{color:"orange",size:"medium"}},[t._v("未开票")]):1===r.is_invoice?i("Tag",{attrs:{color:"green",size:"medium"}},[t._v("已开票")]):i("Tag",{attrs:{color:"red",size:"medium"}},[t._v("已拒绝")])]}},{key:"status",fn:function(e){var r=e.row;return e.index,[r.refund_status?[1===r.refund_status?i("div",[t._v("退款中")]):2===r.refund_status?i("div",[t._v("已退款")]):t._e()]:[0===r.status?i("Tag",{attrs:{color:"green",size:"medium"}},[t._v("未发货")]):1===r.status?i("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("待收货")]):2===r.status?i("Tag",{attrs:{color:"orange",size:"medium"}},[t._v("待评价")]):3===r.status?i("Tag",{attrs:{color:"volcano",size:"medium"}},[t._v("已完成")]):t._e()]]}},{key:"header_type",fn:function(e){var r=e.row;return e.index,[1===r.header_type?i("div",[t._v("个人")]):i("div",[t._v("企业")])]}},{key:"action",fn:function(e){var r=e.row;return e.index,[i("a",{attrs:{disabled:0!==r.refund_status||-1==r.is_invoice},on:{click:function(e){return t.edit(r)}}},[t._v("编辑")]),i("Divider",{attrs:{type:"vertical"}}),i("a",{on:{click:function(e){return t.orderInfo(r.id)}}},[t._v("订单信息")])]}}])}),i("div",{staticClass:"acea-row row-right page"},[i("Page",{attrs:{total:t.total,current:t.orderData.page,"show-elevator":"","show-total":"","page-size":t.orderData.limit},on:{"on-change":t.pageChange}})],1)],1),i("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"发票详情",width:"700","footer-hide":""},on:{"on-cancel":t.cancel},model:{value:t.invoiceShow,callback:function(e){t.invoiceShow=e},expression:"invoiceShow"}},[i("Form",{ref:"formInline",attrs:{model:t.formInline,"label-width":100},nativeOn:{submit:function(t){t.preventDefault()}}},[1===t.invoiceDetails.header_type&&1===t.invoiceDetails.type?i("div",[i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[t._v("发票信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票抬头: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.name))])]),i("Col",{attrs:{span:"12"}},[t._v("发票类型: "),i("span",{staticClass:"info"},[t._v("电子普通发票")])])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票抬头类型: 个人")]),1===t.invoiceDetails.is_invoice?i("Col",{attrs:{span:"12"}},[t._v("发票金额: ￥"+t._s(t.invoiceDetails.pay_price))]):t._e()],1)],1),i("div",{staticClass:"list"},[i("div",{staticClass:"title row"},[t._v("联系信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("真实姓名: "+t._s(t.invoiceDetails.name))]),i("Col",{attrs:{span:"12"}},[t._v("联系电话: "+t._s(t.invoiceDetails.drawer_phone))])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("联系邮箱: "+t._s(t.invoiceDetails.email))])],1)],1)]):t._e(),2===t.invoiceDetails.header_type&&1===t.invoiceDetails.type?i("div",[i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[t._v("发票信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票抬头: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.name))])]),i("Col",{attrs:{span:"12"}},[t._v("企业税号: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.duty_number))])])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票类型: 电子普通发票")]),i("Col",{attrs:{span:"12"}},[t._v("发票抬头类型: 企业")])],1)],1),i("div",{staticClass:"list"},[i("div",{staticClass:"title row"},[t._v("联系信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("真实姓名: "+t._s(t.invoiceDetails.name))]),i("Col",{attrs:{span:"12"}},[t._v("联系电话: "+t._s(t.invoiceDetails.drawer_phone))])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("联系邮箱: "+t._s(t.invoiceDetails.email))])],1)],1)]):t._e(),2===t.invoiceDetails.header_type&&2===t.invoiceDetails.type?i("div",[i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[t._v("发票信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票抬头: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.name))])]),i("Col",{attrs:{span:"12"}},[t._v("企业税号: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.duty_number))])])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("发票类型: 纸质专用发票")]),i("Col",{attrs:{span:"12"}},[t._v("发票抬头类型: 企业")])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("开户银行: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.bank))])]),i("Col",{attrs:{span:"12"}},[t._v("银行账号: "),i("span",{staticClass:"info"},[t._v(t._s(t.invoiceDetails.card_number))])])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("企业地址: "+t._s(t.invoiceDetails.address))]),i("Col",{attrs:{span:"12"}},[t._v("企业电话: "+t._s(t.invoiceDetails.tell))])],1)],1),i("div",{staticClass:"list"},[i("div",{staticClass:"title row"},[t._v("联系信息")]),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("真实姓名: "+t._s(t.invoiceDetails.name))]),i("Col",{attrs:{span:"12"}},[t._v("联系电话: "+t._s(t.invoiceDetails.drawer_phone))])],1),i("Row",{staticClass:"row"},[i("Col",{attrs:{span:"12"}},[t._v("联系邮箱: "+t._s(t.invoiceDetails.email))])],1)],1)]):t._e(),i("FormItem",{staticStyle:{"margin-top":"14px"},attrs:{label:"开票状态："}},[i("RadioGroup",{on:{"on-change":function(e){return t.kaiInvoice(t.formInline.is_invoice)}},model:{value:t.formInline.is_invoice,callback:function(e){t.$set(t.formInline,"is_invoice",e)},expression:"formInline.is_invoice"}},[i("Radio",{attrs:{label:1}},[t._v("已开票")]),i("Radio",{attrs:{label:0}},[t._v("未开票")]),i("Radio",{attrs:{label:-1}},[t._v("已拒绝")])],1)],1),1===t.formInline.is_invoice?i("FormItem",{attrs:{label:"发票编号："}},[i("Input",{attrs:{placeholder:"请输入发票编号"},model:{value:t.formInline.invoice_number,callback:function(e){t.$set(t.formInline,"invoice_number",e)},expression:"formInline.invoice_number"}})],1):t._e(),1===t.formInline.is_invoice?i("FormItem",{attrs:{label:"发票金额："}},[i("Input",{attrs:{placeholder:"请输入发票金额"},on:{input:t.inputEnter,blur:t.inputBlur},model:{value:t.formInline.invoice_amount,callback:function(e){t.$set(t.formInline,"invoice_amount",e)},expression:"formInline.invoice_amount"}})],1):t._e(),t.formInline.is_invoice?i("FormItem",{attrs:{label:"发票备注："}},[i("Input",{attrs:{value:"备注",type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入发票备注"},model:{value:t.formInline.remark,callback:function(e){t.$set(t.formInline,"remark",e)},expression:"formInline.remark"}})],1):t._e(),i("Button",{staticClass:"ok-btn",attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("确定")])],1)],1),i("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"订单详情","footer-hide":"",width:"700"},model:{value:t.orderShow,callback:function(e){t.orderShow=e},expression:"orderShow"}},[t.orderShow?i("orderDetall",{attrs:{orderId:t.orderId},on:{detall:t.detall}}):t._e()],1)],1)}),[],!1,null,"48d9a032",null));e.default=_.exports},"9b3c":function(t,e,i){}}]);