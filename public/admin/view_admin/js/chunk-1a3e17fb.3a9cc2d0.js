(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1a3e17fb"],{"0a16":function(t,e,r){},"0a1e":function(t,e,r){},"0fc4":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return a}));var n=r("b6bd");function i(){return Object(n.a)({url:"erp/config",method:"get"})}function a(t){return Object(n.a)({url:"product/import_erp_product",method:"post",data:t})}},"10f8":function(t,e,r){"use strict";var n=r("6c36");r.n(n).a},"150a":function(t,e,r){"use strict";r.r(e);var n=r("6112"),i=r("a6b9"),a=r("f8b7");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new T(n||[]);return i(o,"_invoke",{value:D(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",v="suspendedYield",h="executing",_="completed",y={};function g(){}function b(){}function w(){}var I={};d(I,l,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x($([])));C&&C!==r&&n.call(C,l)&&(I=C);var k=w.prototype=g.prototype=Object.create(I);function j(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,a,s,l){var c=p(t[i],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,l)}),(function(t){r("throw",t,s,l)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function D(e,r,n){var i=m;return function(a,o){if(i===h)throw Error("Generator is already running");if(i===_){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?_:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=_,n.method="throw",n.arg=c.arg)}}}function E(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return b.prototype=w,i(k,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},j(O.prototype),d(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new O(f(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(k),d(k,u,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function l(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){l(a,n,i,o,s,"next",t)}function s(t){l(a,n,i,o,s,"throw",t)}o(void 0)}))}}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={name:"orderDetails",filters:{invoiceType:function(t){return 1==t?"电子普通发票":"纸质专用发票"},invoiceHeaderType:function(t){return 1==t?"个人":"企业"}},data:function(){var t;return u(u(u(u(u(u(u(u(u(u(t={loading:!1,modal2:!1,isShow:0,img:"https://test.pro.wuht.net/uploads/attach/2022/04/18/11ea015ba627836f564c667c1d53fe2a.jpg"},"modal2",!1),"modals",!1),"grid",{xl:8,lg:8,md:12,sm:24,xs:24}),"result",[]),"logisticsCon",{}),"columns1",[{title:"商品编码",render:function(t,e){return t("div",e.row.productInfo.spec_type?e.row.productInfo.attrInfo.code:e.row.productInfo.code)}},{title:"商品信息",slot:"product",minWidth:400},{title:"售价",key:"sum_price"},{title:"实付金额",key:"truePrice"},{title:"数量",key:"cart_num"},{title:"小计",render:function(t,e){return t("div",(e.row.truePrice*e.row.cart_num).toFixed(2))}}]),"columns2",[{title:"订单ID",key:"oid",minWidth:40},{title:"操作记录",key:"change_message",minWidth:280},{title:"操作时间",key:"change_time",minWidth:100}]),"columnSplit",[{title:"订单号",key:"order_id",minWidth:100},{title:"商品信息",slot:"product",minWidth:250},{title:"发货信息",slot:"deliveryInfo",minWidth:100},{title:"操作",slot:"action",minWidth:90}]),"columns3",[{title:"商品ID",key:"product_id",minWidth:40},{title:"图片",slot:"product",minWidth:60},{title:"商品名称",key:"store_name",minWidth:100},{title:"核销数",key:"writeoff_num",minWidth:40},{title:"核销时间",key:"add_time",minWidth:280},{title:"核销人员",key:"writeoff_name",minWidth:100}]),"offRecordList",[]),u(u(u(u(t,"recordData",[]),"splitList",[]),"activeName","detail"),"orderData",{})},props:{orderDatalist:Object,orderId:Number,rowActive:Object,formType:{type:Number,default:0},openErp:{type:Boolean,default:!1}},watch:{orderDatalist:function(t){this.orderData=t.orderInfo,this.getList(this.formType?t.orderInfo.id:t.orderInfo.store_order_id),this.formType&&this.getSplitOrder(t.orderInfo.id),2==t.orderInfo.shipping_type&&2==t.orderInfo.status&&(this.showWhiteOff=!0,this.getWriteoffRecord())},orderData:function(t){var e=this;t&&t.custom_form&&t.custom_form.length&&t.custom_form.forEach((function(t){if(t.value)return e.isShow=1}))}},mounted:function(){var t=this;this.orderData&&this.orderData.custom_form&&this.orderData.custom_form.length&&this.orderData.custom_form.forEach((function(e){if(e.value)return t.isShow=1}))},methods:{getWriteoffRecord:function(){var t=this;Object(a.hb)(this.orderId).then((function(e){t.offRecordList=e.data})).catch((function(e){t.$Message.error(e.msg)}))},sendOrder:function(t,e){e?this.$parent.sendOrder(t,e):this.$parent.sendOrder(this.rowActive)},openItemLogistics:function(t){this.modal2=!0,this.getOrderData(t.id)},getOrderData:function(t){var e=this;Object(a.j)(t).then(function(){var t=c(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.result=r.data.result;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},changeMenu:function(t,e,r,n){n?this.$parent.changeMenu(e,r,n):this.$parent.changeMenu(this.rowActive,t)},distribution:function(t,e){e?this.$parent.distribution(t):this.$parent.distribution(this.rowActive)},openLogistics:function(){this.modal2=!0;var t=this.formType?this.orderDatalist.orderInfo.id:this.orderDatalist.orderInfo.store_order_id;this.getOrderData(t)},edit:function(t,e){e?this.$parent.edit(t):this.$parent.edit(this.rowActive)},delivery:function(t,e){e?this.$parent.delivery(t,e):this.$parent.delivery(this.rowActive)},bindWrite:function(t,e){e?this.$parent.bindWrite(t):this.$parent.bindWrite(this.rowActive)},getSplitOrder:function(t){var e=this;Object(i.B)(t,{status:2}).then((function(t){e.splitList=t.data})).catch((function(t){e.$Message.error(t.msg)}))},getList:function(t){var e=this,r={id:t,datas:this.page};this.loading=!0,Object(i.j)(r).then(function(){var t=c(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.recordData=r.data,e.loading=!1;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))}},computed:{}},f=(r("8f4b"),r("10f8"),r("2877")),p=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Drawer",{attrs:{closable:!1,width:"1000","class-name":"order_box",styles:{padding:0}},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[t.orderDatalist?n("div",[n("div",{staticClass:"head"},[n("div",{staticClass:"full"},[n("Icon",{class:{"sale-after":-1===t.orderDatalist.orderInfo._status._type},attrs:{custom:"iconfont icondingdan",size:"60"}}),n("div",{staticClass:"text"},[n("div",{staticClass:"title"},[t._v(t._s(t.orderData.pink_name||"售后订单"))]),n("div",[t._v("订单编号："+t._s(t.orderDatalist.orderInfo.order_id))])]),null==t.rowActive.delete_time?n("div",[t.orderData._status_new>=2?n("Button",{on:{click:function(e){return t.changeMenu("10")}}},[t._v("小票打印")]):t._e(),1!==t.orderData._status_new&&t.formType?n("Dropdown",{on:{"on-click":t.changeMenu}},[n("Button",{attrs:{icon:"ios-more"}}),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[1!==t.orderData._status_new||3===t.orderData._status_new&&t.orderData.use_integral>0&&t.orderData.use_integral>=t.orderData.back_integral?n("DropdownItem",{attrs:{name:"4"}},[t._v("订单备注\n                  ")]):t._e(),(0==t.orderData.refund_type||1==t.orderData.refund_type||5==t.orderData.refund_type)&&1==t.orderData.paid&&2!==t.orderData.refund_status&&parseFloat(t.orderData.pay_price)>0&&(!t.rowActive.split.length||t.rowActive.split.length&&1==t.orderData._status._type)?n("DropdownItem",{attrs:{disabled:t.openErp,name:"5"}},[t._v("立即退款\n                  ")]):t._e(),4===t.orderData._status_new?n("DropdownItem",{attrs:{disabled:t.openErp,name:"8"}},[t._v("已收货")]):t._e(),t.orderData.paid?n("DropdownItem",{attrs:{name:"12"}},[t._v("打印配货单")]):t._e()],1)],1):t._e()],1):t._e()],1),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("订单状态")]),t.formType?n("div",{staticClass:"value1"},[n("span",{domProps:{innerHTML:t._s(t.orderData.status_name.status_name)}}),!t.orderData.is_all_refund&&t.orderData.refund.length?n("span",[t._v(",部分退款中")]):t._e(),t.orderData.is_all_refund&&t.orderData.refund.length&&6!=t.orderData.refund_type?n("span",[t._v(",退款中")]):t._e()]):n("div",[1==t.orderData.refund_type?n("div",{staticClass:"value1"},[t._v("\n                  仅退款\n                ")]):2==t.orderData.refund_type?n("div",{staticClass:"value1"},[t._v("\n                  退货退款\n                ")]):3==t.orderData.refund_type?n("div",{staticClass:"value1"},[t._v("\n                  拒绝退款\n                ")]):4==t.orderData.refund_type?n("div",{staticClass:"value1"},[t._v("\n                  商品待退货\n                ")]):5==t.orderData.refund_type?n("div",{staticClass:"value1"},[t._v("\n                  退货待收货\n                ")]):6==t.orderData.refund_type?n("div",{staticClass:"value2"},[t._v("\n                  已退款\n                ")]):t._e()])]),n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("实际支付")]),n("div",[t._v("\n                ¥"+t._s(t.orderDatalist.orderInfo.paid>0?t.orderDatalist.orderInfo.pay_price:0)+"\n              ")])]),t.formType?n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("支付方式")]),n("div",[t._v(t._s(t.orderDatalist.orderInfo._status._payType||"-"))])]):n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("退款件数")]),n("div",[t._v(t._s(t.orderDatalist.orderInfo.total_num||0))])]),t.formType?n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("支付时间")]),n("div",[t._v(t._s(t.orderDatalist.orderInfo._pay_time||"-"))])]):n("li",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("退款时间")]),n("div",[t._v(t._s(t.orderDatalist.orderInfo._refund_time||"-"))])])])]),n("Tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("TabPane",{attrs:{label:"订单信息",name:"detail"}},[t.formType?t._e():n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("退款信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("退款原因：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_reason||"-")+"\n                  ")])]),parseFloat(t.orderDatalist.orderInfo.refund_price)?n("li",{staticClass:"item"},[n("div",[t._v("退款金额：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(parseFloat(t.orderDatalist.orderInfo.refund_price)||0)+"\n                  ")])]):t._e(),parseFloat(t.orderDatalist.orderInfo.back_integral)?n("li",{staticClass:"item"},[n("div",[t._v("退回积分：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(parseFloat(t.orderDatalist.orderInfo.back_integral)||"-")+"\n                  ")])]):t._e(),n("li",{staticClass:"item"},[n("div",[t._v("退款说明：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_explain||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("退款凭证：")]),n("div",{staticClass:"value"},t._l(t.orderDatalist.orderInfo.refund_img,(function(t,e){return n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e,staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"img"}]})])})),0)])])]),!t.formType&&t.orderDatalist.orderInfo.refund_express_name?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("退货物流信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("物流公司：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_express_name||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("物流单号：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_express||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("联系电话：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_phone||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("退货说明：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refund_goods_explain||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("退货凭证：")]),n("div",{staticClass:"value"},t._l(t.orderDatalist.orderInfo.refund_goods_img,(function(t,e){return n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e,staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"img"}]})])})),0)])])]):t._e(),n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("用户信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("用户UID：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.userInfo.uid?t.orderDatalist.userInfo.uid:"游客")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("用户昵称：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.userInfo.uid?t.orderDatalist.userInfo.nickname:"游客")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("绑定电话：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.userInfo.phone||"-")+"\n                  ")])])])]),0==t.orderDatalist.orderInfo.product_type?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("收货信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    收货人："+t._s(t.orderDatalist.orderInfo.real_name||"-")+"\n                  ")])])]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    收货电话："+t._s(t.orderDatalist.orderInfo.user_phone||"-")+"\n                  ")])])]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    收货地址："+t._s(t.orderDatalist.orderInfo.user_address||"-")+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.fictitious_content&&1!=t.orderDatalist.orderInfo.cartInfo[0].product_type?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("虚拟发货")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.fictitious_content)+"\n                  ")])])])]):t._e(),1==t.orderDatalist.orderInfo.cartInfo[0].product_type?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("卡密发货")]),t.orderDatalist.orderInfo.virtual.length?n("div",t._l(t.orderDatalist.orderInfo.virtual,(function(e,r){return n("div",{key:r,staticClass:"list"},[n("div",{staticClass:"item"},[n("div",[t._v("卡号"+t._s(r+1)+"：")]),n("div",{staticClass:"value"},[t._v(t._s(e.card_no))])]),n("div",{staticClass:"item"},[n("div",[t._v("密码"+t._s(r+1)+"：")]),n("div",{staticClass:"value"},[t._v(t._s(e.card_pwd))])])])})),0):n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.virtual_info||"-")+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.supplierInfo?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("供应商信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("供应商：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.supplierInfo.supplier_name?t.orderDatalist.orderInfo.supplierInfo.name:"游客")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("供应商姓名：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.supplierInfo.name?t.orderDatalist.orderInfo.supplierInfo.name:"游客")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("联系方式：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.supplierInfo.phone||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("供应商邮箱：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.supplierInfo.email||"-")+"\n                  ")])])])]):t._e(),n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("订单信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("创建时间：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo._add_time||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("商品总数：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.total_num||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("商品总价：")]),n("div",{staticClass:"value"},[t._v("\n                    ￥"+t._s(t.orderDatalist.orderInfo.total_price||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("优惠券金额：")]),n("div",{staticClass:"value"},[t._v("\n                    ￥"+t._s(t.orderDatalist.orderInfo.coupon_price||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("积分抵扣：")]),n("div",{staticClass:"value"},[t._v("\n                    ￥"+t._s(t.orderDatalist.orderInfo.deduction_price||0)+"\n                  ")])]),parseFloat(t.orderDatalist.orderInfo.use_integral)?n("li",{staticClass:"item"},[n("div",[t._v("使用积分：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(parseFloat(t.orderDatalist.orderInfo.use_integral))+"\n                  ")])]):t._e(),n("li",{staticClass:"item"},[n("div",[t._v("支付邮费：")]),n("div",{staticClass:"value"},[t._v("\n                    ￥"+t._s(t.orderDatalist.orderInfo.pay_postage||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("会员商品优惠：")]),n("div",{staticClass:"value"},[t._v("\n                    ￥"+t._s(t.orderDatalist.orderInfo.vip_true_price||0)+"\n                  ")])]),2===t.orderDatalist.orderInfo.shipping_type&&0===t.orderDatalist.orderInfo.refund_status&&1===t.orderDatalist.orderInfo.paid?n("li",{staticClass:"item"},[n("div",[t._v("门店名称：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo._store_name||"-")+"\n                  ")])]):t._e(),2===t.orderDatalist.orderInfo.shipping_type&&0===t.orderDatalist.orderInfo.refund_status&&1===t.orderDatalist.orderInfo.paid?n("li",{staticClass:"item"},[n("div",[t._v("核销码：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.verify_code||"-")+"\n                  ")])]):t._e(),n("li",{staticClass:"item"},[n("div",[t._v("推广人：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.userInfo.spread_name)+"/ID:"+t._s(t.orderDatalist.userInfo.spread_uid)+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("支付时间：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo._pay_time||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("支付方式：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo._status._payType||"-")+"\n                  ")])]),t.orderDatalist.orderInfo.store_order_sn?n("li",{staticClass:"item"},[n("div",[t._v("原订单号：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.store_order_sn)+"\n                  ")])]):t._e(),t._l(t.orderDatalist.orderInfo.promotions_detail,(function(e,r){return n("li",{key:r,staticClass:"item"},[n("div",[t._v(t._s(e.title)+"：")]),n("div",{staticClass:"value"},[t._v("\n                    -￥"+t._s(parseFloat(e.promotions_price).toFixed(2))+"\n                  ")])])}))],2)]),"express"===t.orderDatalist.orderInfo.delivery_type?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("物流信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("快递公司：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.delivery_name||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("快递单号：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.delivery_id)),n("span",{staticClass:"logisticsLook",on:{click:t.openLogistics}},[t._v("查询")])])])])]):t._e(),"send"===t.orderDatalist.orderInfo.delivery_type?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("配送信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("送货人姓名：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.delivery_name||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("送货人电话：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.delivery_id||"-")+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.custom_form.length&&t.isShow?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("自定义留言")]),n("ul",{staticClass:"list"},t._l(t.orderDatalist.orderInfo.custom_form,(function(e,r){return e.value&&-1==["uploadPicture","dateranges"].indexOf(e.name)||e.value.length&&-1!=["uploadPicture","dateranges"].indexOf(e.name)?n("li",{key:r,staticClass:"item"},[n("div",{staticClass:"txtVal"},[t._v(t._s(e.titleConfig.value)+"：")]),"dateranges"===e.name?n("div",{staticClass:"value"},[t._v(t._s(e.value[0]+"/"+e.value[1]))]):"uploadPicture"===e.name?n("div",{staticClass:"value"},t._l(e.value,(function(t,e){return n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e,staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"img"}]})])})),0):n("div",{staticClass:"value"},[t._v(t._s(e.value||"-"))])]):t._e()})),0)]):t._e(),t.orderDatalist.orderInfo.mark?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("买家留言")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.mark||"-")+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.remark?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("订单备注")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("备注：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.remark||"-")+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.refuse_reason?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("拒绝退款原因")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.refuse_reason)+"\n                  ")])])])]):t._e(),t.orderDatalist.orderInfo.invoice?n("div",{staticClass:"section"},[n("div",{staticClass:"title"},[t._v("发票信息")]),n("ul",{staticClass:"list"},[n("li",{staticClass:"item"},[n("div",[t._v("发票类型：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t._f("invoiceType")(t.orderDatalist.orderInfo.invoice.type))+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("抬头类型：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t._f("invoiceHeaderType")(t.orderDatalist.orderInfo.invoice.header_type))+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("发票抬头：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.name||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("税号：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.duty_number||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("邮箱：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.email||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("开户银行：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.bank||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("企业地址：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.address||"-")+"\n                  ")])]),n("li",{staticClass:"item"},[n("div",[t._v("企业电话：")]),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.orderDatalist.orderInfo.invoice.drawer_phone||"-")+"\n                  ")])])])]):t._e()]),n("TabPane",{attrs:{label:"商品信息",name:"product"}},[n("Table",{attrs:{columns:t.columns1,data:t.orderDatalist.orderInfo.cartInfo,"highlight-row":""},scopedSlots:t._u([{key:"product",fn:function(e){var r=e.row;return[n("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[n("div",{staticClass:"product"},[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:r.productInfo.attrInfo?r.productInfo.attrInfo.image:r.productInfo.image,expression:"\n                          row.productInfo.attrInfo\n                            ? row.productInfo.attrInfo.image\n                            : row.productInfo.image\n                        "}]})]),n("div",{staticClass:"title"},[n("div",{staticClass:"line2"},[r.is_gift?n("span",{staticClass:"font-color-red"},[t._v("[赠品]")]):t._e(),t._v(t._s(r.productInfo.store_name)+" | "+t._s(r.productInfo.attrInfo?r.productInfo.attrInfo.suk:"")+"\n                      ")])])]),n("div",{attrs:{slot:"content"},slot:"content"},[n("div",[r.is_gift?n("p",{staticClass:"font-color-red"},[t._v("[赠品]")]):t._e(),n("p",[t._v(t._s(r.productInfo.store_name))]),n("p",[t._v(t._s(r.productInfo.attrInfo?r.productInfo.attrInfo.suk:""))])])])])]}}],null,!1,1781246725)})],1),n("TabPane",{attrs:{label:"订单记录",name:"record"}},[n("Table",{attrs:{columns:t.columns2,data:t.recordData,loading:t.loading,"no-data-text":"暂无数据","highlight-row":"","no-filtered-data-text":"暂无筛选结果"}})],1),n("TabPane",{attrs:{label:"发货记录",name:"recordList"}},[n("Table",{attrs:{columns:t.columnSplit,data:t.splitList,loading:t.loading,"no-data-text":"暂无数据","highlight-row":"","no-filtered-data-text":"暂无筛选结果"},scopedSlots:t._u([{key:"product",fn:function(e){var r=e.row;return[n("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[t._l(r._info,(function(e,r){return n("div",{staticClass:"product productTime"},[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.image:e.cart_info.productInfo.image,expression:"\n                          j.cart_info.productInfo.attrInfo\n                            ? j.cart_info.productInfo.attrInfo.image\n                            : j.cart_info.productInfo.image\n                        "}]})]),n("div",{staticClass:"title"},[n("div",{staticClass:"line2"},[e.cart_info.is_gift?n("span",{staticClass:"font-color-red"},[t._v("[赠品]")]):t._e(),t._v("\n                        "+t._s(e.cart_info.productInfo.store_name)+" | "+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:"")+"\n                      ")])])])})),n("div",{attrs:{slot:"content"},slot:"content"},t._l(r._info,(function(e,r){return n("div",{key:r},[e.cart_info.is_gift?n("p",{staticClass:"font-color-red"},[t._v("[赠品]")]):t._e(),n("p",[t._v(t._s(e.cart_info.productInfo.store_name))]),n("p",[t._v(t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),n("p",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.sum_price+" x "+e.cart_info.cart_num))])])})),0)],2)]}},{key:"deliveryInfo",fn:function(e){var r=e.row;return[r.add_time?n("div",[n("span",[t._v("创建时间：")]),t._v(t._s(r.add_time))]):t._e(),r.delivery_time?n("div",[n("span",[t._v("发货时间：")]),t._v(t._s(r.delivery_time))]):t._e(),"express"==r.delivery_type||"send"==r.delivery_type||"fictitious"==r.delivery_type?n("div",[t._v("\n                  发货方式：\n                  "),"express"==r.delivery_type?n("span",[t._v("物流发货")]):t._e(),"send"==r.delivery_type?n("span",[t._v("送货")]):t._e(),"fictitious"==r.delivery_type?n("span",[t._v("虚拟发货")]):t._e()]):t._e(),r.delivery_name?n("div",[t._v("\n                  配  送  人："+t._s(r.delivery_name)+"\n                ")]):t._e(),r.delivery_id?n("div",{on:{click:function(e){return t.openItemLogistics(r)}}},[t._v("\n                  快递单号："),n("span",{staticStyle:{color:"#1890ff",cursor:"pointer"}},[t._v(t._s(r.delivery_id))])]):t._e()]}},{key:"action",fn:function(e){var r=e.row;return e.index,[n("a",{attrs:{disabled:t.openErp},on:{click:function(e){return t.changeMenu("3",r)}}},[t._v("订单记录")]),n("Divider",{attrs:{type:"vertical"}}),[n("Dropdown",{attrs:{transfer:!0},on:{"on-click":function(e){return t.changeMenu("",r,e,1)}}},[n("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n                      更多\n                      "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1===r._status&&0===r.paid&&"offline"===r.pay_type,expression:"\n                          row._status === 1 &&\n                          row.paid === 0 &&\n                          row.pay_type === 'offline'\n                        "}],ref:"ones",attrs:{disabled:t.openErp,name:"1"}},[t._v("立即支付")]),n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:r._status>=2,expression:"row._status >= 2"}],attrs:{name:"10"}},[t._v("小票打印")]),n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:1!==r._status||3===r._status&&r.use_integral>0&&r.use_integral>=r.back_integral,expression:"\n                          row._status !== 1 ||\n                          (row._status === 3 &&\n                            row.use_integral > 0 &&\n                            row.use_integral >= row.back_integral)\n                        "}],attrs:{name:"4"}},[t._v("订单备注")]),n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:2!=r.refund_type&&4!=r.refund_type&&6!=r.refund_type&&1==r.paid&&2!==r.refund_status&&parseFloat(r.pay_price)>0&&(null==r.split||0==r.split.length),expression:"\n                          row.refund_type != 2 &&\n                          row.refund_type != 4 &&\n                          row.refund_type != 6 &&\n                          row.paid == 1 &&\n                          row.refund_status !== 2 &&\n                          parseFloat(row.pay_price) > 0 &&\n                          (row.split == null || row.split.length == 0)\n                        "}],attrs:{disabled:t.openErp,name:"5"}},[t._v("立即退款")]),n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:2==r.refund_type,expression:"row.refund_type == 2"}],attrs:{disabled:t.openErp,name:"55"}},[t._v("同意退货")]),n("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:4===r._status&&!r.split.length,expression:"row._status === 4 && !row.split.length"}],attrs:{disabled:t.openErp,name:"8"}},[t._v("已收货")]),1==r.is_del?n("DropdownItem",{attrs:{disabled:t.openErp,name:"9"}},[t._v("删除订单")]):t._e()],1)],1)]]}}],null,!1,3479473550)})],1),t.offRecordList.length?n("TabPane",{attrs:{label:"核销记录",name:"writeOff",index:1}},[n("Table",{attrs:{columns:t.columns3,data:t.offRecordList,loading:t.loading,"no-data-text":"暂无数据","highlight-row":"","no-filtered-data-text":"暂无筛选结果"},scopedSlots:t._u([{key:"product",fn:function(t){var e=t.row;return[n("div",{staticClass:"product "},[n("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"row.image"}]})])])]}}],null,!1,3448605298)})],1):t._e()],1)],1):t._e()]),n("Modal",{staticClass:"order_box2",attrs:{scrollable:"",title:"物流查询",width:"350"},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[t.orderDatalist||Object.keys(t.logisticsCon).length?n("div",{staticClass:"logistics acea-row row-top"},[n("div",{staticClass:"logistics_img"},[n("img",{attrs:{src:r("bd9b")}})]),n("div",{staticClass:"logistics_cent"},[n("span",[t._v("物流公司："+t._s(t.logisticsCon.delivery_id?t.logisticsCon.delivery_name:t.orderDatalist.orderInfo.delivery_name))]),n("span",[t._v("物流单号："+t._s(t.logisticsCon.delivery_id?t.logisticsCon.delivery_id:t.orderDatalist.orderInfo.delivery_id))])])]):t._e(),n("div",{staticClass:"acea-row row-column-around trees-coadd"},[n("div",{staticClass:"scollhide"},[n("Timeline",t._l(t.result,(function(e,r){return n("TimelineItem",{key:r},[n("p",{staticClass:"time",domProps:{textContent:t._s(e.time)}}),n("p",{staticClass:"content",domProps:{textContent:t._s(e.status)}})])})),1)],1)])])],1)}),[],!1,null,"5f709288",null).exports,m=r("d616"),v=r("417c"),h=r("61f8"),_=r("6683"),y=r("a464"),g=r("a716"),b=r("0fc4");function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(){I=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof _?e:_,o=Object.create(a.prototype),s=new T(n||[]);return i(o,"_invoke",{value:D(t,r,s)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",h={};function _(){}function y(){}function g(){}var b={};c(b,o,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x($([])));C&&C!==r&&n.call(C,o)&&(b=C);var k=g.prototype=_.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,a,o,s){var l=d(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==w(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function D(e,r,n){var i=f;return function(a,o){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var c=d(e,r,n);if("normal"===c.type){if(i=n.done?v:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function E(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(w(e)+" is not iterable")}return y.prototype=g,i(k,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},j(O.prototype),c(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new O(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(k),c(k,l,"Generator"),c(k,o,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function x(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function C(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){x(a,n,i,o,s,"next",t)}function s(t){x(a,n,i,o,s,"throw",t)}o(void 0)}))}}var k={name:"",components:{Template:n.default,Supplierdetails:p,orderSend:m.a,orderRemark:h.a,Distribution:_.a,expandRow:y.a,userDetails:g.a,orderRecord:v.a},props:{orderList:{type:Array,default:[]},columns:{type:Array,default:[]},page:{type:Object,default:{}}},data:function(){return{delfromData:{},FromData:{},rowActive:{},orderDatalist:null,orderId:0,remind:1,openErp:!1}},computed:{},watch:{},created:function(){this.getErpConfig()},mounted:function(){},methods:{pageChange:function(t){this.page.pageNum=t,this.$emit("getList")},limitChange:function(t){this.page.pageSize=t,this.$emit("getList")},getErpConfig:function(){var t=this;Object(b.a)().then((function(e){t.openErp=e.data.open_erp})).catch((function(e){t.$Message.error(e.msg)}))},submitFail:function(t){this.status=0,this.$emit("getList"),1!=this.orderConNum?this.getData(this.orderId,1):this.$refs.detailss.getSplitOrder(this.orderConId),t&&this.$emit("changeGetTabs")},showUserInfo:function(t){this.$refs.userDetails.modals=!0,this.$refs.userDetails.activeName="info",this.$refs.userDetails.getDetails(t.uid)},btnClick:function(t){var e=this,r={supplier_id:t.supplier_id,id:t.id};Object(i.b)(r).then(function(){var t=C(I().mark((function t(r){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$Message.success(r.msg),e.$emit("getList");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(r){e.$Message.error(r.msg),"400"==r.status&&(t.remind=2)}))},distributionInfo:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){distributionInfo(t).then(function(){var t=C(I().mark((function t(e){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch()})),changeMenu:function(t,e,r){var n=this;switch(this.orderId=t.id,this.orderConId=t.pid>0?t.pid:t.id,this.orderConNum=r,e){case"1":this.delfromData={title:"修改立即支付",url:"/supplier/order/pay_offline/".concat(t.id),method:"post",ids:""},this.$modalSure(this.delfromData).then((function(e){n.$Message.success(e.msg),n.getData(t.id,1),n.$emit("getList")})).catch((function(t){n.$Message.error(t.msg)}));break;case"2":this.rowActive=t,this.getData(t.id);break;case"3":this.$refs.record.modals=!0,this.$refs.record.getList(t.id);break;case"4":this.$refs.remarks.formValidate.remark=t.remark,this.$refs.remarks.modals=!0,this.$emit("getList");break;case"5":this.getOnlyRefundData(t.id,t.refund_type);break;case"55":this.getRefundData(t.id,t.refund_type);break;case"7":this.distributionInfo(t.id);break;case"9":this.getRefundData(t.id,t.refund_type);break;case"8":this.delfromData={title:"修改确认收货",url:"/supplier/order/take/".concat(t.id),method:"put",ids:""},this.$modalSure(this.delfromData).then((function(e){n.$Message.success(e.msg),n.$emit("changeGetTabs"),n.$emit("getList"),r?n.$refs.detailss.getSplitOrder(t.pid):n.getData(t.id,1)})).catch((function(t){n.$Message.error(t.msg)}));break;case"12":var i=this.$router.resolve({path:"/admin/supplier/order/distribution",query:{id:t.id,status:1}});window.open(i.href,"_blank");break;case"10":this.delfromData={title:"立即打印订单",info:"您确认打印此订单吗?",url:"/supplier/order/print/".concat(t.id),method:"get",ids:""},this.$modalSure(this.delfromData).then((function(t){n.$Message.success(t.msg),n.$emit("getList")})).catch((function(t){n.$Message.error(t.msg)}))}},getOnlyRefundData:function(t,e){var r=this;this.$modalForm(Object(i.l)(t)).then((function(){r.$emit("getList"),r.$emit("changeGetTabs"),r.$refs.detailss.modals=!1}))},getRefundData:function(t,e){var r=this;this.delfromData={title:"是否立即退货退款",url:"/supplier/refund/agree/".concat(t),method:"get"},this.$modalSure(this.delfromData).then((function(t){r.$Message.success(t.msg),r.$emit("getList"),r.$emit("changeGetTabs")})).catch((function(t){r.$Message.error(t.msg)}))},getData:function(t,e){var r=this;Object(i.v)(t).then(function(){var t=C(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e||(r.$refs.detailss.modals=!0),r.$refs.detailss.activeName="detail",r.orderDatalist=n.data,r.orderDatalist.orderInfo.refund_reason_wap_img)try{r.orderDatalist.orderInfo.refund_reason_wap_img=JSON.parse(r.orderDatalist.orderInfo.refund_reason_wap_img)}catch(t){r.orderDatalist.orderInfo.refund_reason_wap_img=[]}case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){r.$Message.error(t.msg)}))}}},j=(r("6c85"),Object(f.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Table",{ref:"table",staticClass:"orderData ivu-mt",attrs:{columns:t.columns,data:t.orderList,"highlight-row":"","no-data-text":"暂无数据","no-filtered-data-text":"暂无筛选结果"},scopedSlots:t._u([{key:"order_id",fn:function(e){var n=e.row;return[1===n.is_del&&null==n.delete_time?r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600,content:"用户已删除"}},[r("span",{staticStyle:{color:"#ed4014",display:"block"}},[t._v(t._s(n.order_id))])]):r("span",{staticStyle:{color:"#2d8cf0",display:"block",cursor:"pointer"},on:{click:function(e){return t.changeMenu(n,"2")}}},[t._v(t._s(n.order_id))])]}},{key:"info",fn:function(e){var n=e.row;return[r("Tooltip",{attrs:{theme:"dark","max-width":"300",delay:600}},[t._l(n._info,(function(e,n){return r("div",{key:n,staticClass:"tabBox"},[r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.image:e.cart_info.productInfo.image,expression:"\n                val.cart_info.productInfo.attrInfo\n                  ? val.cart_info.productInfo.attrInfo.image\n                  : val.cart_info.productInfo.image\n              "}]})]),r("span",{staticClass:"tabBox_tit line1"},[e.cart_info.is_gift?r("span",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),t._v("\n            "+t._s(e.cart_info.productInfo.store_name+" | ")+"\n            "+t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:"")+"\n          ")])])})),r("div",{attrs:{slot:"content"},slot:"content"},t._l(n._info,(function(e,n){return r("div",{key:n},[e.cart_info.is_gift?r("p",{staticClass:"font-color-red"},[t._v("赠品")]):t._e(),r("p",[t._v(t._s(e.cart_info.productInfo.store_name))]),r("p",[t._v(t._s(e.cart_info.productInfo.attrInfo?e.cart_info.productInfo.attrInfo.suk:""))]),r("p",{staticClass:"tabBox_pice"},[t._v(t._s("￥"+e.cart_info.sum_price+" x "+e.cart_info.cart_num))])])})),0)],2)]}},{key:"nickname",fn:function(e){var n=e.row;return[r("a",{on:{click:function(e){return t.showUserInfo(n)}}},[t._v(t._s(n.nickname))]),null!=n.delete_time?r("span",{staticStyle:{color:"#ed4014"}},[t._v("\n        (已注销)")]):t._e()]}},{key:"statusName",fn:function(e){var n=e.row;return[r("Tag",{directives:[{name:"show",rawName:"v-show",value:3==n.status,expression:"row.status == 3"}],attrs:{color:"default",size:"medium"}},[t._v(t._s(n.status_name.status_name))]),r("Tag",{directives:[{name:"show",rawName:"v-show",value:4==n.status,expression:"row.status == 4"}],attrs:{color:"orange",size:"medium"}},[t._v(t._s(n.status_name.status_name))]),r("Tag",{directives:[{name:"show",rawName:"v-show",value:1==n.status||2==n.status,expression:"row.status == 1 || row.status == 2"}],attrs:{color:"orange",size:"medium"}},[t._v(t._s(n.status_name.status_name))]),r("Tag",{directives:[{name:"show",rawName:"v-show",value:0==n.status,expression:"row.status == 0"}],attrs:{color:"red",size:"medium"}},[t._v(t._s(n.status_name.status_name))]),!n.is_all_refund&&n.refund.length?r("Tag",{attrs:{color:"orange",size:"medium"}},[t._v("部分退款中")]):t._e(),n.is_all_refund&&n.refund.length&&6!=n.refund_type?r("Tag",{attrs:{color:"orange",size:"medium"}},[t._v("退款中")]):t._e(),n.status_name.pics?r("div",{staticClass:"pictrue-box",attrs:{size:"medium"}},t._l(n.status_name.pics||[],(function(t,e){return r("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:e},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticClass:"pictrue mr10",attrs:{src:t}})])})),0):t._e()]}},{key:"refund_type",fn:function(e){var n=e.row;return[1==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("仅退款")]):t._e(),2==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货退款")]):t._e(),3==n.refund_type?r("Tag",{attrs:{color:"red",size:"medium"}},[t._v("拒绝退款")]):t._e(),4==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("商品待退货")]):t._e(),5==n.refund_type?r("Tag",{attrs:{color:"blue",size:"medium"}},[t._v("退货待收货")]):t._e(),6==n.refund_type?r("Tag",{attrs:{color:"green",size:"medium"}},[t._v("已退款")]):t._e()]}},{key:"action",fn:function(e){var n=e.row;return[r("a",{on:{click:function(e){return t.changeMenu(n,"2")}}},[t._v("详情")]),"未发货"===n.status_name.status_name?r("Divider",{attrs:{type:"vertical"}}):t._e(),"未发货"===n.status_name.status_name?r("a",{on:{click:function(e){return t.btnClick(n)}}},[t._v("提醒发货")]):t._e()]}},{key:"refund_action",fn:function(e){var n=e.row;return[r("a",[t._v("立即退款")]),r("Divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(e){return t.actionFn(n)}}},[t._v("详情")])]}}])},[r("template",{slot:"refundStatus"},[r("Tag",{attrs:{type:"border",color:"red"}},[t._v("仅退款")])],1)],2),r("div",{staticClass:"acea-row row-right page"},[r("Page",{attrs:{total:t.page.total,current:t.page.pageNum,"show-elevator":"","show-total":"","page-size":t.page.pageSize,"show-sizer":""},on:{"on-change":t.pageChange,"on-page-size-change":t.limitChange}})],1),r("Supplierdetails",{ref:"detailss",attrs:{orderDatalist:t.orderDatalist,orderId:t.orderId,"row-active":t.rowActive,openErp:t.openErp,formType:1}}),r("Distribution",{ref:"distshow"}),r("order-send",{ref:"send"}),r("order-remark",{ref:"remarks",attrs:{orderId:t.orderId},on:{submitFail:t.submitFail}}),r("user-details",{ref:"userDetails",attrs:{fromType:"order"}}),r("order-record",{ref:"record"})],1)}),[],!1,null,"5c1ef517",null).exports),O=r("2f62"),D=r("0b65");function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(){L=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof _?e:_,o=Object.create(a.prototype),s=new T(n||[]);return i(o,"_invoke",{value:j(t,r,s)}),o}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",h={};function _(){}function y(){}function g(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,I=w&&w(w($([])));I&&I!==r&&n.call(I,o)&&(b=I);var x=g.prototype=_.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,a,o,s){var l=d(t[i],t,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==E(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return r("throw",t,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function j(e,r,n){var i=f;return function(a,o){if(i===m)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=O(s,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var c=d(e,r,n);if("normal"===c.type){if(i=n.done?v:p,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(E(e)+" is not iterable")}return y.prototype=g,i(x,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:y,configurable:!0}),y.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},C(k.prototype),c(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new k(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},C(x),c(x,l,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function S(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function T(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){S(a,n,i,o,s,"next",t)}function s(t){S(a,n,i,o,s,"throw",t)}o(void 0)}))}}function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var M={name:"",components:{tabList:j,expandRow:y.a},props:{},data:function(){return{options:D.a,ruleValidate:{},formValidate:{status:"",pay_type:"",data:"",field_key:"",real_name:"",type:"",supplier_id:""},page:{total:0,pageNum:1,pageSize:10},grid:{xl:7,lg:12,md:24,sm:24,xs:24},timeVal:[],supplierName:[],typeList:[{label:"普通订单",val:"0"},{label:"秒杀订单",val:"1"},{label:"拼团订单",val:"3"},{label:"砍价订单",val:"2"},{label:"预售商品",val:"8"}],payList:[{label:"微信支付",val:"1"},{label:"支付宝支付",val:"4"},{label:"余额支付",val:"2"},{label:"线下支付",val:"3"}],cityList:[{value:"beijing",label:"北京市"},{value:"shanghai",label:"上海市"},{value:"shenzhen",label:"深圳市"},{value:"hangzhou",label:"杭州市"}],orderList:[],columns:[{type:"expand",width:30,render:function(t,e){return t(y.a,{props:{row:e.row}})}},{title:"订单号",align:"center",slot:"order_id",minWidth:180},{title:"商品信息",slot:"info",minWidth:330,align:"left"},{title:"供应商名称",key:"supplier_name",minWidth:80},{title:"用户信息",slot:"nickname",minWidth:100},{title:"实际支付",key:"pay_price",minWidth:70},{title:"支付方式",key:"pay_type_name",minWidth:110},{title:"支付时间",key:"_pay_time",minWidth:150},{title:"订单类型",key:"pink_name",minWidth:120},{title:"订单状态",slot:"statusName",minWidth:120},{title:"操作",slot:"action",fixed:"right",minWidth:170,align:"left"}]}},computed:P(P({},Object(O.e)("admin/layout",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:96},labelPosition:function(){return this.isMobile?"top":"right"}}),watch:{},created:function(){this.getSupplierList(),this.getList()},mounted:function(){},methods:{onchangeTime:function(t){"00:00:00"===t[1].slice(-8)?(t[1]=t[1].slice(0,-8)+"23:59:59",this.timeVal=t):this.timeVal=t,this.formValidate.data=this.timeVal[0]?this.timeVal.join("-"):""},changeGetTabs:function(){this.$refs.table.getTabs()},getSupplierList:function(){var t=this;Object(i.o)().then(function(){var e=T(L().mark((function e(r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.supplierName=r.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},getList:function(){var t=this,e={status:this.formValidate.status,pay_type:this.formValidate.pay_type,data:this.formValidate.data,field_key:this.formValidate.field_key,real_name:this.formValidate.real_name,supplier_id:this.formValidate.supplier_id,type:this.formValidate.type,page:this.page.pageNum,limit:this.page.pageSize};Object(i.h)(e).then(function(){var e=T(L().mark((function e(r){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.orderList=r.data.data,t.page.total=r.data.count;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.$Message.error(e.msg)}))},reset:function(){this.page.pageNum=1,this.formValidate={},this.formValidate.data="",this.timeVal=[],this.getList()},search:function(){this.page.pageNum=1,this.getList()}}},F=(r("2ec8"),Object(f.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":"",padding:10}},[r("Form",{ref:"formValidate",staticClass:"formValidate mt20",attrs:{rules:t.ruleValidate,model:t.formValidate,"label-width":t.labelWidth,"label-position":t.labelPosition}},[r("Row",[r("Col",t._b({},"Col",t.grid,!1),[r("FormItem",{attrs:{label:"时间选择："}},[r("Date-picker",{staticClass:"input-add mr20",attrs:{editable:!1,clearable:!0,value:t.timeVal,format:"yyyy/MM/dd HH:mm:ss",type:"datetimerange",placement:"bottom-start",placeholder:"选择时间",options:t.options},on:{"on-change":t.onchangeTime}})],1)],1),r("Col",t._b({staticClass:"colhsh"},"Col",t.grid,!1),[r("FormItem",{attrs:{label:"供应商："}},[r("Select",{staticClass:"input-add",attrs:{clearable:"",clearable:""},model:{value:t.formValidate.supplier_id,callback:function(e){t.$set(t.formValidate,"supplier_id",e)},expression:"formValidate.supplier_id"}},t._l(t.supplierName,(function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.supplier_name))])})),1)],1)],1),r("Col",t._b({},"Col",t.grid,!1),[r("FormItem",{attrs:{label:"订单类型："}},[r("Select",{staticClass:"input-add",attrs:{clearable:"",clearable:""},model:{value:t.formValidate.type,callback:function(e){t.$set(t.formValidate,"type",e)},expression:"formValidate.type"}},t._l(t.typeList,(function(e){return r("Option",{key:e.label,attrs:{value:e.val}},[t._v(t._s(e.label))])})),1)],1)],1)],1),r("Row",[r("Col",t._b({},"Col",t.grid,!1),[r("FormItem",{attrs:{label:"订单搜索："}},[r("Input",{staticClass:"input-add",attrs:{placeholder:"请输入","element-id":"name",clearable:"",maxlength:"20"},model:{value:t.formValidate.real_name,callback:function(e){t.$set(t.formValidate,"real_name",e)},expression:"formValidate.real_name"}},[r("Select",{staticStyle:{width:"70px"},attrs:{slot:"prepend",clearable:"","default-label":"全部"},slot:"prepend",model:{value:t.formValidate.field_key,callback:function(e){t.$set(t.formValidate,"field_key",e)},expression:"formValidate.field_key"}},[r("Option",{attrs:{value:"all"}},[t._v("全部")]),r("Option",{attrs:{value:"order_id"}},[t._v("订单号")]),r("Option",{attrs:{value:"uid"}},[t._v("用户UID")]),r("Option",{attrs:{value:"real_name"}},[t._v("用户姓名")]),r("Option",{attrs:{value:"user_phone"}},[t._v("用户电话")]),r("Option",{attrs:{value:"title"}},[t._v("商品名称")]),r("Option",{attrs:{value:"total_num"}},[t._v("商品件数")])],1)],1)],1)],1),r("Col",t._b({},"Col",t.grid,!1),[r("FormItem",{attrs:{label:"订单状态："}},[r("Select",{staticClass:"input-add",attrs:{clearable:"",clearable:""},model:{value:t.formValidate.status,callback:function(e){t.$set(t.formValidate,"status",e)},expression:"formValidate.status"}},[r("Option",{attrs:{value:"0"}},[t._v("未支付")]),r("Option",{attrs:{value:"1"}},[t._v("未发货")]),r("Option",{attrs:{value:"2"}},[t._v("待收货")]),r("Option",{attrs:{value:"3"}},[t._v("待评价")]),r("Option",{attrs:{value:"4"}},[t._v("交易完成")]),r("Option",{attrs:{value:"-4"}},[t._v("已删除")])],1)],1)],1),r("Col",{attrs:{span:"10"}},[r("FormItem",{attrs:{label:"支付方式：",prop:"real_name","label-for":"real_name"}},[r("Select",{staticClass:"input-add",attrs:{clearable:"",clearable:""},model:{value:t.formValidate.pay_type,callback:function(e){t.$set(t.formValidate,"pay_type",e)},expression:"formValidate.pay_type"}},t._l(t.payList,(function(e){return r("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.label))])})),1),r("Button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),r("Button",{staticClass:"clickBtn",on:{click:t.reset}},[t._v("重置")])],1)],1),r("Col")],1)],1)],1),r("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[r("tabList",{attrs:{orderList:t.orderList,columns:t.columns,page:t.page},on:{getList:t.getList,changeGetTabs:t.changeGetTabs}})],1)],1)}),[],!1,null,"08b88d41",null));e.default=F.exports},"21c4":function(t,e,r){},"2ec8":function(t,e,r){"use strict";var n=r("83b0");r.n(n).a},6621:function(t,e,r){"use strict";var n=r("0a16");r.n(n).a},6683:function(t,e,r){"use strict";var n=r("73f5"),i={name:"distshow",data:function(){var t=this;return{id:0,currentid:0,modals:!1,loading:!1,orderList:[],total:0,formValidate:{page:1,limit:15,keywords:"",id:0},columns:[{title:"选择",width:60,align:"center",render:function(e,r){var i=r.row.id,a=!1;a=t.currentid===i;var o=t;return e("div",[e("Radio",{props:{value:a},on:{"on-change":function(){o.currentid=i,Object(n.e)({oid:t.id,store_id:r.row.id}).then((function(e){t.$Message.success(e.msg),t.modals=!1,o.currentid=0,t.$parent.getList(),t.$parent.closeDetail()})).catch((function(e){t.modals=!1,t.$Message.error(e.msg),o.currentid=0}))}}})])}},{title:"ID",key:"id",minWidth:50},{title:"门店图片",slot:"image",minWidth:80},{title:"门店名称",key:"name",minWidth:80},{title:"联系电话",key:"phone",minWidth:80},{title:"门店地址",key:"address",ellipsis:!0,minWidth:150},{title:"营业时间",key:"day_time",minWidth:120},{title:"营业状态",key:"status_name",minWidth:80}]}},props:{},mounted:function(){},methods:{userSearchs:function(){this.formValidate.page=1,this.getList(this.id)},getList:function(t){var e=this;this.id=t,this.formValidate.id=t,this.loading=!0,Object(n.d)(this.formValidate).then((function(t){e.orderList=t.data.list,e.total=t.data.count,e.loading=!1}))},cancel:function(t){this.modals=!1},putRemark:function(){},pageChange:function(t){this.formValidate.page=t,this.getList(this.id)}}},a=(r("6621"),r("2877")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"请选择门店",width:"850"},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[r("div",{staticClass:"table"},[r("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":100},nativeOn:{submit:function(t){t.preventDefault()}}},[r("FormItem",{attrs:{label:"用户名称："}},[r("Input",{staticStyle:{width:"300px"},attrs:{search:"","enter-button":"",placeholder:"请输入用户名称/电话/地址"},on:{"on-search":t.userSearchs},model:{value:t.formValidate.keywords,callback:function(e){t.$set(t.formValidate,"keywords",e)},expression:"formValidate.keywords"}})],1)],1),r("Table",{ref:"table",staticClass:"mt25",attrs:{columns:t.columns,data:t.orderList,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},scopedSlots:t._u([{key:"image",fn:function(t){var e=t.row;return t.index,[r("img",{attrs:{src:e.image}})]}}])}),r("div",{staticClass:"acea-row row-right page"},[r("Page",{attrs:{total:t.total,current:t.formValidate.page,"show-elevator":"","show-total":"","page-size":t.formValidate.limit},on:{"on-change":t.pageChange}})],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"})])}),[],!1,null,"5a6a1979",null);e.a=o.exports},"6c36":function(t,e,r){},"6c85":function(t,e,r){"use strict";var n=r("21c4");r.n(n).a},"83b0":function(t,e,r){},"8f4b":function(t,e,r){"use strict";var n=r("b7d3");r.n(n).a},"9cc7":function(t,e,r){"use strict";var n=r("0a1e");r.n(n).a},a464:function(t,e,r){"use strict";var n={name:"table-expand",props:{row:Object}},i=(r("9cc7"),r("2877")),a=Object(i.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tdinfo"},[r("Row",{staticClass:"expand-row"},[r("Col",{attrs:{span:"8"}},[r("span",{staticClass:"expand-key"},[t._v("商品总价：")]),r("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.total_price)}})]),r("Col",{attrs:{span:"8"}},[r("span",{staticClass:"expand-key"},[t._v("下单时间：")]),r("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.add_time)}})]),r("Col",{attrs:{span:"8"}},[r("span",{staticClass:"expand-key"},[t._v("推广人：")]),r("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.spread_nickname?t.row.spread_nickname:"无")}})])],1),r("Row",[r("Col",{attrs:{span:"8"}},[r("span",{staticClass:"expand-key"},[t._v("用户备注：")]),r("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.mark?t.row.mark:"无")}})]),r("Col",{attrs:{span:"8"}},[r("span",{staticClass:"expand-key"},[t._v("商家备注：")]),r("span",{staticClass:"expand-value",domProps:{textContent:t._s(t.row.remark?t.row.remark:"无")}})])],1)],1)}),[],!1,null,"b662070e",null);e.a=a.exports},a496:function(t,e,r){},a6b9:function(t,e,r){"use strict";r.d(e,"J",(function(){return i})),r.d(e,"n",(function(){return a})),r.d(e,"a",(function(){return o})),r.d(e,"y",(function(){return s})),r.d(e,"z",(function(){return l})),r.d(e,"o",(function(){return c})),r.d(e,"h",(function(){return u})),r.d(e,"b",(function(){return d})),r.d(e,"v",(function(){return f})),r.d(e,"c",(function(){return p})),r.d(e,"B",(function(){return m})),r.d(e,"j",(function(){return v})),r.d(e,"l",(function(){return h})),r.d(e,"w",(function(){return _})),r.d(e,"r",(function(){return y})),r.d(e,"s",(function(){return g})),r.d(e,"u",(function(){return b})),r.d(e,"x",(function(){return w})),r.d(e,"K",(function(){return I})),r.d(e,"t",(function(){return x})),r.d(e,"k",(function(){return C})),r.d(e,"m",(function(){return k})),r.d(e,"q",(function(){return j})),r.d(e,"A",(function(){return O})),r.d(e,"g",(function(){return D})),r.d(e,"f",(function(){return E})),r.d(e,"p",(function(){return L})),r.d(e,"i",(function(){return S})),r.d(e,"G",(function(){return T})),r.d(e,"I",(function(){return $})),r.d(e,"d",(function(){return P})),r.d(e,"H",(function(){return N})),r.d(e,"e",(function(){return M})),r.d(e,"C",(function(){return F})),r.d(e,"D",(function(){return V})),r.d(e,"E",(function(){return z})),r.d(e,"L",(function(){return R})),r.d(e,"F",(function(){return A}));var n=r("b6bd");function i(t){return Object(n.a)({url:"supplier/supplier",method:"get",params:t})}function a(t){return Object(n.a)({url:"/supplier/supplier/".concat(t),method:"get"})}function o(t){return Object(n.a)({url:"supplier/supplier",method:"post",data:t})}function s(t,e){return Object(n.a)({url:"supplier/supplier/".concat(t),method:"put",data:e})}function l(t,e){return Object(n.a)({url:"/supplier/supplier/set_status/".concat(t,"/").concat(e),method:"put"})}function c(t){return Object(n.a)({url:"/supplier/list",method:"get",params:t})}function u(t){return Object(n.a)({url:"/supplier/order/list",method:"get",params:t})}function d(t){return Object(n.a)({url:"/supplier/order/deliver_remind/".concat(t.supplier_id,"/").concat(t.id),method:"put"})}function f(t){return Object(n.a)({url:"/supplier/order/info/".concat(t),method:"get"})}function p(t){return Object(n.a)({url:"/supplier/order/distribution_info",method:"get",params:{ids:t}})}function m(t,e){return Object(n.a)({url:"/supplier/order/split_order/"+t,method:"get",params:e})}function v(t){return Object(n.a)({url:"/supplier/order/status/".concat(t.id),method:"get",params:t.datas})}function h(t){return Object(n.a)({url:"/supplier/order/refund/".concat(t),method:"get"})}function _(t){return Object(n.a)({url:"/supplier/refund/list",method:"get",params:t})}function y(t){return Object(n.a)({url:"/supplier/home/header",method:"get",params:t})}function g(t){return Object(n.a)({url:"/supplier/home/order",method:"get",params:t})}function b(t){return Object(n.a)({url:"/supplier/home/order_channel",method:"get",params:t})}function w(t){return Object(n.a)({url:"/supplier/home/order_type",method:"get",params:t})}function I(t){return Object(n.a)({url:"/supplier/supplier/login/".concat(t),method:"get"})}function x(t){return Object(n.a)({url:"/supplier/home/supplier",method:"get",params:t})}function C(t){return Object(n.a)({url:"/supplier/refund/detail/".concat(t),method:"get"})}function k(t){return Object(n.a)({url:"/supplier/refund/refund/".concat(t),method:"get"})}function j(t){return Object(n.a)({url:"/supplier/order/no_refund/".concat(t),method:"get"})}function O(t){return Object(n.a)({url:"/supplier/order/refund_integral/".concat(t),method:"get"})}function D(t){return Object(n.a)({url:"/supplier/order/distribution/".concat(t),method:"get"})}function E(t){return Object(n.a)({url:"/supplier/apply/list",method:"get",params:t})}function L(t){return Object(n.a)({url:"/supplier/apply/verify/form/".concat(t),method:"get"})}function S(t){return Object(n.a)({url:"/supplier/apply/mark/form/".concat(t),method:"get"})}function T(t){return Object(n.a)({url:"/supplier/flowing_water/list",method:"get",params:t})}function $(t,e){return Object(n.a)({url:"/supplier/flowing_water/mark/".concat(t),method:"put",params:e})}function P(t){return Object(n.a)({url:"/export/supplierWaterExport",method:"get",params:t})}function N(t){return Object(n.a)({url:"/supplier/flowing_water/fund_record",method:"get",params:t})}function M(t){return Object(n.a)({url:"/export/supplierWaterRecord",method:"get",params:t})}function F(t){return Object(n.a)({url:"/supplier/extract/list",method:"get",params:t})}function V(t,e){return Object(n.a)({url:"/supplier/extract/mark/".concat(t),method:"post",data:e})}function z(t,e){return Object(n.a)({url:"/supplier/extract/verify/".concat(t),method:"post",data:e})}function R(t){return Object(n.a)({url:"/supplier/extract/transfer/".concat(t),method:"get"})}function A(t){return Object(n.a)({url:"/supplier/flowing_water/fund_record_info",method:"get",params:t})}},add5:function(t,e,r){var n;window,n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}({"./src/index.js":function(t,e,r){"use strict";r.r(e),r("./src/sass/index.scss");var n=r("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=n),e.default=n},"./src/js/browser.js":function(t,e,r){"use strict";r.r(e);var n={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!n.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};e.default=n},"./src/js/functions.js":function(t,e,r){"use strict";r.r(e),r.d(e,"addWrapper",(function(){return o})),r.d(e,"capitalizePrint",(function(){return s})),r.d(e,"collectStyles",(function(){return l})),r.d(e,"addHeader",(function(){return u})),r.d(e,"cleanUp",(function(){return d})),r.d(e,"isRawHTML",(function(){return f}));var n=r("./src/js/modal.js"),i=r("./src/js/browser.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return'<div style="font-family:'+e.font+" !important; font-size: "+e.font_size+' !important; width:100%;">'+t+"</div>"}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function l(t,e){for(var r="",n=(document.defaultView||window).getComputedStyle(t,""),i=0;i<n.length;i++)(-1!==e.targetStyles.indexOf("*")||-1!==e.targetStyle.indexOf(n[i])||c(e.targetStyles,n[i]))&&n.getPropertyValue(n[i])&&(r+=n[i]+":"+n.getPropertyValue(n[i])+";");return r+"max-width: "+e.maxWidth+"px !important; font-size: "+e.font_size+" !important;"}function c(t,e){for(var r=0;r<t.length;r++)if("object"===a(e)&&-1!==e.indexOf(t[r]))return!0;return!1}function u(t,e){var r=document.createElement("div");if(f(e.header))r.innerHTML=e.header;else{var n=document.createElement("h1"),i=document.createTextNode(e.header);n.appendChild(i),n.setAttribute("style",e.headerStyle),r.appendChild(n)}t.insertBefore(r,t.childNodes[0])}function d(t){t.showModal&&n.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var e="mouseover";(i.default.isChrome()||i.default.isFirefox())&&(e="focus"),window.addEventListener(e,(function r(){window.removeEventListener(e,r),t.onPrintDialogClose();var n=document.getElementById(t.frameId);n&&n.remove()}))}function f(t){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(t)}},"./src/js/html.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/functions.js"),i=r("./src/js/print.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={print:function(t,e){var r,o="object"===a(r=t.printable)&&r&&(r instanceof HTMLElement||1===r.nodeType)?t.printable:document.getElementById(t.printable);o?(t.printableElement=function t(e,r){for(var i=e.cloneNode(),a=Array.prototype.slice.call(e.childNodes),o=0;o<a.length;o++)if(-1===r.ignoreElements.indexOf(a[o].id)){var s=t(a[o],r);i.appendChild(s)}switch(r.scanStyles&&1===e.nodeType&&i.setAttribute("style",Object(n.collectStyles)(e,r)),e.tagName){case"SELECT":i.value=e.value;break;case"CANVAS":i.getContext("2d").drawImage(e,0,0)}return i}(o,t),t.header&&Object(n.addHeader)(t.printableElement,t),i.default.send(t,e)):window.console.error("Invalid HTML element id: "+t.printable)}}},"./src/js/image.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/functions.js"),i=r("./src/js/print.js"),a=r("./src/js/browser.js");e.default={print:function(t,e){t.printable.constructor!==Array&&(t.printable=[t.printable]),t.printableElement=document.createElement("div"),t.printable.forEach((function(e){var r=document.createElement("img");if(r.setAttribute("style",t.imageStyle),r.src=e,a.default.isFirefox()){var n=r.src;r.src=n}var i=document.createElement("div");i.appendChild(r),t.printableElement.appendChild(i)})),t.header&&Object(n.addHeader)(t.printableElement,t),i.default.send(t,e)}}},"./src/js/init.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/browser.js"),i=r("./src/js/modal.js"),a=r("./src/js/pdf.js"),o=r("./src/js/html.js"),s=r("./src/js/raw-html.js"),l=r("./src/js/image.js"),c=r("./src/js/json.js");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=["pdf","html","image","json","raw-html"];e.default={init:function(){var t={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(t){throw t},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},e=arguments[0];if(void 0===e)throw new Error("printJS expects at least 1 attribute.");switch(u(e)){case"string":t.printable=encodeURI(e),t.fallbackPrintable=t.printable,t.type=arguments[1]||t.type;break;case"object":for(var r in t.printable=e.printable,t.fallbackPrintable=void 0!==e.fallbackPrintable?e.fallbackPrintable:t.printable,t.fallbackPrintable=t.base64?"data:application/pdf;base64,".concat(t.fallbackPrintable):t.fallbackPrintable,t)"printable"!==r&&"fallbackPrintable"!==r&&(t[r]=void 0!==e[r]?e[r]:t[r]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+u(e))}if(!t.printable)throw new Error("Missing printable information.");if(!t.type||"string"!=typeof t.type||-1===d.indexOf(t.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");t.showModal&&i.default.show(t),t.onLoadingStart&&t.onLoadingStart();var f=document.getElementById(t.frameId);f&&f.parentNode.removeChild(f);var p=document.createElement("iframe");switch(n.default.isFirefox()?p.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):p.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),p.setAttribute("id",t.frameId),"pdf"!==t.type&&(p.srcdoc="<html><head><title>"+t.documentTitle+"</title>",t.css&&(Array.isArray(t.css)||(t.css=[t.css]),t.css.forEach((function(t){p.srcdoc+='<link rel="stylesheet" href="'+t+'">'}))),p.srcdoc+="</head><body></body></html>"),t.type){case"pdf":if(n.default.isIE())try{window.open(t.fallbackPrintable,"_blank").focus(),t.onIncompatibleBrowser()}catch(e){t.onError(e)}finally{t.showModal&&i.default.close(),t.onLoadingEnd&&t.onLoadingEnd()}else a.default.print(t,p);break;case"image":l.default.print(t,p);break;case"html":o.default.print(t,p);break;case"raw-html":s.default.print(t,p);break;case"json":c.default.print(t,p)}}}},"./src/js/json.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/functions.js"),i=r("./src/js/print.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default={print:function(t,e){if("object"!==a(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map((function(e){return{field:"object"===a(e)?e.field:e,displayName:"object"===a(e)?e.displayName:e,columnSize:"object"===a(e)&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}})),t.printableElement=document.createElement("div"),t.header&&Object(n.addHeader)(t.printableElement,t),t.printableElement.innerHTML+=function(t){var e=t.printable,r=t.properties,i='<table style="border-collapse: collapse; width: 100%;">';t.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var a=0;a<r.length;a++)i+='<th style="width:'+r[a].columnSize+";"+t.gridHeaderStyle+'">'+Object(n.capitalizePrint)(r[a].displayName)+"</th>";i+="</tr>",t.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var o=0;o<e.length;o++){i+="<tr>";for(var s=0;s<r.length;s++){var l=e[o],c=r[s].field.split(".");if(c.length>1)for(var u=0;u<c.length;u++)l=l[c[u]];else l=l[r[s].field];i+='<td style="width:'+r[s].columnSize+t.gridStyle+'">'+l+"</td>"}i+="</tr>"}return i+"</tbody></table>"}(t),i.default.send(t,e)}}},"./src/js/modal.js":function(t,e,r){"use strict";r.r(e);var n={show:function(t){var e=document.createElement("div");e.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),e.setAttribute("id","printJS-Modal");var r=document.createElement("div");r.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),r.appendChild(i);var a=document.createElement("span");a.setAttribute("class","printSpinner"),r.appendChild(a);var o=document.createTextNode(t.modalMessage);r.appendChild(o),e.appendChild(r),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("printClose").addEventListener("click",(function(){n.close()}))},close:function(){var t=document.getElementById("printJS-Modal");t&&t.parentNode.removeChild(t)}};e.default=n},"./src/js/pdf.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/print.js"),i=r("./src/js/functions.js");function a(t,e,r){var i=new window.Blob([r],{type:"application/pdf"});i=window.URL.createObjectURL(i),e.setAttribute("src",i),n.default.send(t,e)}e.default={print:function(t,e){if(t.base64){var r=Uint8Array.from(atob(t.printable),(function(t){return t.charCodeAt(0)}));a(t,e,r)}else{t.printable=/^(blob|http|\/\/)/i.test(t.printable)?t.printable:window.location.origin+("/"!==t.printable.charAt(0)?"/"+t.printable:t.printable);var n=new window.XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("error",(function(){Object(i.cleanUp)(t),t.onError(n.statusText,n)})),n.addEventListener("load",(function(){if(-1===[200,201].indexOf(n.status))return Object(i.cleanUp)(t),void t.onError(n.statusText,n);a(t,e,n.response)})),n.open("GET",t.printable,!0),n.send()}}}},"./src/js/print.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/browser.js"),i=r("./src/js/functions.js"),a={send:function(t,e){document.getElementsByTagName("body")[0].appendChild(e);var r=document.getElementById(t.frameId);r.onload=function(){if("pdf"!==t.type){var e=r.contentWindow||r.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(t.printableElement),"pdf"!==t.type&&t.style){var i=document.createElement("style");i.innerHTML=t.style,e.head.appendChild(i)}var a=e.getElementsByTagName("img");a.length>0?function(t){var e=t.map((function(t){if(t.src&&t.src!==window.location.href)return function(t){return new Promise((function(e){!function r(){t&&void 0!==t.naturalWidth&&0!==t.naturalWidth&&t.complete?e():setTimeout(r,500)}()}))}(t)}));return Promise.all(e)}(Array.from(a)).then((function(){return o(r,t)})):o(r,t)}else n.default.isFirefox()?setTimeout((function(){return o(r,t)}),1e3):o(r,t)}}};function o(t,e){try{if(t.focus(),n.default.isEdge()||n.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}catch(t){e.onError(t)}finally{n.default.isFirefox()&&(t.style.visibility="hidden",t.style.left="-1px"),Object(i.cleanUp)(e)}}e.default=a},"./src/js/raw-html.js":function(t,e,r){"use strict";r.r(e);var n=r("./src/js/print.js");e.default={print:function(t,e){t.printableElement=document.createElement("div"),t.printableElement.setAttribute("style","width:100%"),t.printableElement.innerHTML=t.printable,n.default.send(t,e)}}},"./src/sass/index.scss":function(t,e,r){},0:function(t,e,r){t.exports=r("./src/index.js")}}).default},t.exports=n()},b7d3:function(t,e,r){},d5d4:function(t,e,r){"use strict";var n=r("a496");r.n(n).a},d616:function(t,e,r){"use strict";var n=r("2f62"),i=r("add5"),a=r.n(i),o=r("f8b7");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){l=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,o=Object.create(a.prototype),s=new T(n||[]);return i(o,"_invoke",{value:D(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",v="suspendedYield",h="executing",_="completed",y={};function g(){}function b(){}function w(){}var I={};d(I,o,(function(){return this}));var x=Object.getPrototypeOf,C=x&&x(x($([])));C&&C!==r&&n.call(C,o)&&(I=C);var k=w.prototype=g.prototype=Object.create(I);function j(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,a,o,l){var c=p(t[i],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==s(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,o,l)}),(function(t){r("throw",t,o,l)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function D(e,r,n){var i=m;return function(a,o){if(i===h)throw Error("Generator is already running");if(i===_){if("throw"===a)throw o;return{value:t,done:!0}}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===m)throw i=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=p(e,r,n);if("normal"===c.type){if(i=n.done?_:v,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=_,n.method="throw",n.arg=c.arg)}}}function E(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(s(e)+" is not iterable")}return b.prototype=w,i(k,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},j(O.prototype),d(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new O(f(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(k),d(k,u,"Generator"),d(k,o,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(t){c(a,n,i,o,s,"next",t)}function s(t){c(a,n,i,o,s,"throw",t)}o(void 0)}))}}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p={name:"orderSend",props:{orderId:Number,status:Number,pay_type:String},data:function(){var t=this;return{productType:0,orderStatus:0,splitSwitch:!1,formItem:{type:"1",express_record_type:"1",delivery_name:"",delivery_id:"",express_temp_id:"",to_name:"",to_tel:"",to_addr:"",sh_delivery:"",fictitious_content:"",station_type:1,delivery_type:"1",cargo_weight:0,remark:"",mark:"",server_type:"",day_type:0,pickup_time:["",""]},modals:!1,express:[],expressTemp:[],deliveryList:[],temp:{pic:""},export_open:!0,manyFormValidate:[],stopSubmit:!1,header:[{type:"selection",width:60,align:"center"},{title:"商品信息",slot:"image",width:200,align:"center"},{title:"规格",slot:"value",align:"center",minWidth:120},{title:"商品售价",slot:"sellPrice",align:"center",minWidth:100},{title:"商品优惠价",slot:"price",align:"center",minWidth:100},{title:"总数",key:"cart_num",align:"center",minWidth:80},{title:"待发数量",key:"surplus_num",align:"center",width:180,render:function(e,r){return e("div",[e("InputNumber",{props:{min:1,max:r.row.numShow,value:r.row.surplus_num||1},on:{"on-change":function(e){r.row.surplus_num=e||1,t.manyFormValidate[r.index]=r.row,t.selectData.forEach((function(e,n){e.cart_id===r.row.cart_id&&t.selectData.splice(n,1,r.row)}))}}})])}}],selectData:[],sheetInfo:{},serviceTypeList:[],kuaidiExpress:[],sendPrice:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(n.e)("admin/order",["splitOrder"])),methods:{printImg:function(t){a()({printable:t,type:"image",documentTitle:"快递信息",style:"img{\n          width: 100%;\n          height: 476px;\n        }"})},changeDelivery:function(t){},selectOne:function(t){this.selectData=t},changeModal:function(t){t||this.cancel()},changeSplitStatus:function(t){var e=this;t&&Object(o.Z)(this.orderId).then((function(t){var r=t.data;r.forEach((function(t){t.numShow=t.surplus_num})),e.manyFormValidate=r}))},changeRadio:function(t){switch(this.$refs.formItem.resetFields(),t){case"1":this.formItem.delivery_name="",this.formItem.delivery_id="",this.formItem.express_temp_id="",this.formItem.express_record_type="1",this.expressTemp=[];break;case"2":this.formItem.sh_delivery="",this.sheetInfo.self_delivery_status?this.formItem.delivery_type="1":this.formItem.delivery_type="2",this.sheetInfo.dada_delivery_status?this.formItem.station_type=1:this.formItem.station_type=2;break;case"3":this.formItem.fictitious_content=""}},changeExpress:function(t){switch(t){case"2":this.formItem.delivery_name="",this.formItem.express_temp_id="",this.expressTemp=[],this.getList(2);break;case"1":this.formItem.delivery_name="",this.formItem.delivery_id="",this.getList(1)}},reset:function(){this.formItem={type:"1",express_record_type:"1",delivery_name:"",delivery_id:"",express_temp_id:"",to_name:"",to_tel:"",to_addr:"",sh_delivery:"",fictitious_content:"",station_type:1,delivery_type:"1",cargo_weight:0,remark:"",mark:"",server_type:"",day_type:0,pickup_time:["",""]},this.sendPrice=0},getList:function(t){var e=this,r=2===t?1:"";Object(o.k)(r).then(function(){var t=u(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.express=r.data,e.getSheetInfo();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1,e.$Message.error(t.msg)}))},putSend:function(t){var e=this,r={id:this.orderId,datas:this.formItem};if("1"===this.formItem.type&&"2"===this.formItem.express_record_type){if(""===this.formItem.delivery_name)return this.$Message.error("快递公司不能为空");if(""===this.formItem.express_temp_id)return this.$Message.error("电子面单不能为空");if(""===this.formItem.to_name)return this.$Message.error("寄件人姓名不能为空");if(""===this.formItem.to_tel)return this.$Message.error("寄件人电话不能为空");if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.formItem.to_tel))return this.$Message.error("请输入正确的手机号码");if(""===this.formItem.to_addr)return this.$Message.error("寄件人地址不能为空")}if("1"===this.formItem.type&&"1"===this.formItem.express_record_type){if(""===this.formItem.delivery_name)return this.$Message.error("快递公司不能为空");if(""===this.formItem.delivery_id)return this.$Message.error("快递单号不能为空")}if("2"===this.formItem.type){if("1"===this.formItem.delivery_type&&""===this.formItem.sh_delivery)return this.$Message.error("送货人不能为空");if("2"===this.formItem.delivery_type&&this.formItem.cargo_weight<=0)return this.$Message.error("请输入有效的重量")}this.splitSwitch?(r.datas.cart_ids=[],this.selectData.forEach((function(t){r.datas.cart_ids.push({cart_id:t.cart_id,cart_num:t.surplus_num})})),Object(o.ab)(r).then((function(t){e.modals=!1,e.$Message.success(t.msg),e.$emit("submitFail"),e.reset(),e.splitSwitch=!1,t.data.dump.label&&e.printImg(t.data.dump.label)})).catch((function(t){e.$Message.error(t.msg)}))):Object(o.M)(r).then(function(){var t=u(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.modals=!1,e.$Message.success(r.msg),e.splitSwitch=!1,e.$emit("submitFail"),e.reset(),r.data.dump.label&&e.printImg(r.data.dump.label);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$Message.error(t.msg)}))},cancel:function(t){this.modals=!1,this.orderStatus=0,this.splitSwitch=!1,this.selectData=[],this.reset()},expressChange:function(t){var e=this;this.formItem.service_type="";var r=("3"==this.formItem.express_record_type?this.kuaidiExpress:this.express).find((function(e){return e.value===t}));void 0!==r&&(this.serviceTypeList=r.types,1==this.formItem.type&&3==this.formItem.express_record_type&&(this.formItem.service_type=r.types.length?r.types[0]:""),this.formItem.delivery_code=r.code,this.formItem.to_name&&this.formItem.to_addr&&3==this.formItem.express_record_type&&this.watchPrice(),"2"===this.formItem.express_record_type?(this.expressTemp=[],this.formItem.express_temp_id="",Object(o.z)({com:this.formItem.delivery_code}).then((function(t){e.expressTemp=t.data,e.formItem.express_temp_id=t.data.length?t.data[0].temp_id:"",e.temp=e.expressTemp[0],t.data.length||e.$Message.error("请配置你所选快递公司的电子面单")})).catch((function(t){e.$Message.error(t.msg)}))):"3"==this.formItem.express_record_type&&(this.expressTemp=r.list,r.list.length&&(this.formItem.express_temp_id=r.list[0].temp_id,this.temp=r.list[0])))},watchPrice:function(){var t=this;if(3==this.formItem.express_record_type){var e={kuaidicom:this.formItem.delivery_code,send_address:this.formItem.to_addr,orderId:this.orderId,service_type:this.formItem.service_type,cart_ids:[]};this.selectData.forEach((function(t){e.cart_ids.push({cart_id:t.cart_id,cart_num:t.num||t.surplus_num})})),Object(o.G)(e).then((function(e){t.sendPrice=e.data.price,t.deliveryErrorMsg=""})).catch((function(e){t.$Message.error(e.msg),1==t.formItem.type&&(t.deliveryErrorMsg=e.msg)}))}},getCartInfo:function(){var t=this;Object(o.Z)(this.orderId).then((function(e){var r=e.data;r.forEach((function(t){t.numShow=t.surplus_num})),t.manyFormValidate=r,t.productType=r[0].product_type,3==t.productType&&(t.formItem.type="3",t.formItem.fictitious_content="")}))},getDeliveryList:function(){var t=this;Object(o.x)().then((function(e){t.deliveryList=e.data.list})).catch((function(e){t.$Message.error(e.msg)}))},getSheetInfo:function(){var t=this;Object(o.J)().then((function(e){var r=e.data;for(var n in r)r.hasOwnProperty(n)&&(t.formItem[n]=r[n]);t.export_open=void 0===r.export_open||r.export_open,t.export_open||(t.formItem.express_record_type="1"),t.formItem.to_addr=r.to_add,t.sheetInfo=r})).catch((function(e){t.$Message.error(e.msg)}))},shDeliveryChange:function(t){if(t){var e=this.deliveryList.find((function(e){return e.id===t}));this.formItem.sh_delivery_name=e.wx_name,this.formItem.sh_delivery_id=e.phone,this.formItem.sh_delivery_uid=e.uid}},expressTempChange:function(t){this.temp=this.expressTemp.find((function(e){return t===e.temp_id})),void 0===this.temp&&(this.temp={})},preview:function(){if(!this.temp.pic)return this.$Message.warning("请先选择物流公司或者电子面单");this.$refs.viewer.$viewer.show()},getBusineseList:function(){var t=this;Object(o.u)().then((function(e){t.kuaidiExpress=e.data,t.formItem.delivery_name&&t.expressChange(t.formItem.delivery_name)}))}}},m=(r("d5d4"),r("2877")),v=Object(m.a)(p,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Modal",{staticClass:"order_box",attrs:{scrollable:"",title:"订单发送货",closable:!1,width:"1000"},on:{"on-visible-change":t.changeModal},model:{value:t.modals,callback:function(e){t.modals=e},expression:"modals"}},[t.modals?r("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":120},nativeOn:{submit:function(t){t.preventDefault()}}},[r("FormItem",{attrs:{label:"选择类型："}},[r("RadioGroup",{on:{"on-change":t.changeRadio},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},[t.productType?t._e():r("Radio",{attrs:{label:"1"}},[t._v("发货")]),!t.productType&&t.sheetInfo.city_delivery_status?r("Radio",{attrs:{label:"2"}},[t._v("送货")]):t._e(),r("Radio",{attrs:{label:"3"}},[t._v("无需配送")])],1)],1),1==t.formItem.type?r("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.export_open,expression:"export_open"}],attrs:{label:"发货类型："}},[r("RadioGroup",{on:{"on-change":t.changeExpress},model:{value:t.formItem.express_record_type,callback:function(e){t.$set(t.formItem,"express_record_type",e)},expression:"formItem.express_record_type"}},[r("Radio",{attrs:{label:"3"}},[t._v("商家寄件")]),r("Radio",{attrs:{label:"1"}},[t._v("手动填写")]),r("Radio",{attrs:{label:"2"}},[t._v("电子面单打印")])],1)],1):t._e(),["2","3"].includes(t.formItem.express_record_type)&&1==t.formItem.type?[r("FormItem",{attrs:{label:"寄件人姓名："}},[r("Input",{staticClass:"input-add",attrs:{placeholder:"请输入寄件人姓名"},model:{value:t.formItem.to_name,callback:function(e){t.$set(t.formItem,"to_name",e)},expression:"formItem.to_name"}})],1),r("FormItem",{attrs:{label:"寄件人电话："}},[r("Input",{staticClass:"input-add",attrs:{placeholder:"请输入寄件人电话"},model:{value:t.formItem.to_tel,callback:function(e){t.$set(t.formItem,"to_tel",e)},expression:"formItem.to_tel"}})],1),r("FormItem",{attrs:{label:"寄件人地址："}},[r("Input",{staticClass:"input-add",attrs:{placeholder:"请输入寄件人地址"},model:{value:t.formItem.to_addr,callback:function(e){t.$set(t.formItem,"to_addr",e)},expression:"formItem.to_addr"}})],1)]:t._e(),r("div",[1==t.formItem.type?r("FormItem",{attrs:{label:"快递公司：",required:""}},[r("Select",{staticClass:"input-add",attrs:{filterable:"",placeholder:"请选择快递公司"},on:{"on-change":t.expressChange},model:{value:t.formItem.delivery_name,callback:function(e){t.$set(t.formItem,"delivery_name",e)},expression:"formItem.delivery_name"}},t._l(3==t.formItem.express_record_type?t.kuaidiExpress:t.express,(function(e){return r("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.value)+"\n          ")])})),1)],1):t._e(),1==t.formItem.type&&3==t.formItem.express_record_type?r("FormItem",{attrs:{label:"快递业务类型：",required:""}},[r("Select",{staticClass:"input-add",attrs:{filterable:"",placeholder:"请选择业务类型"},on:{"on-change":t.watchPrice},model:{value:t.formItem.service_type,callback:function(e){t.$set(t.formItem,"service_type",e)},expression:"formItem.service_type"}},t._l(t.serviceTypeList,(function(e){return r("Option",{key:e,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])})),1)],1):t._e(),"1"===t.formItem.express_record_type&&1==t.formItem.type?r("FormItem",{attrs:{label:"快递单号：",required:""}},[r("Input",{staticClass:"input-add",attrs:{placeholder:"请输入快递单号"},model:{value:t.formItem.delivery_id,callback:function(e){t.$set(t.formItem,"delivery_id",e)},expression:"formItem.delivery_id"}}),"顺丰速运"==t.formItem.delivery_name?r("div",{staticClass:"trips"},[r("p",[t._v("顺丰请输入单号 :收件人或寄件人手机号后四位，")]),r("p",[t._v("例如：SF000000000000:3941")])]):t._e()],1):t._e(),["2","3"].includes(t.formItem.express_record_type)&&"1"===t.formItem.type?[r("FormItem",{staticClass:"express_temp_id",attrs:{label:"电子面单："}},[r("Select",{staticClass:"input-add",attrs:{placeholder:"请选择电子面单"},on:{"on-change":t.expressTempChange},model:{value:t.formItem.express_temp_id,callback:function(e){t.$set(t.formItem,"express_temp_id",e)},expression:"formItem.express_temp_id"}},t._l(t.expressTemp,(function(e,n){return r("Option",{key:n,attrs:{value:e.temp_id}},[t._v(t._s(e.title)+"\n            ")])})),1),t.formItem.express_temp_id?r("Button",{attrs:{type:"text"},on:{click:t.preview}},[t._v("预览\n          ")]):t._e()],1),3==t.formItem.express_record_type?[r("FormItem",{attrs:{label:"预计寄件金额："}},[r("span",{staticClass:"red"},[t._v(t._s(t.sendPrice))]),r("Button",{attrs:{type:"text",size:"small"},on:{click:t.watchPrice}},[t._v("立即计算")])],1),r("FormItem",{attrs:{label:"取件日期："}},[r("RadioGroup",{model:{value:t.formItem.day_type,callback:function(e){t.$set(t.formItem,"day_type",e)},expression:"formItem.day_type"}},[r("Radio",{attrs:{label:0}},[t._v("今天")]),r("Radio",{attrs:{label:1}},[t._v("明天")]),r("Radio",{attrs:{label:2}},[t._v("后天")])],1)],1),r("FormItem",{attrs:{label:"取件时间："}},[r("TimePicker",{attrs:{type:"timerange",format:"HH:mm",placement:"bottom-end",placeholder:"请选择取件时间"},model:{value:t.formItem.pickup_time,callback:function(e){t.$set(t.formItem,"pickup_time",e)},expression:"formItem.pickup_time"}})],1)]:t._e()]:t._e()],2),r("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.formItem.type,expression:"formItem.type === '2'"}]},[r("FormItem",{attrs:{label:"配送类型："}},[r("RadioGroup",{on:{"on-change":t.changeDelivery},model:{value:t.formItem.delivery_type,callback:function(e){t.$set(t.formItem,"delivery_type",e)},expression:"formItem.delivery_type"}},[t.sheetInfo.self_delivery_status?r("Radio",{attrs:{label:"1"}},[t._v("商家配送")]):t._e(),t.sheetInfo.dada_delivery_status||t.sheetInfo.uu_delivery_status?r("Radio",{attrs:{label:"2"}},[t._v("第三方配送")]):t._e()],1)],1),"1"===t.formItem.delivery_type?r("FormItem",{attrs:{label:"送货人：",required:""}},[r("Select",{staticClass:"input-add",attrs:{placeholder:"请选择送货人"},on:{"on-change":t.shDeliveryChange},model:{value:t.formItem.sh_delivery,callback:function(e){t.$set(t.formItem,"sh_delivery",e)},expression:"formItem.sh_delivery"}},t._l(t.deliveryList,(function(e,n){return r("Option",{key:n,attrs:{value:e.id}},[t._v(t._s(e.wx_name)+"（"+t._s(e.phone)+"）\n          ")])})),1)],1):t._e(),"2"===t.formItem.delivery_type?r("div",[r("FormItem",{attrs:{label:"配送平台："}},[r("RadioGroup",{model:{value:t.formItem.station_type,callback:function(e){t.$set(t.formItem,"station_type",e)},expression:"formItem.station_type"}},[t.sheetInfo.dada_delivery_status?r("Radio",{attrs:{label:1}},[t._v("达达")]):t._e(),t.sheetInfo.uu_delivery_status?r("Radio",{attrs:{label:2}},[t._v("uu跑腿")]):t._e()],1)],1),r("FormItem",{attrs:{label:"包裹重量：",required:""}},[r("InputNumber",{staticClass:"input-add",attrs:{min:0},model:{value:t.formItem.cargo_weight,callback:function(e){t.$set(t.formItem,"cargo_weight",e)},expression:"formItem.cargo_weight"}}),r("span",{staticStyle:{"margin-left":"10px"}},[t._v("kg")])],1),r("FormItem",{attrs:{label:"配送备注："}},[r("Input",{staticClass:"input-add",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"配送备注"},model:{value:t.formItem.remark,callback:function(e){t.$set(t.formItem,"remark",e)},expression:"formItem.remark"}})],1),r("FormItem",{attrs:{label:"备注："}},[r("Input",{staticClass:"input-add",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注"},model:{value:t.formItem.mark,callback:function(e){t.$set(t.formItem,"mark",e)},expression:"formItem.mark"}})],1)],1):t._e()],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"3"===t.formItem.type,expression:"formItem.type === '3'"}]},[r("FormItem",{attrs:{label:"备注："}},[r("Input",{staticClass:"input-add",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注"},model:{value:t.formItem.fictitious_content,callback:function(e){t.$set(t.formItem,"fictitious_content",e)},expression:"formItem.fictitious_content"}})],1)],1),t.splitOrder>1&&"3"!==t.formItem.type?r("div",[r("FormItem",{attrs:{label:"分单发货："}},[r("i-switch",{attrs:{size:"large",disabled:8===t.orderStatus},on:{"on-change":t.changeSplitStatus},model:{value:t.splitSwitch,callback:function(e){t.splitSwitch=e},expression:"splitSwitch"}},[r("span",{attrs:{slot:"open"},slot:"open"},[t._v("开启")]),r("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])]),r("div",{staticClass:"trips"},[r("p",[t._v("\n            可选择表格中的商品单独发货，发货后会生成新的订单且不能撤回，请谨慎操作！\n          ")])]),t.splitSwitch&&t.manyFormValidate.length?r("Table",{attrs:{data:t.manyFormValidate,columns:t.header,border:""},on:{"on-selection-change":t.selectOne},scopedSlots:t._u([{key:"image",fn:function(e){var n=e.row;return e.index,[r("div",{staticClass:"product-data"},[r("img",{staticClass:"image",attrs:{src:n.cart_info.productInfo.image}}),r("div",{staticClass:"line2"},[t._v("\n                "+t._s(n.cart_info.productInfo.store_name)+"\n              ")])])]}},{key:"value",fn:function(e){var n=e.row;return e.index,[r("div",[t._v(t._s(n.cart_info.productInfo.attrInfo.suk))])]}},{key:"sellPrice",fn:function(e){var n=e.row;return e.index,[r("div",[t._v("\n              "+t._s(n.cart_info.productInfo.attrInfo?n.cart_info.productInfo.attrInfo.price:n.cart_info.productInfo.price)+"\n            ")])]}},{key:"price",fn:function(e){var n=e.row;return e.index,[r("div",[r("div",[t._v(t._s(n.cart_info.truePrice))])])]}}],null,!1,1129913299)}):t._e()],1)],1):t._e()],2):t._e(),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:t.cancel}},[t._v("取消")]),t.stopSubmit?r("Button",{attrs:{type:"warning"}},[t._v("存在售后待处理订单")]):r("Button",{attrs:{type:"primary"},on:{click:t.putSend}},[t._v("提交")])],1),r("div",{directives:[{name:"viewer",rawName:"v-viewer"},{name:"show",rawName:"v-show",value:t.temp,expression:"temp"}],ref:"viewer"},[r("img",{staticClass:"display-add",attrs:{src:t.temp.pic}})])],1)}),[],!1,null,"c713abaa",null);e.a=v.exports}}]);